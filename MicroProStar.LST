MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;
                      00002 ; MicroProStar test program
                      00003 ;
                      00004 
                      00005         list      p=18F8722            ; list directive to define processor
                      00006         #include <P18F8722.INC>         ; processor specific variable definitions
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ;  $Id: P18F8722.INC,v 1.4.2.3 2005/10/18 21:44:56 curtiss Exp $
                      00005 ;  MPASM PIC18F8722 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2005 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      02263         LIST
                      00007         errorlevel 2
                      00008         
                      00009 #define MicroProStar
                      00010         
                      00011         Include <Constants.asm>
                      00001 #define         MOVFP   MOVF
                      00002 #define         MOVLR   MOVLB
                      00003 #define         MOVPF   MOVFF
                      00004 #define         ALUSTA  STATUS
                      00005 
  00000200            00006 OFFSET  EQU     0x200           ; For use with the bootloader
                      00007 ;OFFSET EQU     0x0             ; For stand along operation
                      00008 
                      00009 ; ADC channel assignments
                      00010 ;
                      00011 ;       CH      Use
                      00012 ;       0       Vpos monitor
                      00013 ;       1       Gnd
                      00014 ;       2       CH7
                      00015 ;       3       CH6
                      00016 ;       4       Aileron
                      00017 ;       5       Elevator
                      00018 ;       6       Rudder
                      00019 ;       7       Throttle
                      00020 ;       8       Aileron trim
                      00021 ;       9       Elevator trim
                      00022 ;       10      Rudder trim
                      00023 ;       11      Throttle trim
                      00024 ;       12      +5 volt monitor 
                      00025 ;       13      Receiver voltage monitor
                      00026 ;
                      00027 
  00000060            00028 NumAircraft     EQU     D'96'
                      00029 
  00000100            00030 BNK1    EQU     100
  00000200            00031 BNK2    EQU     200
  00000300            00032 BNK3    EQU     300
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000400            00033 BNK4    EQU     400
                      00034 
                      00035 ; Misc constants
  00000190            00036 StickThres      EQU     D'400'
  00000028            00037 AutoTrimOStime  EQU     D'40'
  00002260            00038 VoltageLimit    EQU     D'8800'
                      00039 
                      00040 ; PLL constants
  00000010            00041 HICUR   EQU     10
                      00042 
                      00043 ; Display Line numbers
                      00044 ifdef           LCD52display
                      00045 LINE1      EQU       080
                      00046 LINE2      EQU       0C0
                      00047 LINE3      EQU       0C0
                      00048 CURSORON   EQU       0E
                      00049 CURSOROFF  EQU       0C
                      00050 YPOS       EQU       08
                      00051 YNPOS      EQU       0C
                      00052 NPOS       EQU       0F
                      00053 ACFTPOS    EQU       0D
                      00054 BYTEPOS    EQU       0D
                      00055 PERCENTPOS EQU       0B
                      00056 uSPOS      EQU       09
                      00057 INTPOS     EQU       0B
                      00058 SELCHPOS   EQU       0C
                      00059 CVMPOS     EQU       0B
                      00060 ONTIMEPOS  EQU       0B
                      00061 CH53POS    EQU       08
                      00062 CH50POS    EQU       0E
                      00063 CH72POS    EQU       0D
                      00064 CH50MHZPOS EQU       04
                      00065 CH72MHZPOS EQU       04
                      00066 TESTCHPOS  EQU       07
                      00067 TESTVALPOS EQU       0C
                      00068 TACHRPMPOS EQU       0B
                      00069 RECVPOS    EQU       0B
                      00070 endif
                      00071 
                      00072 ifdef           MicroProStar
  00000080            00073 LINE1      EQU       080
  00000088            00074 LINE2      EQU       088
  00000088            00075 LINE3      EQU       088
  00000040            00076 LCDRIGHT   EQU       040
  0000000E            00077 CURSORON   EQU       0E
  0000000C            00078 CURSOROFF  EQU       0C
  00000040            00079 YPOS       EQU       040
  00000044            00080 YNPOS      EQU       044
  00000047            00081 NPOS       EQU       047
  00000045            00082 ACFTPOS    EQU       045
  00000045            00083 BYTEPOS    EQU       045
  00000043            00084 PERCENTPOS EQU       043
  00000041            00085 uSPOS      EQU       041
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000043            00086 INTPOS     EQU       043
  00000044            00087 SELCHPOS   EQU       044
  00000043            00088 CVMPOS     EQU       043
  00000043            00089 ONTIMEPOS  EQU       043
  00000040            00090 CH53POS    EQU       040
  00000046            00091 CH50POS    EQU       046
  00000045            00092 CH72POS    EQU       045
  00000004            00093 CH50MHZPOS EQU       04
  00000004            00094 CH72MHZPOS EQU       04
  00000006            00095 TESTCHPOS  EQU       06
  00000044            00096 TESTVALPOS EQU       044
  00000043            00097 TACHRPMPOS EQU       043
  00000043            00098 RECVPOS    EQU       043
                      00099 endif
                      00100 
                      00101 ifdef           SED1230display
                      00102 LINE1      EQU       0B0
                      00103 LINE2      EQU       0C0
                      00104 LINE3      EQU       0C0
                      00105 CURSORON   EQU       03F
                      00106 CURSOROFF  EQU       031
                      00107 YPOS       EQU       08
                      00108 YNPOS      EQU       0C
                      00109 NPOS       EQU       0F
                      00110 ACFTPOS    EQU       0D
                      00111 BYTEPOS    EQU       0D
                      00112 PERCENTPOS EQU       0B
                      00113 uSPOS      EQU       09
                      00114 INTPOS     EQU       0B
                      00115 SELCHPOS   EQU       0C
                      00116 CVMPOS     EQU       0B
                      00117 ONTIMEPOS  EQU       0B
                      00118 CH53POS    EQU       08
                      00119 CH50POS    EQU       0E
                      00120 CH72POS    EQU       0D
                      00121 CH50MHZPOS EQU       04
                      00122 CH72MHZPOS EQU       04
                      00123 TESTCHPOS  EQU       07
                      00124 TESTVALPOS EQU       0C
                      00125 TACHRPMPOS EQU       0B
                      00126 RECVPOS    EQU       0B
                      00127 endif
                      00128 
                      00129 ifdef           ECMA1010display
                      00130 LINE1     EQU        0B0
                      00131 LINE2     EQU        0C0
                      00132 LINE3     EQU        0D0
                      00133 LINE4     EQU        0E0
                      00134 CURSORON  EQU        03F
                      00135 CURSOROFF EQU        031
                      00136 YPOS      EQU        07
                      00137 YNPOS     EQU        09
                      00138 NPOS      EQU        0B
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00139 ACFTPOS    EQU       0A
                      00140 BYTEPOS    EQU       09
                      00141 PERCENTPOS EQU       07
                      00142 uSPOS      EQU       05
                      00143 INTPOS     EQU       07
                      00144 SELCHPOS   EQU       08
                      00145 CVMPOS     EQU       07
                      00146 ONTIMEPOS  EQU       07
                      00147 CH53POS    EQU       05
                      00148 CH50POS    EQU       0B
                      00149 CH72POS    EQU       0A
                      00150 CH50MHZPOS EQU       03
                      00151 CH72MHZPOS EQU       03
                      00152 TESTCHPOS  EQU       05
                      00153 TESTVALPOS EQU       08
                      00154 TACHRPMPOS EQU       07  
                      00155 RECVPOS    EQU       07
                      00156 endif
                      00157 
                      00158 ; Button and signal definitions for the Transmitter controls
                      00159 ; PortA bits
  00000004            00160 BUZZER  EQU     4
                      00161 
                      00162 ; PortB bits
  00000001            00163 TACHIN  EQU     1
  00000002            00164 LED2    EQU     2
  00000006            00165 PLLRST  EQU     6               ; PIC reset on RFDECK
  00000007            00166 SDObit  EQU     7               ; Serial data out
                      00167 
                      00168 ; PortC bits
  00000002            00169 CFGMEM2 EQU     2
  00000003            00170 LED1    EQU     3
  00000004            00171 SDIbit  EQU     4
  00000005            00172 CLK     EQU     5               ; Clock for PLL and config mem
                      00173 
                      00174 ; PortD bits
  00000000            00175 AilDR   EQU     0
  00000001            00176 EleDR   EQU     1
  00000002            00177 RudDR   EQU     2
  00000003            00178 PRESET  EQU     3
  00000004            00179 MIX1    EQU     4
  00000005            00180 MIX2    EQU     5
  00000006            00181 MIX3    EQU     6
  00000007            00182 CH5     EQU     7
                      00183 
                      00184 ; PortE bits
  00000000            00185 RUNCAL  EQU     0
  00000001            00186 AUTOT   EQU     1
  00000002            00187 OPTION  EQU     2
  00000003            00188 CH8A    EQU     3
  00000004            00189 CH8C    EQU     4
  00000005            00190 ALTAFK  EQU     5
  00000006            00191 SNAPR   EQU     6
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000007            00192 SNAPL   EQU     7
                      00193 
                      00194 ; PortF bits
  00000007            00195 MOD     EQU     7
                      00196 
                      00197 ; PortG bits
  00000000            00198 CFGMEM1 EQU     0
  00000003            00199 PLLCS   EQU     3
                      00200 
                      00201 ; PortH bits
  00000000            00202 AUXOUT  EQU     0
  00000001            00203 TACHENA EQU     1
  00000002            00204 RECCOMM EQU     2
                      00205 
                      00206 ; LCD PORTS
  00000F88            00207 LCDDATA         EQU     PORTJ
  00000F9A            00208 LCDDATADIR      EQU     DDRJ
  00000F81            00209 LCDCTRL         EQU     PORTB
  00000F93            00210 LCDCTRLDIR      EQU     DDRB
                      00211 
                      00212 ; ADC channel assignments
  00000000            00213 ADCch6          EQU     00
  00000001            00214 ADCch7          EQU     01
  00000002            00215 ADCgnd          EQU     02
  00000003            00216 ADCref          EQU     03
  00000004            00217 ADCail          EQU     04
  00000005            00218 ADCele          EQU     05
  00000006            00219 ADCrud          EQU     06
  00000007            00220 ADCthr          EQU     07
  00000008            00221 ADCailTrim      EQU     08
  00000009            00222 ADCeleTrim      EQU     09
  0000000A            00223 ADCrudTrim      EQU     0A
  0000000B            00224 ADCthrTrim      EQU     0B
  0000000C            00225 ADCtest         EQU     0C
  0000000D            00226 ADCrec          EQU     0D
                      00012         Include <RAM.asm>
                      00001 ;******* BANK0 variables
000000                00002                 ORG     0x00
                      00003 ;*******    INTERRUPT CONTEXT SAVE/RESTORE VARIABLES
000000                00004 TEMP_WREG       RES     1
000001                00005 TEMP_ALUSTA     RES     1
000002                00006 TEMP_BSR        RES     1
000003                00007 TEMP_PRODL      RES     1
000004                00008 TEMP_PRODH      RES     1
000005                00009 TEMP_WREG_L     RES     1
000006                00010 TEMP_ALUSTA_L   RES     1
000007                00011 TEMP_BSR_L      RES     1
000008                00012 TEMP_PRODL_L    RES     1
000009                00013 TEMP_PRODH_L    RES     1
00000A                00014 Areg            RES     1       ; General purpose registers
00000B                00015 Breg            RES     1
00000C                00016 Creg            RES     1
                      00017 ;
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00018 ; Gereral variables
                      00019 ;
00000D                00020 AXreg           RES     2       ; 16 bit register
00000F                00021 BXreg           RES     2       ; 16 bit register
000011                00022 CXreg           RES     2       ; 16 bit register
000013                00023 CEXreg          RES     4       ; 32 bit regester
000017                00024 DEXreg          RES     4       ; 32 bit regester
00001B                00025 EEXreg          RES     4       ; 32 bit regester
00001F                00026 Atemp           RES     1
000020                00027 Btemp           RES     1
000021                00028 FSR1Lsave       RES     1
000022                00029 FSR1Hsave       RES     1
000023                00030 FPFLAGS         RES     1
000024                00031 SIGN            RES     1
000025                00032 Buffer          RES     D'10'
00002F                00033 ISRtemp         RES     1       ; Interrupt temp variable
000030                00034 PORTDimage      RES     1       ; PortD debounced
000031                00035 PORTDlast       RES     1
000032                00036 PORTDlatch      RES     1
                      00037 ;PORTDlatchLow  RES     1
000033                00038 PORTEimage      RES     1       ; PortE debounced
000034                00039 PORTElast       RES     1
000035                00040 PORTElatch      RES     1
                      00041 ;PORTElatchLow  RES     1
                      00042 ;
000036                00043 Mode            RES     1       ; Defines the system mode
  00000001            00044 modeRUN         EQU     1
  00000002            00045 modeCAL         EQU     2
000037                00046 Cmd             RES     1       ; This flag is set by a host PC to
                      00047                                 ; request an action. Valid commands are:
                      00048                                 ;       31 = Read general data from sprom
                      00049                                 ;       32 = Read selected aircraft data from sprom
                      00050                                 ;       33 = Write general data to sprom
                      00051                                 ;       34 = Write selected aircraft data to sprom
000038                00052 CycleCounts     RES     2       ; D'2000000'/TICKSPER, The number of timer counts in one frame
00003A                00053 CHtimes         RES     D'20'   ; One 16 bit word for each channel
                      00054                                 ; 8 channels plus one checksum channel
                      00055 ;
                      00056 ; This table defines the transmitted channel order.
                      00057 ;
  0000003C            00058 chELE   EQU     CHtimes+2
  0000003E            00059 chAIL   EQU     CHtimes+4
  00000040            00060 chRUD   EQU     CHtimes+6
  00000042            00061 chTHT   EQU     CHtimes+8
  00000044            00062 chCH5   EQU     CHtimes+0A
  00000046            00063 chCH6   EQU     CHtimes+0C
  00000048            00064 chCH7   EQU     CHtimes+0E
  0000004A            00065 chCH8   EQU     CHtimes+10
                      00066 ;
                      00067 
00004E                00068 Pstate          RES     1       ; State variable
00004F                00069 NumChan         RES     1       ; Number of transmit channels times two
000050                00070 NextTime        RES     2       ; The timers next compare reg value
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000052                00071 Psum            RES     2       ; Total pulse time from start of output
000054                00072 Sync            RES     2       ; Sync pulse width.
                      00073 ; The following variables are involved in time keeping
000056                00074 Cmode           RES     1       ; Counter mode, 0 = count up, 1 = timer
000057                00075 Tick            RES     1       ; Tick counter
000058                00076 Secs            RES     1       ; Seconds sence reset
000059                00077 Mins            RES     1       ; Minutes sence reset
00005A                00078 Dsecs           RES     1       ; Timer Seconds 
00005B                00079 Dmins           RES     1       ; Timer Minutes 
00005C                00080 DsecsLatch      RES     1       ; Timer Seconds 
00005D                00081 BeepTicks       RES     1       ; This is used to create a beep. The RTI will
                      00082                                 ; turn off the buzzer after this many ticks
00005E                00083 BeepCtr         RES     1       ; Working counter...
00005F                00084 BeepCyl         RES     1       ; Number of cycles
000060                00085 TimeOut         RES     1       ; This is a timeout counter. the RTI will dec this
                      00086                                 ; if its not zero. Used by the serial rec routine
000061                00087 TimeOut1        RES     1       
000062                00088 TimeOut2        RES     1
                      00089 ; The following variables are used by USART1 serial receiver. Receive messages
                      00090 ; are in the following format:
                      00091 ;               1 byte, start of message = 0x55
                      00092 ;               1 byte, message type
                      00093 ;               1 byte, Bank address
                      00094 ;               1 byte, location
                      00095 ;               1 byte, data length
                      00096 ;               (optional data block if its a receive message)
                      00097 ;               1 byte, mod 256 checksum
                      00098 ; Valid message types are:
                      00099 ;       1 = Reveive message, from host
                      00100 ;       2 = Send message, to host
  00000001            00101 RECMESS         EQU     1
  00000002            00102 SENDMESS        EQU     2
  0000000C            00103 ACK             EQU     D'12'
  0000000D            00104 NAK             EQU     D'13'
                      00105 
000063                00106 MessState       RES     1       ; defines the message receive state
000064                00107 MessStart       RES     1
000065                00108 MessType        RES     1
000066                00109 MessBank        RES     1
000067                00110 MessLoc         RES     1
000068                00111 MessLen         RES     1
000069                00112 MessCHK         RES     1
00006A                00113 CheckSum        RES     1
                      00114 ; Generic channel work space
00006B                00115 Pos             RES     2       ; Pot position
00006D                00116 Gh              RES     2       ; High side gain
00006F                00117 Ct              RES     2       ; Center position
000071                00118 Gl              RES     2       ; Low side gain
000073                00119 Npos            RES     2       ; Normalized position
                      00120 ; Normalized channel positions, centering channels go -1000 to 1000
                      00121 ; and non centering channels go 0 to 1000
000075                00122 Apos            RES     2
000077                00123 Epos            RES     2
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000079                00124 Rpos            RES     2
00007B                00125 Tpos            RES     2
00007D                00126 CH5pos          RES     2
00007F                00127 CH6pos          RES     2
000081                00128 CH7pos          RES     2
000083                00129 CH8pos          RES     2
000085                00130 Atrim           RES     2
000087                00131 Etrim           RES     2
000089                00132 Rtrim           RES     2
00008B                00133 Ttrim           RES     2
00008D                00134 Vbat            RES     2
                      00135 ; Actual output position information for the channels that have slew rate control
00008F                00136 CH5posActual    RES     2
000091                00137 CH8posActual    RES     2
                      00138 ; Mixed channel positions
000093                00139 AposM           RES     2
000095                00140 EposM           RES     2
000097                00141 RposM           RES     2
000099                00142 TposM           RES     2
00009B                00143 CH5posM         RES     2
00009D                00144 CH6posM         RES     2
00009F                00145 CH7posM         RES     2
0000A1                00146 CH8posM         RES     2
                      00147 ; More variables...
                      00148 ; In many cases there are multiple variable names for the same
                      00149 ; physical memory, basicaly overloading. 
0000A3                00150 Ctemp           RES     1
0000A4                00151 Dtemp           RES     1
0000A5                00152 Etemp           RES     1
0000A6                00153 Ftemp           RES     1
0000A7                00154 TimeOut3        RES     1       ; This timeer is used by the sync up function
0000A8                00155 TimeOut4        RES     1
0000A9                00156 TimeOut5        RES     1
0000AA                00157 TEMPB3          RES     1
0000AB                00158 DefaultAircraft RES     1       ; Default Aircraft number
0000AC                00159 SPROMAircraft   RES     2       ; SPROM adress to start of current Aircraft data
0000AE                00160 MasterState     RES     1       ; State variable used by the Buddy box system
0000AF                00161 MasterPos       RES     2       ; Position variable
0000B1                00162 MApos           RES     2
0000B3                00163 MEpos           RES     2
0000B5                00164 MRpos           RES     2
0000B7                00165 MTpos           RES     2
0000B9                00166 Dst             RES     2       ; Destination address
0000BB                00167 Src             RES     2       ; Source address
0000BD                00168 Cnt             RES     1       ; Number of bytes to move
0000BE                00169 DriveCh         RES     1       ;
0000BF                00170 MinValue
0000BF                00171 MinTime
0000BF                00172 MinByte         RES     2
0000C1                00173 MaxValue
0000C1                00174 MaxTime
0000C1                00175 MaxByte         RES     2
0000C3                00176 OVERRUN         RES     1       ; This flag is set if data is not updated
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00177                                 ; within one frame time
0000C4                00178 SymSet          RES     1       ; This flag is set during the servo cal
                      00179                                 ; function if the user wants to set the
                      00180                                 ; channel symeterical about its center.
0000C5                00181 SWID            RES     2
0000C7                00182 BladeTime       RES     2       ; Timer counts for aprox 1 sec worth of blade counts
0000C9                00183 BladeDet        RES     2       ; Counts prop blade detections
0000CB                00184 AilCenter       RES     2       ; Ailron channel pot center position
0000CD                00185 EleCenter       RES     2       ; Elevator channel pot center position        
0000CF                00186 EnaSecSprom     RES     1       ; This flag is set if a secondary Sprom is enabled
0000D0                00187 Usecs           RES     1       ; Up counter seconds value
0000D1                00188 Umins           RES     1       ; Up counter minutes value
                      00189 
0000D2                00190 TTflag          RES     1       ; Flag set if in the Throttle trim adjust mode
                      00191 ; Variables used by the calibrate servos functions, and misc UI functions
0000D3                00192 EXIT            RES     1
0000D4                00193 DXreg           RES     2
0000D6                00194 CalTable
0000D6                00195 SWselect
                      00196 ; Do not move or reorder this block, used for servo position editing
0000D6                00197 RTDWN           RES     2
0000D8                00198 CENTER          RES     2
0000DA                00199 LTUP            RES     2
0000DC                00200 DRP             RES     1
0000DD                00201 TRIMP           RES     1
0000DE                00202 ATRM            RES     1
0000DF                00203 EXPOHI          RES     1
0000E0                00204 EXPOLOW         RES     1
                      00205 ; End of fixed block
0000E1                00206 YESNO
0000E1                00207 ATRST           RES     1
0000E2                00208 STRIM
0000E2                00209 ServoREV                        ; This is a word flag used by the servo reverse logic
                      00210 ; Variables used by Mixer UI
0000E2                00211 Mfrom           RES     1
0000E3                00212 Mto             RES     1
0000E4                00213 Mzp             RES     1
0000E5                00214 Mpg             RES     1
0000E6                00215 Mng             RES     1
0000E7                00216 Mpi             RES     1
0000E8                00217 Mni             RES     1
0000E9                00218 Mreplace        RES     1
0000EA                00219 Mtbl            RES     1
0000EB                00220 AUXSTATE        RES     1       ; State of AUXOUT signal.
0000EC                00221 SelSprom        RES     1       ; Used by the Sprom Write functions the selected
                      00222                                 ; devices Bit is set.      
0000ED                00223 TimerCount      RES     1       ; This flag is set (FF) if the timer counting is 
                      00224                                 ; Enabled. This flag is set in the TemerEnable 
                      00225                                 ; Subroutine.
0000EE                00226 DPflag          RES     1       ; Flag set to display a decimal point in the adjust
                      00227                                 ; byte function
0000EF                00228 FMSflag         RES     1       ; Flag set when in the FMS flight simulator mode, UART2
0000F0                00229 FMSflagU1       RES     1       ; Flag set when in the FMS flight simulator mode. UART1
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00230 
0000F1                00231 PostCall        RES     2       ; Pointer to a post call function used by the UI functions
0000F3                00232 PreCall         RES     2       ; Pointer to a pre call function used by the UI functions
0000F5                00233 FutabaStudent   RES     1       ; This flag is set when in the Futaba student mode and the
                      00234                                 ; the student button is pressed.
0000F6                00235 CalServoUpdate  RES     1       ; The flag CalServoUpdate must be set or this function will
                      00236                                 ; exit with no action.
0000F7                00237 IncTime         RES     1       ; This value hold the number of ADC counts over threshold for 
                      00238                                 ; use in the variable value increment time
0000F8                00239 PIC18F8723      RES     1       ; Flag set if 8723 PIC is detected
                      00240 ; These variables were added in December 2009 to improve the debounce logic on the Option 
                      00241 ; button
0000F9                00242 PORTDlatchLow   RES     1
0000FA                00243 PORTElatchLow   RES     1
                      00244 
                      00245 ; The following variables are only used in helicopter mode.
0000FB                00246 GyroTune        RES     1       ; This is a flag used in the helicopter mode to enable
                      00247                                 ; the gyro sensitivity adjust mode. This flag is reset on 
                      00248                                 ; powerup
                      00249 ; Actual output position information for the throttle channel, used only in helicopter
                      00250 ; mode.
0000FC                00251 TposActual      RES     2
0000FE                00252 TholdState      RES     1       ; Flag used to save throttle hold switch state, needed of slew 
                      00253                                 ; rate control when flight mode is selected.
0000FF                00254 TMR4intNum      RES     1       ; Counter used by the timer 4 interrupt
                      00255 
                      00256 
                      00257 
                      00258 ;******* BANK1 variables
000100                00259                 ORG     0x100
                      00260 ; LMX2306 PLL setup parameters
                      00261 ; For the 50 MHz band
                      00262 ;       PDF     = 20
                      00263 ;       FCF     = 50800
                      00264 ;       FCN     = 0
                      00265 ;       NUMFREQ = 10
                      00266 ; For the 72 NHz band
                      00267 ;       PDF     = 10
                      00268 ;       FCF     = 72010
                      00269 ;       FCN     = 11
                      00270 ;       NUMFREQ = 60
000100                00271 Nreg            RES     3       ; 21 bit register
000103                00272 Rreg            RES     3       ; 21 Bit register
000106                00273 Freg            RES     3       ; 20 bit register
000109                00274 PDF             RES     2       ; Phase detector frequency, in KHz
00010B                00275 FCF             RES     3       ; First channel frequency, in KHz
00010E                00276 FCN             RES     1       ; First channel number   
00010F                00277 PMUL            RES     1       ; Phase clock multiplier
000110                00278 NUMFREQ         RES     1       ; Number of freq channel
                      00279 
                      00280 ; Misc variables
000111                00281 LValarm         RES     1       ; Flag set after the low voltage alarm is given
                      00282 
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00283 ; Temp data block, used to save data vars
000112                00284 TempBlock       RES     8       ; 8 Bytes of storage
                      00285 
                      00286 ; Temp variables used for the Throttle Trim mode
00011A                00287 TTBH            RES     2
00011C                00288 TTMH            RES     2
                      00289 
                      00290 ; These variables are used by the User Interface routines
00011E                00291 CalOption       RES     2
000120                00292 CalMenu         RES     2
000122                00293 CalMenu1        RES     2
000124                00294 CalMenu2        RES     2
                      00295 
000126                00296 PostCallLevel1  RES     2
000128                00297 PostCallLevel2  RES     2
00012A                00298 PostCallLevel3  RES     2         
                      00299 
00012C                00300 AXregS          RES     2
00012E                00301 BXregS          RES     2
000130                00302 CXregS          RES     2
000132                00303 DXregS          RES     2
                      00304   
                      00305 ; Four main channels position information used for the trigger point switch routines
000134                00306 ATpos           RES     2
000136                00307 ETpos           RES     2
000138                00308 RTpos           RES     2
00013A                00309 TTpos           RES     2
                      00310 
                      00311 ; Temp Alt Aircraft numbers
00013C                00312 TAltA1          RES     1
00013D                00313 TAltA2          RES     1
                      00314 
                      00315 ; Temporary storage for FSR1 reg set
00013E                00316 SaveFSR1L       RES     1
00013F                00317 SaveFSR1H       RES     1
                      00318 
000140                00319 Units           RES     1               ; Used to store units character for UI routines
000141                00320 LCDwreg         RES     1               ; temp storage for the WREG in the LCD routine
                      00321 
                      00322 ; Digital trim working variables
000142                00323 DTdataAil       RES     2
000144                00324 DTdataEle       RES     2
000146                00325 DTdataRud       RES     2
000148                00326 DTdataTht       RES     2
                      00327 
00014A                00328 DTdisplay       RES     1               ; Display flag
                      00329 ; Last trim normalized positions for A,E, and R. Used for center beep
                      00330 ; logic
00014B                00331 AtrimLast       RES     2
00014D                00332 EtrimLast       RES     2
00014F                00333 RtrimLast       RES     2
000151                00334 TtrimLast       RES     2
000153                00335 CH6Last         RES     2
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000155                00336 CH7Last         RES     2
000157                00337 TrimBeepSignChange      RES     1
                      00338 ; This is a version number variable used to provide PC application compatability
000158                00339 Version         RES     3               ; Format is ASCII, X.YZ for example 2,0,i
00015B                00340 RecVADC         RES     2               ; Contains the receiver voltage monitor raw ADC
                      00341                                         ; values. Used by PC application
00015D                00342 MonFlag         RES     1               ; Flag set if in the channel monitor mode
00015E                00343 MonChan         RES     1               ; Monitor channel number
                      00344 
                      00345 ;******* BANK2 variables
                      00346 ; 
                      00347 ; This area contains general setup parameters. This area is read from
                      00348 ; the serial prom on power up and these parameters apply to all aircraft.
                      00349 ; These parameters can not be reordered!
                      00350 ;
000200                00351                 ORG     0x200
000200                00352 Aircraft        RES     1       ; Aircraft number 0 thru 7
                      00353 ; LMX2306 PLL setup parameters, R and F regs values
                      00354 ; for 50,53 and 72MHz bands
000201                00355 Rreg50          RES     3
000204                00356 Freg50          RES     3
000207                00357 Rreg53          RES     3
00020A                00358 Freg53          RES     3
00020D                00359 Rreg72          RES     3
000210                00360 Freg72          RES     3
                      00361 
                      00362 ; Voltage monitor gains, (Raw adc counts)* gain = millivolts
000213                00363 VmonG           RES     2       ; Gain
                      00364 ; Joy stick calibration parameters. The gains are all times 256
                      00365 ; - first the centering sticks...
000215                00366 AHG             RES     2       ; High side gain
000217                00367 ACT             RES     2       ; Center counts
000219                00368 ALG             RES     2       ; Low side gain
                      00369 
00021B                00370 EHG             RES     2       ; High side gain
00021D                00371 ECT             RES     2       ; Center counts
00021F                00372 ELG             RES     2       ; Low side gain
                      00373 
000221                00374 RHG             RES     2       ; High side gain
000223                00375 RCT             RES     2       ; Center counts
000225                00376 RLG             RES     2       ; Low side gain
                      00377 ; The non centering sticks...
000227                00378 THG             RES     2       ; High side gain
000229                00379 TCT             RES     2       ; Center counts
                      00380 
00022B                00381 AtrimHG         RES     2       ; High side gain
00022D                00382 AtrimCT         RES     2       ; Center counts
                      00383 
00022F                00384 EtrimHG         RES     2       ; High side gain
000231                00385 EtrimCT         RES     2       ; Center counts
                      00386 
000233                00387 RtrimHG         RES     2       ; High side gain
000235                00388 RtrimCT         RES     2       ; Center counts
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00389 
000237                00390 TtrimHG         RES     2       ; High side gain
000239                00391 TtrimCT         RES     2       ; Center counts
                      00392 
00023B                00393 CH6HG           RES     2       ; High side gain
00023D                00394 CH6CT           RES     2       ; Center counts
                      00395 
00023F                00396 CH7HG           RES     2       ; High side gain
000241                00397 CH7CT           RES     2       ; Center counts
                      00398 
000243                00399                 RES     3
                      00400 
                      00401 ; Translation tables
000246                00402 Table1          RES     D'11'
000251                00403 Table2          RES     D'11'
00025C                00404 Table3          RES     D'11'
000267                00405 Table4          RES     D'11'
000272                00406 Table5          RES     D'11'
00027D                00407 Table6          RES     D'11'
000288                00408 Table7          RES     D'11'
000293                00409 Table8          RES     D'11'
                      00410 
00029E                00411 AutoTrimStep    RES     1       ; Auto Trim step size
00029F                00412 AutoTrimTime    RES     1       ; Auto Trim adjust time in ticks
                      00413 
0002A0                00414 Student         RES     1       ; This flag is set if this transmitter
                      00415                                 ; will be used as a slave in the buddy box
                      00416                                 ; system. 0 = clear, FF = set
0002A1                00417 Master          RES     1       ; This flag is set if this transmitter will
                      00418                                 ; be used as a master in the buddy box
                      00419                                 ; system. 0 = clear, FF = set.
0002A2                00420 MaxChannels     RES     1       ; Number of transmit channels
0002A3                00421 SyncWidth       RES     2       ; Sync pulse width, in .5uS units
0002A5                00422 SelFreq         RES     1       ; Selected frequency
                      00423                                 ; 0FF = off
0002A6                00424                 RES     1       
0002A7                00425 Signature       RES     2       ; This is a formatted signature, it must be A5 E7 or you
                      00426                                 ; will be asked if you want to format the Sprom.
0002A9                00427 VRmonG          RES     2       ; Gain for the receiver voltage monitor ADC channel
0002AB                00428 PLLinitWORD     RES     3       ; This is the PLL initialization word, use to shut the
                      00429                                 ; PLL down
0002AE                00430 ServoMin        RES     2       ; Servo minimum limit
0002B0                00431 ServoMax        RES     2       ; Servo maximum limit    
                      00432 
                      00433 ; Trim table. This table is used to define witch trim adjustment is used
                      00434 ; for each flight control.
                      00435 ; Valid values are:
                      00436 ;       0 = none
                      00437 ;       1 = Ail trim
                      00438 ;       2 = Ele trim
                      00439 ;       3 = Rud trim
                      00440 ;       4 = Tht trim
                      00441 ; The same registers define the digitial trims. The codes are as follows:
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00442 ;       16 = Ail trim
                      00443 ;       32 = Ele trim
                      00444 ;       48 = Rud trim
                      00445 ;       64 = Tht trim
0002B2                00446 AilTrimCh       RES     1
0002B3                00447 EleTrimCh       RES     1
0002B4                00448 RudTrimCh       RES     1
0002B5                00449 ThtTrimCh       RES     1   
                      00450 
0002B6                00451 ATmode          RES     1       ; Auto trim mode, 0 = incremental, 1 = one shot
0002B7                00452 MasterMode      RES     1       ; Master mode, 0 = MicroStar, 1 = Futaba
                      00453 
0002B8                00454 BTflag          RES     1       ; This flag is set when its time to update the
                      00455                                 ; battery timer value
0002B9                00456 BattAlarm       RES     1       ; Battery alarm voltage level in .1 volt units
0002BA                00457 AUXMODE         RES     1       ; Defines the channel to output on the
                      00458                                 ; AUXOUT pin used for direct servo drive.
                      00459                                 ; Setting the MSB defines the output to be
                      00460                                 ; the encoded pulse train. To output a channel
                      00461                                 ; set this variable to the channel number times
                      00462                                 ; 2 plus 1.
                      00463 ; This is the ADC address table. This table is 16 bytes long and each byte selects
                      00464 ; the ADC multiplexer address and the ADC refrence. The reference is selected by the MSB 
                      00465 ; of each entery, 0 = external ref and 1 = 5 volt ref
0002BB                00466 ADCaddTbl               RES     16
                      00467 
                      00468 ; This is a flag byte used to define the frequency band for the RF deck. 
                      00469 ; Bit definitions:
                      00470 ;       Bit             Definition
                      00471 ;       0               Set for 50 MHz
                      00472 ;       1               Set for 53 MHz
                      00473 ; If both bits 0 and 1 are set then the 72 MHz band is selected
0002D1                00474 Fband                   RES     1
                      00475 ; Buzzer polarity
0002D2                00476 BuzPol                  RES     1       ; 0 = normal sense, 0xFF = inverted
                      00477 ; Trim Center Beep flag, this is for A,E, and R trims only
0002D3                00478 TrimCenterBeepFlag      RES     1       ; 0 = off, no beep, 0xFF = on, beep on center cross
                      00479 ; The following variables are used for the generation of the
                      00480 ; PPM output pulse train. All times are in .5uS units, 2MHz
                      00481 ; internal clock used by timer. Timer3 is used for this pulse
                      00482 ; generation.
0002D4                00483 TicksPer                RES     1       ; Ticks per second, default = 40
0002D5                00484 FrameDefect             RES     1       ; Frame time defect, allows the pilot to enter a frame time erro
                            r
                      00485                                         ; theu making the frame time unique to this transmitter
0002D6                00486 SerialSend              RES     1       ; This flag is set to cause the ppm data to be send using USART 
                      00487                                         ; port 2. The data is sent at full resolution.
                      00488 ; Trim Center Beep flag for throttle trim and channels 6&7
0002D7                00489 ThtTCenterBeepFlag      RES     1       ; 0 = off, no beep, 0xFF = on, beep on center cross
0002D8                00490 CH67CenterBeepFlag      RES     1       ; 0 = off, no beep, 0xFF = on, beep on center cross
                      00491 ; This variable is used to define the digital trim update rate when the trim button is held down
0002D9                00492 DTrimAdjustDelay        RES     1
                      00493 
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00494 ;******* BANK3 variables 
                      00495 ;
                      00496 ; This area contains aircraft specific setup parameters. The serial
                      00497 ; prom contains 8 total setup, the selected aircraft's parameters are
                      00498 ; copied into this block. These parameters can not be reordered!
                      00499 ;
000300                00500                 ORG     0x300
                      00501 ; Channel specfic data.
                      00502 ; Gereral data
000300                00503 Name            RES     D'16'   ; Aircraft name for display!
000310                00504 Reserved        RES     1       ; 
                      00505 ; Aielron
000311                00506 AM1H            RES     2       ; Right gain
000313                00507 AB              RES     2       ; Offset
000315                00508 AM2H            RES     2       ; Left gain
000317                00509 ALR             RES     1       ; Low rate, in percent
000318                00510 APT             RES     1       ; Percent trim
000319                00511 AAT             RES     1       ; Autotrim offset
00031A                00512 AEXHI           RES     1       ; Expo high rate percentage
00031B                00513 AEXLOW          RES     1       ; Expo low rate percentage
                      00514 ; Elevator
00031C                00515 EM1H            RES     2       ; Up gain
00031E                00516 EB              RES     2       ; Offset
000320                00517 EM2H            RES     2       ; Down gain
000322                00518 ELR             RES     1       ; Low rate, in percent
000323                00519 EPT             RES     1       ; Percent trim
000324                00520 EAT             RES     1       ; Autotrim offset
000325                00521 EEXHI           RES     1       ; Expo high rate percentage
000326                00522 EEXLOW          RES     1       ; Expo low rate percentage
                      00523 ; Rudder
000327                00524 RM1H            RES     2       ; Right gain
000329                00525 RB              RES     2       ; Offset
00032B                00526 RM2H            RES     2       ; Left
00032D                00527 RLR             RES     1       ; Low rate, in percent
00032E                00528 RPT             RES     1       ; Percent trim
00032F                00529 RAT             RES     1       ; Autotrim offset
000330                00530 REXHI           RES     1       ; Expo high rate percentage
000331                00531 REXLOW          RES     1       ; Expo low rate percentage
                      00532 ; Throttle
000332                00533 TMH             RES     2       ; Gain and offset
000334                00534 TBH             RES     2
000336                00535 TPT             RES     1       ; Percent trim
000337                00536 TMODE           RES     1       ; Trim mode
000338                00537 Tpreset         RES     2       ; Preset servo position
                      00538 ; CH5, retract
00033A                00539 CH5MH           RES     2
00033C                00540 CH5BH           RES     2
                      00541 ; CH6
00033E                00542 CH6MH           RES     2       ; Gain and offset
000340                00543 CH6BH           RES     2
                      00544 ; CH7
000342                00545 CH7MH           RES     2       ; Gain and offset
000344                00546 CH7BH           RES     2
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00547 ; CH8, three position, A,B,C
000346                00548 CH8_A           RES     2
000348                00549 CH8_B           RES     2
00034A                00550 CH8_C           RES     2
                      00551 ; Snap right
00034C                00552 SR_A            RES     2
00034E                00553 SR_E            RES     2
000350                00554 SR_R            RES     2
000352                00555 SR_T            RES     2
                      00556 ; Snap left
000354                00557 SL_A            RES     2
000356                00558 SL_E            RES     2
000358                00559 SL_R            RES     2
00035A                00560 SL_T            RES     2
                      00561 ; Mixers, 3 total
                      00562 ; 1
00035C                00563 M1Afrom         RES     1
00035D                00564 M1Ato           RES     1
00035E                00565 M1Azp           RES     1
00035F                00566 M1Aur           RES     1
000360                00567 M1Adl           RES     1
000361                00568 M1Bfrom         RES     1
000362                00569 M1Bto           RES     1
000363                00570 M1Bzp           RES     1
000364                00571 M1Bur           RES     1
000365                00572 M1Bdl           RES     1
000366                00573 M1Cfrom         RES     1
000367                00574 M1Cto           RES     1
000368                00575 M1Czp           RES     1
000369                00576 M1Cur           RES     1
00036A                00577 M1Cdl           RES     1
00036B                00578 M1Dfrom         RES     1
00036C                00579 M1Dto           RES     1
00036D                00580 M1Dzp           RES     1
00036E                00581 M1Dur           RES     1
00036F                00582 M1Ddl           RES     1
                      00583 ; 2
000370                00584 M2Afrom         RES     1
000371                00585 M2Ato           RES     1
000372                00586 M2Azp           RES     1
000373                00587 M2Aur           RES     1
000374                00588 M2Adl           RES     1
000375                00589 M2Bfrom         RES     1
000376                00590 M2Bto           RES     1
000377                00591 M2Bzp           RES     1
000378                00592 M2Bur           RES     1
000379                00593 M2Bdl           RES     1
00037A                00594 M2Cfrom         RES     1
00037B                00595 M2Cto           RES     1
00037C                00596 M2Czp           RES     1
00037D                00597 M2Cur           RES     1
00037E                00598 M2Cdl           RES     1
00037F                00599 M2Dfrom         RES     1
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000380                00600 M2Dto           RES     1
000381                00601 M2Dzp           RES     1
000382                00602 M2Dur           RES     1
000383                00603 M2Ddl           RES     1
                      00604 ; 3
000384                00605 M3Afrom         RES     1
000385                00606 M3Ato           RES     1
000386                00607 M3Azp           RES     1
000387                00608 M3Aur           RES     1
000388                00609 M3Adl           RES     1
000389                00610 M3Bfrom         RES     1
00038A                00611 M3Bto           RES     1
00038B                00612 M3Bzp           RES     1
00038C                00613 M3Bur           RES     1
00038D                00614 M3Bdl           RES     1
00038E                00615 M3Cfrom         RES     1
00038F                00616 M3Cto           RES     1
000390                00617 M3Czp           RES     1
000391                00618 M3Cur           RES     1
000392                00619 M3Cdl           RES     1
000393                00620 M3Dfrom         RES     1
000394                00621 M3Dto           RES     1
000395                00622 M3Dzp           RES     1
000396                00623 M3Dur           RES     1
000397                00624 M3Ddl           RES     1
                      00625 ; Fixed mix functions.
000398                00626 VTAIL           RES     1       ; 0=off and FF=on
000399                00627 ELEVON          RES     1       ; 0=off and FF=on
00039A                00628 DUALA           RES     1       ; 0=off and FF=on
00039B                00629 FPgainN         RES     1       ; Amount of flaps, negative gain
00039C                00630 DIFFA           RES     1       ; Percentage of differential, 0 = off
00039D                00631 FPgain          RES     1       ; Amount of flaps, positive gain
00039E                00632                 RES     2       ; Reserved to preserve alignment
0003A0                00633 IDLEUP          RES     1       ; Idle up flag, FF = On
0003A1                00634 IDLEUPpA        RES     1       ; Idle up percentage A
0003A2                00635 IDLEUPpB        RES     1       ; Idle up percentage B
0003A3                00636                 RES     1       
0003A4                00637 FixedFirst      RES     1       ; If this flag is set (FF) then the fixed mixer
                      00638                                 ; functions are completed before the general mixers.
0003A5                00639 NumBlades       RES     1       ; Number of prop blades, used by Tach
0003A6                00640 RetractsWarning RES     1       ; This flag is set if you want a retracts up warning
                      00641 
                      00642 ; The following variables hold the trim zero values. These variables are used to recenter
                      00643 ; the trims. 
                      00644 
0003A7                00645 TrimZeroAil     RES     2
0003A9                00646 TrimZeroEle     RES     2
0003AB                00647 TrimZeroRud     RES     2
                      00648 
0003AD                00649 ModelChannel    RES     1       ; This models fraquency channel
                      00650 
                      00651 ; Switch selections
0003AE                00652 SWAILDR         RES     1
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0003AF                00653 SWELEDR         RES     1
0003B0                00654 SWRUDDR         RES     1
0003B1                00655 SWPRESET        RES     1
0003B2                00656 SWMIX1          RES     1
0003B3                00657 SWMIX2          RES     1
0003B4                00658 SWMIX3          RES     1
0003B5                00659 SWCH5           RES     1
0003B6                00660 SWATRIM         RES     1
0003B7                00661 SWCH8A          RES     1
0003B8                00662 SWCH8B          RES     1
0003B9                00663 SWCH8C          RES     1
0003BA                00664                 RES     1
0003BB                00665 SWSNAPR         RES     1
0003BC                00666 SWSNAPL         RES     1 
                      00667 
                      00668 ; Timer variables...
0003BD                00669 CNTmode         RES     1       ; 0 = On time only, 1 = DWN timer
0003BE                00670 DWNSecs         RES     1
0003BF                00671 DWNMins         RES     1
0003C0                00672 TEnaSW          RES     1       ; Switch used to enable timer
0003C1                00673 Tthres          RES     1       ; Throttle threshold for timer
                      00674 
                      00675 ; More switch selections
0003C2                00676                 RES     1       ; Reserved to preserve alignment
0003C3                00677 SWIDLEUP1       RES     1
0003C4                00678 SWIDLEUP2       RES     1
                      00679 
                      00680 ; Additions for the CROW function
0003C5                00681 SWCROW          RES     1       ; The Crow switch, by default is Mixer 1 switch
0003C6                00682 CROWENA         RES     1       ; Flag set if CROW is enabled.
                      00683 
0003C7                00684                 RES     1       
0003C8                00685                 RES     1       
                      00686 
                      00687 ; Control stick trigger positions
0003C9                00688 ATP             RES     1
0003CA                00689 ETP             RES     1
0003CB                00690 RTP             RES     1
0003CC                00691 TTP             RES     1
                      00692 
0003CD                00693 SHIFT           RES     1       ; Set to FF for ACE shift
                      00694 
                      00695 ; Alternate aircraft array, 6 entries, each entry is:
                      00696 ;   First byte =  Switch ID
                      00697 ;   Second byte = Aircraft number
  00000006            00698 NumAlt          EQU     6
0003CE                00699 AltAircraft     RES     2 * 6
                      00700 
                      00701 ; Aircraft specific translation tables
0003DA                00702 Atable1         RES     D'11'
0003E5                00703 Atable2         RES     D'11'
                      00704 
                      00705 ;******* BANK4 variables 
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00706 ;
                      00707 ; This page holds the second 256 byte page of the aircraft specific memory
                      00708 ;
000400                00709                 ORG     0x400
                      00710 ; Output order. This table defines the output channel order. The user can
                      00711 ; configure any order he likes. You can even repeat the same channel if
                      00712 ; required for your application
000400                00713 ChannelOrder    RES     8
                      00714 ; The following table supports subtrims. This allows the pilot to set the servo 
                      00715 ; center position of any cannel independently
000408                00716 SubTrim         RES     8
                      00717 ; The following variables support additional fixed mixers that are commonly 
                      00718 ; used by pilots
                      00719 ;                       - Ail to rudder, 2 bytes
                      00720 ;                       - Rud to ail, 2 bytes
                      00721 ;                       - Rud to ele, 2 bytes
                      00722 ;                       - Throttle to ele, 1 byte
                      00723 ;                       - Dual elevator, 2 bytes
000410                00724 AilRudPos       RES     1
000411                00725 AilRudNeg       RES     1
                      00726 
000412                00727 RudAilPos       RES     1
000413                00728 RudAilNeg       RES     1
                      00729 
000414                00730 RudElePos       RES     1
000415                00731 RudEleNeg       RES     1
                      00732 
000416                00733 ThtEle          RES     1
                      00734 
000417                00735 DualE           RES     1       ; Flag, 0=off, FF=on
000418                00736                 RES     1       
                      00737                 
                      00738 ; Slew rate limits servo speed control
000419                00739 CH5stepSize     RES     2
00041B                00740 CH8stepSize     RES     2
                      00741 
                      00742 ; Helicopter CCPM mixing flag
                      00743 ;       0 = off
                      00744 ;       1 = 3 servos 120 degrees
                      00745 ;       2 = 3 servos 140 degrees
                      00746 ;       3 = 3 servos 90 degrees
00041D                00747 CCPMmode        RES     1
                      00748 
                      00749 ; Digitial trim values, this variables save a aircraft specific copy of the digital
                      00750 ; trim values. The working values are saved in EEPROM and these are updated when
                      00751 ; the aircraft is saved.
00041E                00752 DTailA          RES     2
000420                00753 DTeleA          RES     2
000422                00754 DTrudA          RES     2
000424                00755 DTthtA          RES     2
                      00756 
                      00757 ;
                      00758 ; The following variables are used for the Helicopter modes.
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00759 ; CH6 is used for pitch control
                      00760 ; CH5 outputs gyro sensitivity, When the GyroTune mode is active then CH7
                      00761 ; defines the gyro sensitivity on CH5 output and pressing the option button
                      00762 ; will save the position in the proper variable.
                      00763 ; CH6 control is used for pitch trim
                      00764 ; 3 flight modes and throttle hold mode is supported
                      00765 ;
000426                00766 Henable         RES     1       ; Non zero value enables the helicopter mode
000427                00767 Tnorm           RES     2       ; This value contains the throttle normalized position before
                      00768                                 ; Any trims are applied. This is needed for trim speration from
                      00769                                 ; the pitch control. CH6 control is used for pitch trim adjust
000429                00770 HPrev           RES     1       ; Pitch reverse flag
                      00771 ; Normal mode parameters:
00042A                00772 HSen            RES     1       ; Gyro sensitivity, output on CH5
00042B                00773 HTht            RES     1       ; Table for throttle curve
00042C                00774 HPitch          RES     1       ; Table of pitch curve
00042D                00775 SWIDLEUPN       RES     1       ; Idle up switch for normal mode
00042E                00776 IdleUpNorm      RES     1       ; Idle up throttle position
                      00777 ; Throttle hold parameters:
00042F                00778 SWTHOLD         RES     1       ; Switch to activate throttle hold mode
000430                00779 THOLDp          RES     1       ; Throttle hold percentage
000431                00780 HthtSen         RES     1       ; Gyro sensitivity, output on CH5
000432                00781 HthtPitch       RES     1       ; Table of pitch curve
                      00782 ; Stunt mode 1 parameters:
000433                00783 SWSTUNT1        RES     1       ; Switch to activate stunt mode 1
000434                00784 Hst1Sen         RES     1       ; Gyro sensitivity, output on CH5
000435                00785 Hst1Tht         RES     1       ; Table for throttle curve
000436                00786 Hst1Pitch       RES     1       ; Table of pitch curve
000437                00787 SWIDLEUPST1     RES     1       ; Idle up switch for stunt mode 1
000438                00788 IdleUpST1       RES     1       ; Idle up throttle position
                      00789 ; Stunt mode 2 parameters:
000439                00790 SWSTUNT2        RES     1       ; Switch to activate stunt mode 2
00043A                00791 Hst2Sen         RES     1       ; Gyro sensitivity, output on CH5
00043B                00792 Hst2Tht         RES     1       ; Table for throttle curve
00043C                00793 Hst2Pitch       RES     1       ; Table of pitch curve
00043D                00794 SWIDLEUPST2     RES     1       ; Idle up switch for stunt mode 2
00043E                00795 IdleUpST2       RES     1       ; Idle up throttle position
                      00796 
                      00797 ; Throttle hold slew rate control valiables
00043F                00798 TstepSize       RES     2       ; Servo motion step size for each tick. This is set via the 
                      00799                                 ; helicopter function when the throttle hold mode is changed.
000441                00800 TtransistionT   RES     2       ; Throttle hold transistion time. This is user programmed.
                      00801 
000443                00802 Debug           RES     2
                      00803 
                      00804 ;******* BANK5 variables 
                      00805 ;
                      00806 ; This area is backed up in EEPROM memory
                      00807 ;
000500                00808                 ORG     0x500
000500                00809 BatteryTimer    RES     2       ; This variable holds the total "on" time of the
                      00810                                 ; transmitter. This value is saved in the EEPROM.
                      00811 ; System cofiguration Options
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000502                00812 Adapter         RES     1       ; This flag is set for the Adapter mode
000503                00813 Dog162          RES     1       ; This flag is set for the DOG 162 display
                      00814 
000580                00815                 ORG     0x580   ; Save space for more config flags
                      00816 
                      00817 ; These are the digital trim working variables. These values are uppdated when the aircraft 
                      00818 ; is saved/changed. These are the variables that save the active trim settings
000580                00819 DTail           RES     2
000582                00820 DTele           RES     2
000584                00821 DTrud           RES     2
000586                00822 DTtht           RES     2
                      00823                                 
                      00824 
                      00825 ;
                      00826 ; This page holds a copy of the primary aircraft setup variables. This data is used by
                      00827 ; the alternate aircraft function. The switch data held in this area is used to contol
                      00828 ; the selection.
                      00829 ;
000600                00830                 ORG     0x600
000600                00831 Backup          RES     D'256'
                      00832 
                      00833 ;
                      00834 ; This page holds the second backup 256 byte page of aircraft setup variables.
                      00835 ;
000700                00836                 ORG     0x700
                      00837 
                      00838 ;
                      00839 ; This page is used for the save aircraft name function
                      00840 ;
000800                00841                 ORG     0x800
                      00013         Include <Macros.asm>
                      00001 ; This file contains the marcos used by the MicroStar application.
                      00002  
                      00003 GOTOF           MACRO   ADDRS
                      00004                 GOTO    ADDRS
                      00005                 ENDM
                      00006 
                      00007 CALLF           MACRO   ADDRS
                      00008                 CALL    (ADDRS)
                      00009                 ENDM
                      00010 
                      00011 CALLFL          MACRO   ADDRS,VAL
                      00012                 MOVLW   (VAL)
                      00013                 CALL    (ADDRS)
                      00014                 ENDM
                      00015 
                      00016 CALLFW          MACRO   ADDRS
                      00017                 CALL    (ADDRS)
                      00018                 ENDM
                      00019 
                      00020 CALLFF          MACRO   ADDRS,VAL
                      00021                 MOVFP   (VAL),WREG
                      00022                 CALL    (ADDRS)
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00023                 ENDM
                      00024 
                      00025 PUSHREGS        MACRO                 ;macro for saving registers, used in high priority ISRs
                      00026                 MOVFF   ALUSTA,TEMP_ALUSTA
                      00027                 MOVFF   BSR,TEMP_BSR
                      00028                 MOVWF   TEMP_WREG
                      00029                 MOVFF   PRODL, TEMP_PRODL
                      00030                 MOVFF   PRODH, TEMP_PRODH
                      00031                 ENDM
                      00032 
                      00033 POPREGS         MACRO                 ;macro for restoring registers, used in high priority ISRs
                      00034                 MOVFF   TEMP_PRODL, PRODL
                      00035                 MOVFF   TEMP_PRODH, PRODH
                      00036                 MOVF    TEMP_WREG,W
                      00037                 MOVFF   TEMP_BSR,BSR
                      00038                 MOVFF   TEMP_ALUSTA,ALUSTA
                      00039                 ENDM
                      00040 
                      00041 PUSHREGSLOW     MACRO                 ;macro for saving registers, used in low priority ISRs
                      00042                 MOVFF   ALUSTA,TEMP_ALUSTA_L
                      00043                 MOVFF   WREG,TEMP_WREG_L
                      00044                 MOVFF   BSR,TEMP_BSR_L
                      00045                 MOVFF   PRODL, TEMP_PRODL_L
                      00046                 MOVFF   PRODH, TEMP_PRODH_L
                      00047                 ENDM
                      00048 
                      00049 
                      00050 POPREGSLOW      MACRO                 ;macro for restoring registers, used in low priority ISRs
                      00051                 MOVFF   TEMP_PRODL_L, PRODL
                      00052                 MOVFF   TEMP_PRODH_L, PRODH
                      00053                 MOVFF   TEMP_BSR_L,BSR
                      00054                 MOVFF   TEMP_WREG_L,WREG
                      00055                 MOVFF   TEMP_ALUSTA_L,ALUSTA
                      00056                 ENDM
                      00057 
                      00058 PrintMess       MACRO   MESSAGE
                      00059                 MOVLW   UPPER (MESSAGE)
                      00060                 MOVWF   TBLPTRU,A
                      00061                 MOVLW   HIGH (MESSAGE)
                      00062                 MOVWF   TBLPTRH,A
                      00063                 MOVLW   LOW (MESSAGE)
                      00064                 MOVWF   TBLPTRL,A
                      00065                 CALLF   LCDsendMess
                      00066                 ENDM
                      00067 
                      00068 PrintMessN      MACRO   MESSAGE
                      00069                 MOVFF   WREG,Areg
                      00070                 MOVLW   UPPER (MESSAGE)
                      00071                 MOVWF   TBLPTRU,A
                      00072                 MOVLW   HIGH (MESSAGE)
                      00073                 MOVWF   TBLPTRH,A
                      00074                 MOVLW   LOW (MESSAGE)
                      00075                 MOVWF   TBLPTRL,A
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00076                 MOVFF   Areg,WREG
                      00077                 CALLF   LCDsendMessN
                      00078                 ENDM
                      00079 
                      00080 ifdef   MicroProStar
                      00081 ; This macro sets the carry flag if the port's bit is set
                      00082 State           MACRO   PORT,BIT
                      00083                 if      PORT == PORTD
                      00084                 CALL    MP8KreadD
                      00085                 endif
                      00086                 if      PORT == PORTE
                      00087                 CALL    MP8KreadE
                      00088                 endif
                      00089                 BCF     ALUSTA,C
                      00090                 BTFSC   WREG,BIT
                      00091                 BSF     ALUSTA,C
                      00092                 ENDM
                      00093 ; Carry flag is cleared if the button is pressed and remains pressed
                      00094 ; 10 mSec later
                      00095 Pressed         MACRO   PORT,BIT
                      00096                 Local   Done
                      00097                 State   PORT,BIT
                      00098                 BTFSC   ALUSTA,C
                      00099                 GOTO    Done
                      00100                 MOVLW   D'10'
                      00101                 CALL    Delay1mS
                      00102                 State   PORT,BIT
                      00103 Done
                      00104                 ENDM
                      00105 ; Waits for a button to be released and stay released for 10 mSec
                      00106 Release         MACRO   PORT,BIT
                      00107                 Local   Wait
                      00108 Wait
                      00109                 State   PORT,BIT
                      00110                 BTFSS   ALUSTA,C
                      00111                 GOTO    Wait
                      00112                 MOVLW   D'10'
                      00113                 CALL    Delay1mS
                      00114                 State   PORT,BIT
                      00115                 BTFSS   ALUSTA,C
                      00116                 GOTO    Wait
                      00117                 ENDM
                      00118 else
                      00119 ; This macro sets the carry flag if the port's bit is set
                      00120 State           MACRO   PORT,BIT
                      00121                 MOVLB   HIGH PORT
                      00122                 BCF     ALUSTA,C
                      00123                 BTFSC   PORT,BIT
                      00124                 BSF     ALUSTA,C
                      00125                 ENDM
                      00126 
                      00127 ; Carry flag is cleared if the button is pressed and remains pressed
                      00128 ; 10 mSec later
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00129 Pressed         MACRO   PORT,BIT
                      00130                 State   PORT,BIT
                      00131                 BTFSC   ALUSTA,C
                      00132                 GOTO    $ + D'14'
                      00133                 MOVLW   D'10'
                      00134                 CALL    Delay1mS
                      00135                 State   PORT,BIT
                      00136                 ENDM
                      00137 
                      00138 ; Waits for a button to be released and stay released for 10 mSec
                      00139 Release         MACRO   PORT,BIT
                      00140                 State   PORT,BIT
                      00141                 BTFSS   ALUSTA,C
                      00142                 GOTO    $ - D'10'
                      00143                 MOVLW   D'10'
                      00144                 CALL    Delay1mS
                      00145                 State   PORT,BIT
                      00146                 BTFSS   ALUSTA,C
                      00147                 GOTO    $ - D'30'
                      00148                 ENDM
                      00149 endif
                      00150 MOVEB           MACRO   REG1,REG2
                      00151                 MOVFF   REG1,REG2
                      00152                 ENDM
                      00153                 
                      00154 MOVE16          MACRO   REG1,REG2
                      00155                 MOVFF   REG1,REG2
                      00156                 MOVFF   REG1+1,REG2+1
                      00157                 ENDM
                      00158                 
                      00159 MOVE            MACRO   REG1,REG2
                      00160                 MOVFF   REG1,REG2
                      00161                 MOVFF   REG1+1,REG2+1
                      00162                 ENDM
                      00163 
                      00164 MOVE24          MACRO   REG1,REG2
                      00165                 MOVFF   REG1,REG2
                      00166                 MOVFF   REG1+1,REG2+1
                      00167                 MOVFF   REG1+2,REG2+2
                      00168                 ENDM
                      00169                 
                      00170 MOVEC           MACRO   CONST,REG
                      00171                 MOVLR   HIGH (REG)
                      00172                 MOVLW   LOW (CONST)
                      00173                 MOVWF   (REG)
                      00174                 MOVLW   HIGH (CONST)
                      00175                 MOVWF   (REG+1)
                      00176                 ENDM     
                      00177                 
                      00178 MOVEC24         MACRO   CONST,REG
                      00179                 MOVLR   HIGH (REG)
                      00180                 MOVLW   LOW (CONST)
                      00181                 MOVWF   (REG)
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00182                 MOVLW   LOW (CONST/100)
                      00183                 MOVWF   (REG+1)
                      00184                 MOVLW   HIGH (CONST/100)
                      00185                 MOVWF   (REG+2)
                      00186                 ENDM
                      00187 
                      00188 ; The following macros support indirect word movements
                      00189 
                      00190         ; Move from address to word
                      00191 MOVEIW          MACRO   ADD,REG
                      00192                 MOVLW   0F
                      00193                 ANDWF   BSR,F
                      00194                 MOVLR   HIGH ADD
                      00195                 MOVFP   ADD,FSR1
                      00196                 MOVFP   ADD+1,WREG
                      00197                 SWAPF   WREG
                      00198                 IORWF   BSR,F
                      00199                 BCF     ALUSTA,FS3
                      00200                 BSF     ALUSTA,FS2
                      00201                 MOVPF   INDF1,REG
                      00202                 MOVPF   INDF1,REG+1
                      00203                 ENDM
                      00204                 
                      00205         ; Move from word to address
                      00206 MOVEWI          MACRO   REG,ADD
                      00207                 MACRO   ADD,REG
                      00208                 MOVLW   0F
                      00209                 ANDWF   BSR,F
                      00210                 MOVLR   HIGH ADD
                      00211                 MOVFP   ADD,FSR1
                      00212                 MOVFP   ADD+1,WREG
                      00213                 SWAPF   WREG
                      00214                 IORWF   BSR,F
                      00215                 BCF     ALUSTA,FS3
                      00216                 BSF     ALUSTA,FS2
                      00217                 MOVFP   REG,INDF1
                      00218                 MOVFP   REG+1,INDF1
                      00219                 ENDM  
                      00220                 
                      00221         ; Move from address to byte
                      00222 MOVEIB          MACRO   ADD,REG
                      00223                 MOVLW   0F
                      00224                 ANDWF   BSR,F
                      00225                 MOVLR   HIGH ADD
                      00226                 MOVFP   ADD,FSR1
                      00227                 MOVFP   ADD+1,WREG
                      00228                 SWAPF   WREG
                      00229                 IORWF   BSR,F
                      00230                 MOVPF   INDF1,WREG
                      00231                 MOVLR   HIGH REG
                      00232                 MOVWF   REG
                      00233                 ENDM
                      00234                 
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00235         ; Move from byte to address
                      00236 MOVEBI          MACRO   REG,ADD
                      00237                 MOVLR   HIGH REG
                      00238                 MOVFP   REG,PRODH
                      00239                 MOVLW   0F
                      00240                 ANDWF   BSR,F
                      00241                 MOVLR   HIGH ADD
                      00242                 MOVFP   ADD,FSR1
                      00243                 MOVFP   ADD+1,WREG
                      00244                 SWAPF   WREG
                      00245                 IORWF   BSR,F
                      00246                 MOVFP   PRODH,INDF1
                      00247                 ENDM
                      00248 ifdef           MicroProStar
                      00249 ; The following set of macros support the flagging system used to mark
                      00250 ; the IO system as busy and test if its busy.
                      00251 MP8K_SetBusy    MACRO
                      00252                 BSF     LATG,4
                      00253                 ENDM
                      00254                 
                      00255 MP8K_ResetBusy  MACRO
                      00256                 BCF     LATG,4
                      00257                 ENDM
                      00258                 
                      00259 ; Returns with the carry flag set if busy
                      00260 MP8K_IsBusy     MACRO
                      00261                 BCF     ALUSTA,C
                      00262                 BTFSC   LATG,4
                      00263                 BSF     ALUSTA,4
                      00264                 ENDM
                      00265                 
                      00266 ; Display macros
                      00267 SingleLine      MACRO
                      00268                 BCF     PIE3,TMR4IE     ; disable the interrupt
                      00269                 ENDM
                      00270                 
                      00271 DualLine        MACRO
                      00272                 BSF     PIE3,TMR4IE     ; enable the interrupt
                      00273                 BCF     PIR3,TMR4IF     ; Clear the interupt flag
                      00274                 ENDM
                      00275 endif
                      00276 ;**********************************************************************
                      00014 
                      00015 
                      00016 ;**********************************************************************
000200                00017                 ORG    OFFSET + 0x0
000200 EF6F F001      00018                 GOTO    Start
                      00019 
                      00020 ;************   High Priority INTERRUPT VECTOR
000208                00021                 ORG             0x008 + OFFSET
000208 EF0E F001      00022                 GOTO            HIGHISRS
                      00023 
                      00024 ;************   Low Priority INTERRUPT VECTOR
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000218                00025                 ORG             0x018 + OFFSET
000218 EF21 F001      00026                 GOTO            LOWISRS
                      00027 
00021C                00028 HIGHISRS
                      00029                 PUSHREGS                        ;save specific registers
00021C CFD8 F001          M                 MOVFF   ALUSTA,TEMP_ALUSTA
000220 CFE0 F002          M                 MOVFF   BSR,TEMP_BSR
000224 6E00               M                 MOVWF   TEMP_WREG
000226 CFF3 F003          M                 MOVFF   PRODL, TEMP_PRODL
00022A CFF4 F004          M                 MOVFF   PRODH, TEMP_PRODH
                      00030 
                      00031                 POPREGS                         ;restore specific registers
00022E C003 FFF3          M                 MOVFF   TEMP_PRODL, PRODL
000232 C004 FFF4          M                 MOVFF   TEMP_PRODH, PRODH
000236 5000               M                 MOVF    TEMP_WREG,W
000238 C002 FFE0          M                 MOVFF   TEMP_BSR,BSR
00023C C001 FFD8          M                 MOVFF   TEMP_ALUSTA,ALUSTA
000240 0010           00032                 retfie                          ;return from interrupt
                      00033                
                      00034 
000242                00035 LOWISRS
                      00036                 PUSHREGSLOW                     ;save specific registers
000242 CFD8 F006          M                 MOVFF   ALUSTA,TEMP_ALUSTA_L
000246 CFE8 F005          M                 MOVFF   WREG,TEMP_WREG_L
00024A CFE0 F007          M                 MOVFF   BSR,TEMP_BSR_L
00024E CFF3 F008          M                 MOVFF   PRODL, TEMP_PRODL_L
000252 CFF4 F009          M                 MOVFF   PRODH, TEMP_PRODH_L
                      00037         ; Test for Timer4 interrupt and process
000256 B6A4           00038                 BTFSC   PIR3,TMR4IF
000258 ECC6 F002      00039                 CALL    Timer4ISR
                      00040         ; Exit  
                      00041                 POPREGSLOW                      ;restore specific registers
00025C C008 FFF3          M                 MOVFF   TEMP_PRODL_L, PRODL
000260 C009 FFF4          M                 MOVFF   TEMP_PRODH_L, PRODH
000264 C007 FFE0          M                 MOVFF   TEMP_BSR_L,BSR
000268 C005 FFE8          M                 MOVFF   TEMP_WREG_L,WREG
00026C C006 FFD8          M                 MOVFF   TEMP_ALUSTA_L,ALUSTA
000270 0010           00042                 retfie                          ;return from interrupt
                      00043 
                      00044 
                      00045 ; This function will load the ADC mux byte from the ADCaddTbl table located
                      00046 ; in the general data area, page 2.
                      00047 ; On call WREG contains the ADC channel request and on return the data is in 
                      00048 ; WREG.
000272                00049 ADClookup
                      00050    ; Compute the jump location
000272 0B0F           00051                 ANDLW   0F
000274 0D06           00052                 MULLW   6
000276 CFF9 FFE8      00053                 MOVFF   PCL,WREG                ; Refresh the program counter latch
00027A 50F3           00054                 MOVF    PRODL,W,A
00027C 26F9           00055                 ADDWF   PCL     
                      00056 
00027E C2BB FFE8      00057                 MOVFF   ADCaddTbl, WREG
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000282 0012           00058                 RETURN
000284 C2BC FFE8      00059                 MOVFF   ADCaddTbl+1, WREG
000288 0012           00060                 RETURN
00028A C2BD FFE8      00061                 MOVFF   ADCaddTbl+2, WREG
00028E 0012           00062                 RETURN
000290 C2BE FFE8      00063                 MOVFF   ADCaddTbl+3, WREG
000294 0012           00064                 RETURN
000296 C2BF FFE8      00065                 MOVFF   ADCaddTbl+4, WREG
00029A 0012           00066                 RETURN
00029C C2C0 FFE8      00067                 MOVFF   ADCaddTbl+5, WREG
0002A0 0012           00068                 RETURN
0002A2 C2C1 FFE8      00069                 MOVFF   ADCaddTbl+6, WREG
0002A6 0012           00070                 RETURN
0002A8 C2C2 FFE8      00071                 MOVFF   ADCaddTbl+7, WREG
0002AC 0012           00072                 RETURN
0002AE C2C3 FFE8      00073                 MOVFF   ADCaddTbl+8, WREG
0002B2 0012           00074                 RETURN
0002B4 C2C4 FFE8      00075                 MOVFF   ADCaddTbl+9, WREG
0002B8 0012           00076                 RETURN
0002BA C2C5 FFE8      00077                 MOVFF   ADCaddTbl+0A, WREG
0002BE 0012           00078                 RETURN
0002C0 C2C6 FFE8      00079                 MOVFF   ADCaddTbl+0B, WREG
0002C4 0012           00080                 RETURN
0002C6 C2C7 FFE8      00081                 MOVFF   ADCaddTbl+0C, WREG
0002CA 0012           00082                 RETURN
0002CC C2C8 FFE8      00083                 MOVFF   ADCaddTbl+0D, WREG
0002D0 0012           00084                 RETURN
0002D2 C2C9 FFE8      00085                 MOVFF   ADCaddTbl+0E, WREG
0002D6 0012           00086                 RETURN
0002D8 C2CA FFE8      00087                 MOVFF   ADCaddTbl+0F, WREG
0002DC 0012           00088                 RETURN
                      00089                 
0002DE                00090 Start
                      00091         ; Startup delay to let hardware stabalize
0002DE 0E64           00092                 MOVLW   D'100'
0002E0 ECD6 F001      00093                 CALL    Delay1mS
                      00094         ; Init stuff
0002E4 ECDD F002      00095                 CALL    MP8Kinit
0002E8 EC47 F003      00096                 CALL    LCDinit
                      00097                 ; Port direction bits
0002EC 9892           00098                 BCF     DDRA,BUZZER,A           
0002EE 9E97           00099                 BCF     DDRF,MOD,A      
0002F0 ECC0 F003      00100                 CALL    ProcessorType
                      00101         ; Init the ADC table
0002F4 0E40           00102                 MOVLW   0x40
0002F6 CFE8 F2BB      00103                 MOVFF   WREG,ADCaddTbl+0
0002FA 0E41           00104                 MOVLW   0x41
0002FC CFE8 F2BC      00105                 MOVFF   WREG,ADCaddTbl+1
000300 0E82           00106                 MOVLW   0x82
000302 CFE8 F2BD      00107                 MOVFF   WREG,ADCaddTbl+2
000306 0E83           00108                 MOVLW   0x83
000308 CFE8 F2BE      00109                 MOVFF   WREG,ADCaddTbl+3
00030C 0E44           00110                 MOVLW   0x44
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00030E CFE8 F2BF      00111                 MOVFF   WREG,ADCaddTbl+4
000312 0E45           00112                 MOVLW   0x45
000314 CFE8 F2C0      00113                 MOVFF   WREG,ADCaddTbl+5
000318 0E46           00114                 MOVLW   0x46
00031A CFE8 F2C1      00115                 MOVFF   WREG,ADCaddTbl+6
00031E 0E47           00116                 MOVLW   0x47
000320 CFE8 F2C2      00117                 MOVFF   WREG,ADCaddTbl+7
000324 0E64           00118                 MOVLW   0x64
000326 CFE8 F2C3      00119                 MOVFF   WREG,ADCaddTbl+8
00032A 0E65           00120                 MOVLW   0x65
00032C CFE8 F2C4      00121                 MOVFF   WREG,ADCaddTbl+9
000330 0E66           00122                 MOVLW   0x66
000332 CFE8 F2C5      00123                 MOVFF   WREG,ADCaddTbl+0x0A
000336 0E67           00124                 MOVLW   0x67
000338 CFE8 F2C6      00125                 MOVFF   WREG,ADCaddTbl+0x0B
00033C 0E0C           00126                 MOVLW   0x0C
00033E CFE8 F2C7      00127                 MOVFF   WREG,ADCaddTbl+0x0C
000342 0E0D           00128                 MOVLW   0x0D
000344 CFE8 F2C8      00129                 MOVFF   WREG,ADCaddTbl+0x0D
                      00130         
                      00131         ; Enable global interrups...
000348 8EF2           00132                 BSF     INTCON,GIE
00034A 8CF2           00133                 BSF     INTCON,PEIE
00034C 8ED0           00134                 BSF     RCON,IPEN
                      00135 
                      00136                 
                      00137         ; Processing test loop
00034E                00138 LOOP
                      00139                 DualLine
00034E 86A3               M                 BSF     PIE3,TMR4IE     ; enable the interrupt
000350 96A4               M                 BCF     PIR3,TMR4IF     ; Clear the interupt flag
                      00140         ; Test if the option button and the preset button are pressed
                      00141         ; If they are both pressed then enter the IO test routine
                      00142                 Pressed PORTE,OPTION
  0000                    M                 Local   Done
                          M                 State   PORTE,OPTION
                          M                 if      PORTE == PORTD
                          M                 CALL    MP8KreadD
                          M                 endif
                          M                 if      PORTE == PORTE
000352 EC27 F003          M                 CALL    MP8KreadE
                          M                 endif
000356 90D8               M                 BCF     ALUSTA,C
000358 B4E8               M                 BTFSC   WREG,OPTION
00035A 80D8               M                 BSF     ALUSTA,C
00035C B0D8               M                 BTFSC   ALUSTA,C
00035E EFB9 F001          M                 GOTO    Done
000362 0E0A               M                 MOVLW   D'10'
000364 ECD6 F001          M                 CALL    Delay1mS
                          M                 State   PORTE,OPTION
                          M                 if      PORTE == PORTD
                          M                 CALL    MP8KreadD
                          M                 endif
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M                 if      PORTE == PORTE
000368 EC27 F003          M                 CALL    MP8KreadE
                          M                 endif
00036C 90D8               M                 BCF     ALUSTA,C
00036E B4E8               M                 BTFSC   WREG,OPTION
000370 80D8               M                 BSF     ALUSTA,C
000372                    M Done
000372 B0D8           00143                 BTFSC   ALUSTA,C
000374 EFCF F001      00144                 GOTO    mainStartup
                      00145                 Pressed PORTD,PRESET
  0000                    M                 Local   Done
                          M                 State   PORTD,PRESET
                          M                 if      PORTD == PORTD
000378 EC10 F003          M                 CALL    MP8KreadD
                          M                 endif
                          M                 if      PORTD == PORTE
                          M                 CALL    MP8KreadE
                          M                 endif
00037C 90D8               M                 BCF     ALUSTA,C
00037E B6E8               M                 BTFSC   WREG,PRESET
000380 80D8               M                 BSF     ALUSTA,C
000382 B0D8               M                 BTFSC   ALUSTA,C
000384 EFCC F001          M                 GOTO    Done
000388 0E0A               M                 MOVLW   D'10'
00038A ECD6 F001          M                 CALL    Delay1mS
                          M                 State   PORTD,PRESET
                          M                 if      PORTD == PORTD
00038E EC10 F003          M                 CALL    MP8KreadD
                          M                 endif
                          M                 if      PORTD == PORTE
                          M                 CALL    MP8KreadE
                          M                 endif
000392 90D8               M                 BCF     ALUSTA,C
000394 B6E8               M                 BTFSC   WREG,PRESET
000396 80D8               M                 BSF     ALUSTA,C
000398                    M Done
000398 A0D8           00146                 BTFSS   ALUSTA,C
00039A EFFC F001      00147                 GOTO    TestIO
00039E                00148 mainStartup
00039E EFCF F001      00149                 GOTO    mainStartup
                      00150 ;
                      00151 ; Delay subroutine. Delay = 2uS * WREG value
                      00152 ;
0003A2                00153 Delay2uS
0003A2 0000           00154                 NOP
0003A4 2EE8           00155                 DECFSZ  WREG
0003A6 EFD1 F001      00156                 GOTO    Delay2uS
0003AA 0012           00157                 RETURN
                      00158 
                      00159 ;
                      00160 ; Delay subroutine. Delay = 1mS * Areg value
                      00161 ;
0003AC                00162 Delay1mS
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0003AC 6E0A           00163                 MOVWF   Areg
0003AE                00164 Delay1mS0
0003AE 0EFA           00165                 MOVLW   D'250'
0003B0 ECD1 F001      00166                 CALL    Delay2uS
0003B4 0EFA           00167                 MOVLW   D'250'
0003B6 ECD1 F001      00168                 CALL    Delay2uS
0003BA 2E0A           00169                 DECFSZ  Areg
0003BC EFD7 F001      00170                 GOTO    Delay1mS0
0003C0 0012           00171                 RETURN
                      00172         
0003C2 2020 694D 7263 00173 MES1            DB      "  MicroProStar  ",0
       506F 6F72 7453 
       7261 2020 0000 
0003D4 2020 6556 7372 00174 MES2            DB      "  Version 2.0n  ",0
       6F69 206E 2E32 
       6E30 2020 0000 
0003E6 4441 2043 4843 00175 MES3            DB      "ADC CH    = XXXX",0
       2020 2020 203D 
       5858 5858 0000 
                      00176 
                      00177                 Include <TestIO.asm>
                      00001 ;
                      00002 ; This is a IO test routine entered when the Option and Preset buttons are
                      00003 ; held down during power up. The display will show binary data for ports
                      00004 ; D and E on the top line, and G and B on the second line.
                      00005 ;
                      00006 ifdef   MicroProStar
0003F8                00007 TestIO
                      00008                 SingleLine
0003F8 96A3               M                 BCF     PIE3,TMR4IE     ; disable the interrupt
0003FA EC66 F004      00009                 CALL    LCDshowLine1
                      00010         ; Make sure test select buttons are released
                      00011                 Release PORTE,OPTION
  0000                    M                 Local   Wait
0003FE                    M Wait
                          M                 State   PORTE,OPTION
                          M                 if      PORTE == PORTD
                          M                 CALL    MP8KreadD
                          M                 endif
                          M                 if      PORTE == PORTE
0003FE EC27 F003          M                 CALL    MP8KreadE
                          M                 endif
000402 90D8               M                 BCF     ALUSTA,C
000404 B4E8               M                 BTFSC   WREG,OPTION
000406 80D8               M                 BSF     ALUSTA,C
000408 A0D8               M                 BTFSS   ALUSTA,C
00040A EFFF F001          M                 GOTO    Wait
00040E 0E0A               M                 MOVLW   D'10'
000410 ECD6 F001          M                 CALL    Delay1mS
                          M                 State   PORTE,OPTION
                          M                 if      PORTE == PORTD
                          M                 CALL    MP8KreadD
                          M                 endif
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M                 if      PORTE == PORTE
000414 EC27 F003          M                 CALL    MP8KreadE
                          M                 endif
000418 90D8               M                 BCF     ALUSTA,C
00041A B4E8               M                 BTFSC   WREG,OPTION
00041C 80D8               M                 BSF     ALUSTA,C
00041E A0D8               M                 BTFSS   ALUSTA,C
000420 EFFF F001          M                 GOTO    Wait
                      00012                 Release PORTD,PRESET
  0000                    M                 Local   Wait
000424                    M Wait
                          M                 State   PORTD,PRESET
                          M                 if      PORTD == PORTD
000424 EC10 F003          M                 CALL    MP8KreadD
                          M                 endif
                          M                 if      PORTD == PORTE
                          M                 CALL    MP8KreadE
                          M                 endif
000428 90D8               M                 BCF     ALUSTA,C
00042A B6E8               M                 BTFSC   WREG,PRESET
00042C 80D8               M                 BSF     ALUSTA,C
00042E A0D8               M                 BTFSS   ALUSTA,C
000430 EF12 F002          M                 GOTO    Wait
000434 0E0A               M                 MOVLW   D'10'
000436 ECD6 F001          M                 CALL    Delay1mS
                          M                 State   PORTD,PRESET
                          M                 if      PORTD == PORTD
00043A EC10 F003          M                 CALL    MP8KreadD
                          M                 endif
                          M                 if      PORTD == PORTE
                          M                 CALL    MP8KreadE
                          M                 endif
00043E 90D8               M                 BCF     ALUSTA,C
000440 B6E8               M                 BTFSC   WREG,PRESET
000442 80D8               M                 BSF     ALUSTA,C
000444 A0D8               M                 BTFSS   ALUSTA,C
000446 EF12 F002          M                 GOTO    Wait
00044A                00013 TestIOa
                      00014         ; Display the digitial port data
00044A 0E80           00015                 MOVLW   LINE1
00044C EC94 F003      00016                 CALL    LCDsendCMD
000450 EC10 F003      00017                 CALL    MP8KreadD
000454 EC96 F004      00018                 CALL    LCDbinary
000458 0EC0           00019                 MOVLW   LINE1+LCDRIGHT
00045A EC94 F003      00020                 CALL    LCDsendCMD
00045E EC27 F003      00021                 CALL    MP8KreadE
000462 EC96 F004      00022                 CALL    LCDbinary
                      00023         ; Use aileron dual rate to drive mod pin, this is useful for
                      00024         ; setting the RF deck modulation depth
000466 EC10 F003      00025                 CALL    MP8KreadD
00046A B0E8           00026                 BTFSC   WREG,AilDR
00046C 8E85           00027                 BSF     PORTF,MOD
00046E A0E8           00028                 BTFSS   WREG,AilDR
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000470 9E85           00029                 BCF     PORTF,MOD
                      00030         ; Use rudder dual rate to turn on and off buzzer
000472 9880           00031                 BCF     PORTA,BUZZER,A 
000474 B4E8           00032                 BTFSC   WREG,RudDR
000476 8880           00033                 BSF     PORTA,BUZZER,A 
000478 EC3E F003      00034                 CALL    MP8Kbuzzer      
                      00035                 ; Delay a bit
00047C 0E32           00036                 MOVLW   D'50'
00047E ECD6 F001      00037                 CALL    Delay1mS
                      00038                 Pressed PORTE,OPTION
  0000                    M                 Local   Done
                          M                 State   PORTE,OPTION
                          M                 if      PORTE == PORTD
                          M                 CALL    MP8KreadD
                          M                 endif
                          M                 if      PORTE == PORTE
000482 EC27 F003          M                 CALL    MP8KreadE
                          M                 endif
000486 90D8               M                 BCF     ALUSTA,C
000488 B4E8               M                 BTFSC   WREG,OPTION
00048A 80D8               M                 BSF     ALUSTA,C
00048C B0D8               M                 BTFSC   ALUSTA,C
00048E EF51 F002          M                 GOTO    Done
000492 0E0A               M                 MOVLW   D'10'
000494 ECD6 F001          M                 CALL    Delay1mS
                          M                 State   PORTE,OPTION
                          M                 if      PORTE == PORTD
                          M                 CALL    MP8KreadD
                          M                 endif
                          M                 if      PORTE == PORTE
000498 EC27 F003          M                 CALL    MP8KreadE
                          M                 endif
00049C 90D8               M                 BCF     ALUSTA,C
00049E B4E8               M                 BTFSC   WREG,OPTION
0004A0 80D8               M                 BSF     ALUSTA,C
0004A2                    M Done
0004A2 B0D8           00039                 BTFSC   ALUSTA,C
0004A4 EF25 F002      00040                 GOTO    TestIOa
                      00041                 Release PORTE,OPTION
  0000                    M                 Local   Wait
0004A8                    M Wait
                          M                 State   PORTE,OPTION
                          M                 if      PORTE == PORTD
                          M                 CALL    MP8KreadD
                          M                 endif
                          M                 if      PORTE == PORTE
0004A8 EC27 F003          M                 CALL    MP8KreadE
                          M                 endif
0004AC 90D8               M                 BCF     ALUSTA,C
0004AE B4E8               M                 BTFSC   WREG,OPTION
0004B0 80D8               M                 BSF     ALUSTA,C
0004B2 A0D8               M                 BTFSS   ALUSTA,C
0004B4 EF54 F002          M                 GOTO    Wait
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0004B8 0E0A               M                 MOVLW   D'10'
0004BA ECD6 F001          M                 CALL    Delay1mS
                          M                 State   PORTE,OPTION
                          M                 if      PORTE == PORTD
                          M                 CALL    MP8KreadD
                          M                 endif
                          M                 if      PORTE == PORTE
0004BE EC27 F003          M                 CALL    MP8KreadE
                          M                 endif
0004C2 90D8               M                 BCF     ALUSTA,C
0004C4 B4E8               M                 BTFSC   WREG,OPTION
0004C6 80D8               M                 BSF     ALUSTA,C
0004C8 A0D8               M                 BTFSS   ALUSTA,C
0004CA EF54 F002          M                 GOTO    Wait
                      00042         ; Read and display the ADC channels... 
0004CE 0100           00043                 MOVLR   HIGH AXreg
0004D0 6A0D           00044                 CLRF    AXreg
                      00045 else
                      00046 TestIO
                      00047                 Release PORTE,OPTION
                      00048                 Release PORTD,PRESET
                      00049 TestIOa
                      00050 ifdef ECMA1010display
                      00051                 MOVLW   LINE1
                      00052                 CALL    LCDsendCMD
                      00053                 PrintMess MES0
                      00054                 MOVLW   LINE2
                      00055                 CALL    LCDsendCMD
                      00056                 PrintMess MES0
                      00057                 MOVLW   LINE3
                      00058                 CALL    LCDsendCMD
                      00059                 PrintMess MES0
                      00060                 MOVLW   LINE4
                      00061                 CALL    LCDsendCMD
                      00062                 PrintMess MES0
                      00063 endif
                      00064         ; Read and display parallel IO ports
                      00065                 MOVLW   LINE1
                      00066                 CALL    LCDsendCMD      ; First line of display
                      00067                 MOVLB   HIGH PORTD      ; Port D
                      00068                 MOVFP   PORTD,WREG
                      00069                 CALL    LCDbinary
                      00070 ifdef ECMA1010display
                      00071                 MOVLW   LINE2
                      00072                 CALL    LCDsendCMD
                      00073 endif
                      00074                 MOVLB   HIGH PORTE      ; Port E
                      00075                 MOVFP   PORTE,WREG
                      00076                 CALL    LCDbinary
                      00077                 MOVLW   LINE3           ; Second line of display
                      00078                 CALL    LCDsendCMD
                      00079                 MOVLB   HIGH PORTG      ; Port G
                      00080                 MOVFP   PORTG,WREG
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00081                 CALL    LCDbinary
                      00082 ifdef ECMA1010display
                      00083                 MOVLW   LINE4
                      00084                 CALL    LCDsendCMD
                      00085 endif
                      00086                 MOVLB   HIGH PORTB      ; Port B
                      00087                 MOVFP   PORTB,WREG
                      00088                 CALL    LCDbinary
                      00089         ; Test LEDs
                      00090         ; PortD bit 0 (Ail DR) = LED1
                      00091         ; PortD bit 1 (Eve DR) = LED2
                      00092                 MOVLB   HIGH PORTD
                      00093                 MOVFP   PORTD,WREG
                      00094                 BSF     PORTC,LED1
                      00095                 BSF     PORTB,LED2
                      00096                 BTFSC   WREG,0
                      00097                 BCF     PORTC,LED1
                      00098                 BTFSC   WREG,1
                      00099                 BCF     PORTB,LED2
                      00100         ; Test the buzzer = PORTD bit 2 (Rud DR)
                      00101                 BCF     PORTA,BUZZER
                      00102                 BTFSC   WREG,2
                      00103                 BSF     PORTA,BUZZER
                      00104         ; Loop untill the option button is pressed...
                      00105                 MOVLW   D'50'
                      00106                 CALL    Delay1mS
                      00107                 Pressed PORTE,OPTION
                      00108                 BTFSC   ALUSTA,C
                      00109                 GOTO    TestIOa
                      00110                 Release PORTE,OPTION
                      00111         ; Read the ADC channels...
                      00112 ifdef ECMA1010display
                      00113                 MOVLW   LINE3
                      00114                 CALL    LCDsendCMD
                      00115                 PrintMess MES0
                      00116                 MOVLW   LINE4
                      00117                 CALL    LCDsendCMD
                      00118                 PrintMess MES0
                      00119 endif
                      00120                 MOVLW   LINE2
                      00121                 CALL    LCDsendCMD
                      00122                 PrintMess MES0
                      00123                 MOVLR   HIGH AXreg
                      00124                 CLRF    AXreg
                      00125 endif
0004D2                00126 TestIO1
0004D2 0E80           00127                 MOVLW   LINE1
0004D4 EC94 F003      00128                 CALL    LCDsendCMD
                      00129                 PrintMess MES3
0004D8 0E00               M                 MOVLW   UPPER (MES3)
0004DA 6EF8               M                 MOVWF   TBLPTRU,A
0004DC 0E03               M                 MOVLW   HIGH (MES3)
0004DE 6EF7               M                 MOVWF   TBLPTRH,A
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0004E0 0EE6               M                 MOVLW   LOW (MES3)
0004E2 6EF6               M                 MOVWF   TBLPTRL,A
                          M                 CALLF   LCDsendMess
0004E4 EC6A F004          M                 CALL    (LCDsendMess)
0004E8 0E86           00130                 MOVLW   LINE1+TESTCHPOS
0004EA EC94 F003      00131                 CALL    LCDsendCMD
0004EE 0100           00132                 MOVLR   HIGH AXreg
0004F0 500D           00133                 MOVFP   AXreg,WREG
0004F2 ECA3 F004      00134                 CALL    LCDhex
0004F6 ECE6 F003      00135                 CALL    ADCread
                      00136                 ; divide by 4 if its the PIC 18F8722
0004FA C0F8 FFE8      00137                 MOVFF   PIC18F8723,WREG
0004FE 66E8           00138                 TSTFSZ  WREG,A
000500 EF88 F002      00139                 GOTO    TestIO2
000504 90D8           00140                 BCF     ALUSTA,C,A
000506 32C4           00141                 RRCF    ADRESH,F,A
000508 32C3           00142                 RRCF    ADRESL,F,A
00050A 90D8           00143                 BCF     ALUSTA,C,A
00050C 32C4           00144                 RRCF    ADRESH,F,A
00050E 32C3           00145                 RRCF    ADRESL,F,A
000510                00146 TestIO2         ;
000510 0EC4           00147                 MOVLW   LINE1+TESTVALPOS
000512 EC94 F003      00148                 CALL    LCDsendCMD
000516 010F           00149                 MOVLB   HIGH ADRESH
000518 CFC4 FFE8      00150                 MOVPF   ADRESH,WREG
00051C ECA3 F004      00151                 CALL    LCDhex  
000520 010F           00152                 MOVLB   HIGH ADRESL
000522 CFC3 FFE8      00153                 MOVPF   ADRESL,WREG
000526 ECA3 F004      00154                 CALL    LCDhex  
                      00155         ; Delay
00052A 0E32           00156                 MOVLW   D'50'
00052C ECD6 F001      00157                 CALL    Delay1mS
                      00158         ; If option button is pressed then advance to next channel
                      00159         ; after channel 12, exit
                      00160                 Pressed PORTE,OPTION
  0000                    M                 Local   Done
                          M                 State   PORTE,OPTION
                          M                 if      PORTE == PORTD
                          M                 CALL    MP8KreadD
                          M                 endif
                          M                 if      PORTE == PORTE
000530 EC27 F003          M                 CALL    MP8KreadE
                          M                 endif
000534 90D8               M                 BCF     ALUSTA,C
000536 B4E8               M                 BTFSC   WREG,OPTION
000538 80D8               M                 BSF     ALUSTA,C
00053A B0D8               M                 BTFSC   ALUSTA,C
00053C EFA8 F002          M                 GOTO    Done
000540 0E0A               M                 MOVLW   D'10'
000542 ECD6 F001          M                 CALL    Delay1mS
                          M                 State   PORTE,OPTION
                          M                 if      PORTE == PORTD
                          M                 CALL    MP8KreadD
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M                 endif
                          M                 if      PORTE == PORTE
000546 EC27 F003          M                 CALL    MP8KreadE
                          M                 endif
00054A 90D8               M                 BCF     ALUSTA,C
00054C B4E8               M                 BTFSC   WREG,OPTION
00054E 80D8               M                 BSF     ALUSTA,C
000550                    M Done
000550 B0D8           00161                 BTFSC   ALUSTA,C
000552 EF69 F002      00162                 GOTO    TestIO1
                      00163                 Release PORTE,OPTION
  0000                    M                 Local   Wait
000556                    M Wait
                          M                 State   PORTE,OPTION
                          M                 if      PORTE == PORTD
                          M                 CALL    MP8KreadD
                          M                 endif
                          M                 if      PORTE == PORTE
000556 EC27 F003          M                 CALL    MP8KreadE
                          M                 endif
00055A 90D8               M                 BCF     ALUSTA,C
00055C B4E8               M                 BTFSC   WREG,OPTION
00055E 80D8               M                 BSF     ALUSTA,C
000560 A0D8               M                 BTFSS   ALUSTA,C
000562 EFAB F002          M                 GOTO    Wait
000566 0E0A               M                 MOVLW   D'10'
000568 ECD6 F001          M                 CALL    Delay1mS
                          M                 State   PORTE,OPTION
                          M                 if      PORTE == PORTD
                          M                 CALL    MP8KreadD
                          M                 endif
                          M                 if      PORTE == PORTE
00056C EC27 F003          M                 CALL    MP8KreadE
                          M                 endif
000570 90D8               M                 BCF     ALUSTA,C
000572 B4E8               M                 BTFSC   WREG,OPTION
000574 80D8               M                 BSF     ALUSTA,C
000576 A0D8               M                 BTFSS   ALUSTA,C
000578 EFAB F002          M                 GOTO    Wait
                      00164         ; Advance ADC channel
00057C 0100           00165                 MOVLR   HIGH AXreg
00057E 2A0D           00166                 INCF    AXreg
000580 0E0C           00167                 MOVLW   D'12'
000582 640D           00168                 CPFSGT  AXreg
000584 EF69 F002      00169                 GOTO    TestIO1
000588 EF25 F002      00170                 GOTO    TestIOa
                      00178                 Include <MP8000.asm>
                      00001 ;
                      00002 ; MP8000.asm
                      00003 ;
                      00004 ; This file contains all the drivers and interface routines for the MP8000 interface
                      00005 ; PC board. This interface board is designed to plug into the 68HC11 socket and upgrade
                      00006 ; the MP8000 without the need for any hardware changes.
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00007 ;
                      00008 ; PIC port              68CH11 port             Function
                      00009 ; E                     C                       Address / data
                      00010 ; D                     B                       High address
                      00011 ; 
                      00012 ; C3                    A0                      CH8 - A
                      00013 ; C4                    A1                      CH8 - C
                      00014 ; J1                    A2                      Option
                      00015 ; B5                    A3                      LCD-RS, ADC MUX
                      00016 ; B4                    A4                      LCD-RW
                      00017 ; B3                    A5                      LCD-E
                      00018 ; F7                    A6                      Mod
                      00019 ; J7                    A7                      Auto-Trim
                      00020 ;
                      00021 ; C7                    D0                      RS232, Rec
                      00022 ; C6                    D1                      RS232, Trans
                      00023 ; J2                    D2                      Alt Aircraft
                      00024 ; J3                    D3                      Run/Cal
                      00025 ; J4                    D4
                      00026 ; J5                    D5                      Preset
                      00027 ;
                      00028 ; C1                    AS                      Address Strobe
                      00029 ; C2                    R/W                     Read / Write
                      00030 ; C0                    E                       Enable
                      00031 ;
                      00032 ; F0 AN5                E0                      Ele, Ele trim
                      00033 ; A5 AN4                E1                      Ail, Ail trim
                      00034 ; F1 AN6                E2                      Rud, Rud trim
                      00035 ; F2 AN7                E3                      Tht, Tht trim
                      00036 ; J0                    E4                      CH5
                      00037 ; A0 AN0                E5                      CH6
                      00038 ; A1 AN1                E6                      CH7
                      00039 ; H6 AN14               E7 (pin 50)             Voltage ref?
                      00040 ;
                      00041 ; H7 AN15               VRH (pin 52)            Bat ref
                      00042 ;                       VRL
                      00043 ;
                      00044 ; Notes:
                      00045 ;       1.) The MP8000 reference is generated from the battery and provides a high and low
                      00046 ;           reference value. Thes are on the processor pins 52, and 51. The voltages are
                      00047 ;           2.5 volts at pin 51 and 5 volts at pin 52 for a 10 volt source. The joystick
                      00048 ;           pots vary between 2.5 and 5 volts.
                      00049 ;       2.) The reference generated from the regulated 5 volts on pin 50 is 3.15 volts,
                      00050 ;           not sure what this is for.
                      00051 ;       3.) In the MicroStar when the Run/Cal swith is in cal mode and the Auto trim button
                      00052 ;           and option button are pressed then the bootloader will not start the application 
                      00053 ;           on powerup. In the MicroStar:
                      00054 ;                               Port E bit 0 = Run/Cal
                      00055 ;                               Port E bit 1 = Auto Trim
                      00056 ;                               Port E bit 2 - Option
                      00057 ;           A different version of the boot loader is needed for the MicroProStar if this 
                      00058 ;           function is needed.
                      00059 ;
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00060 ;       Port G bit 4 is used as a flag to indicate the IO system is busy on the MP8K
                      00061 ;       interface. This is needed to keep the interrupt IO from corrupting the 
                      00062 ;       polling loop IO.
                      00063 ;       Timer 4 is used to control the LCD display. The LCD display holds both line one 
                      00064 ;       line 2 of display data but can only display one line at a time. In the timer
                      00065 ;       function the display is flopped back and forth between line 1 and 2 every
                      00066 ;       half second.
                      00067 ;
                      00068 ; PIC18F8722 port and bit names
                      00069 
  00000F84            00070 MP8K_AD         EQU     PORTE
  00000F8D            00071 MP8K_AD_LATCH   EQU     LATE
  00000F83            00072 MP8K_HA         EQU     PORTD
  00000F82            00073 MP8K_SW1        EQU     PORTC
  00000F88            00074 MP8K_SW2        EQU     PORTJ
  00000F81            00075 MP8K_LCD        EQU     PORTB
                      00076 
                      00077 ; Port bits assignments
                      00078 
                      00079 ;MP8K_LCD
  00000005            00080 MP8K_LCD_RS     EQU     5
  00000004            00081 MP8K_LCD_RW     EQU     4
  00000003            00082 MP8K_LCD_E      EQU     3
                      00083 
                      00084 
                      00085 ; MP8K_SW1
  00000000            00086 MP8K_E          EQU     0               ; Output
  00000001            00087 MP8K_AS         EQU     1               ; Output
  00000002            00088 MP8K_RW         EQU     2               ; Output
  00000003            00089 MP8K_CH8A       EQU     3               ; Input
  00000004            00090 MP8K_CH8C       EQU     4               ; Input
                      00091 
                      00092 ; MP8K_SW2
  00000000            00093 MP8K_CH5        EQU     0               ; Input
  00000001            00094 MP8K_OPT        EQU     1               ; Input
  00000002            00095 MP8K_AAC        EQU     2               ; Input
  00000003            00096 MP8K_RUNCAL     EQU     3               ; Input
  00000005            00097 MP8K_PRESET     EQU     5               ; Input
                      00098 
                      00099 ;
                      00100 ; This interrupt happens at about 30 Hz. This routine is used to control the display
                      00101 ; line number. The line displayed is switched back and forth every half second.
                      00102 ;
00058C                00103 Timer4ISR
                      00104         ; If the IO system is busy just exit without doing anything
                      00105                 MP8K_IsBusy
00058C 90D8               M                 BCF     ALUSTA,C
00058E B88F               M                 BTFSC   LATG,4
000590 88D8               M                 BSF     ALUSTA,4
000592 B0D8           00106                 BTFSC   ALUSTA,C
000594 EFDB F002      00107                 GOTO    Timer4exit
                      00108         ; Count the interrupt number
000598 0100           00109                 MOVLR   HIGH TMR4intNum
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00059A 2BFF           00110                 INCF    TMR4intNum
00059C 0E19           00111                 MOVLW   D'25'
00059E 63FF           00112                 CPFSEQ  TMR4intNum
0005A0 EFD4 F002      00113                 GOTO    Timer4next
                      00114         ; Here if count is 15 so display line 2
0005A4 EC4A F004      00115                 CALL    LCDshowLine2
0005A8                00116 Timer4next
0005A8 0E32           00117                 MOVLW   D'50'
0005AA 63FF           00118                 CPFSEQ  TMR4intNum
0005AC EFDB F002      00119                 GOTO    Timer4exit
                      00120         ; Here is count is 30 so display line 1
0005B0 EC66 F004      00121                 CALL    LCDshowLine1    
0005B4 6BFF           00122                 CLRF    TMR4intNum
                      00123         ; Exit
0005B6                00124 Timer4exit
0005B6 96A4           00125                 BCF     PIR3,TMR4IF     ; Clear the interupt flag
0005B8 0012           00126                 RETURN
                      00127 
                      00128 ;
                      00129 ; This function initalizes the IO ports and hardware that is specific to the MP8000.
                      00130 ;
0005BA                00131 MP8Kinit
                      00132         ; Setup Switch port 1, port C
0005BA 010F           00133                 MOVLB   HIGH DDRC
0005BC 9094           00134                 BCF     DDRC,MP8K_E
0005BE 9294           00135                 BCF     DDRC,MP8K_AS
0005C0 9494           00136                 BCF     DDRC,MP8K_RW
0005C2 8694           00137                 BSF     DDRC,MP8K_CH8A
0005C4 8894           00138                 BSF     DDRC,MP8K_CH8C
0005C6 010F           00139                 MOVLB   HIGH MP8K_SW1
0005C8 9082           00140                 BCF     MP8K_SW1,MP8K_E
0005CA 8282           00141                 BSF     MP8K_SW1,MP8K_AS
0005CC 8482           00142                 BSF     MP8K_SW1,MP8K_RW
                      00143         ; Setup Switch port 2, port J
0005CE 010F           00144                 MOVLB   HIGH DDRJ
0005D0 8088           00145                 BSF     MP8K_SW2,MP8K_CH5       
0005D2 8288           00146                 BSF     MP8K_SW2,MP8K_OPT       
0005D4 8488           00147                 BSF     MP8K_SW2,MP8K_AAC       
0005D6 8688           00148                 BSF     MP8K_SW2,MP8K_RUNCAL    
0005D8 8A88           00149                 BSF     MP8K_SW2,MP8K_PRESET    
                      00150         ; Make Address / Data port an input port for now
0005DA 68E8           00151                 SETF    WREG
0005DC 010F           00152                 MOVLB   HIGH DDRE
0005DE 6E96           00153                 MOVWF   DDRE            
                      00154         ; High address port is always an output, set address at 0
0005E0 6AE8           00155                 CLRF    WREG
0005E2 010F           00156                 MOVLB   HIGH DDRD
0005E4 6E95           00157                 MOVWF   DDRD            
0005E6 010F           00158                 MOVLB   HIGH MP8K_HA
0005E8 6E83           00159                 MOVWF   MP8K_HA 
                      00160         ; Setup timer 4 to be used for display control
0005EA 6AE8           00161                 CLRF    WREG
0005EC CFE8 F0FF      00162                 MOVFF   WREG,TMR4intNum
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0005F0 0E7F           00163                 MOVLW   0x7F            ; 1:16 postscal, timer on, prescaller = 16
0005F2 6E76           00164                 MOVWF   T4CON
0005F4 68E8           00165                 SETF    WREG
0005F6 6E77           00166                 MOVWF   PR4             ; Set period register to 255
                      00167                 ; enable the interrupt
0005F8 86A3           00168                 BSF     PIE3,TMR4IE     ; enable the interrupt
0005FA 96A4           00169                 BCF     PIR3,TMR4IF     ; Clear the interupt flag
0005FC 96A5           00170                 BCF     IPR3,TMR4IP     ; Set priority to low
0005FE 0012           00171                 RETURN
                      00172 
                      00173 ; This function reads the port that is defined at the address in WREG. The
                      00174 ; port data is returned in WREG and its written into the data port latch.
000600                00175 MP8KreadPort
                      00176         ; Send the port address to high address IO port
000600 6E83           00177                 MOVWF   MP8K_HA,A
                      00178         ; Set the data port to input
000602 6896           00179                 SETF    DDRE
                      00180         ; Enable the port
000604 8082           00181                 BSF     MP8K_SW1,MP8K_E,A
                      00182         ; Read the data
000606 0000           00183                 NOP
000608 5084           00184                 MOVF    MP8K_AD,W,A
                      00185         ; Disable the port
00060A 9082           00186                 BCF     MP8K_SW1,MP8K_E,A
                      00187         ; Save the data in the por latch
00060C CFE8 FF8D      00188                 MOVFF   WREG,MP8K_AD_LATCH
                      00189         ; Exit
000610 0012           00190                 RETURN
                      00191                 
                      00192 ; This function writes the data in the data port to the address defined in
                      00193 ; WREG.
000612                00194 MP8KwritePort
                      00195         ; Send the port address to high address IO port
000612 CFE8 FF83      00196                 MOVFF   WREG,MP8K_HA
                      00197         ; Set the data port to output
000616 6A96           00198                 CLRF    DDRE
                      00199         ; Enable the port
000618 8082           00200                 BSF     MP8K_SW1,MP8K_E,A
                      00201         ; Disable the port
00061A 9082           00202                 BCF     MP8K_SW1,MP8K_E,A
                      00203         ; Set the data port to input
00061C 6896           00204                 SETF    DDRE
                      00205         ; Exit
00061E 0012           00206                 RETURN
                      00207         
                      00208 ; This function emulates the reading of portD and returns the data in the WREG
                      00209 ; register.
                      00210 ;
                      00211 ; PortD bits, returned in WREG
                      00212 ;AilDR          0
                      00213 ;EleDR          1
                      00214 ;RudDR          2
                      00215 ;PRESET         3
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00216 ;MIX1           4
                      00217 ;MIX2           5
                      00218 ;MIX3           6
                      00219 ;CH5            7
                      00220 ;
000620                00221 MP8KreadD
                      00222                 MP8K_SetBusy
000620 888F               M                 BSF     LATG,4
                      00223         ; Read the switch input port
000622 0E28           00224                 MOVLW   0x28
000624 EC00 F003      00225                 CALL    MP8KreadPort
                      00226         ; Mark the right bits in the output reg, WREG
000628 6AE8           00227                 CLRF    WREG
00062A B68D           00228                 BTFSC   MP8K_AD_LATCH,3
00062C 88E8           00229                 BSF     WREG,MIX1,A
00062E B88D           00230                 BTFSC   MP8K_AD_LATCH,4
000630 8AE8           00231                 BSF     WREG,MIX2,A
000632 BA8D           00232                 BTFSC   MP8K_AD_LATCH,5
000634 8CE8           00233                 BSF     WREG,MIX3,A
000636 B08D           00234                 BTFSC   MP8K_AD_LATCH,0
000638 82E8           00235                 BSF     WREG,EleDR,A
00063A B28D           00236                 BTFSC   MP8K_AD_LATCH,1
00063C 80E8           00237                 BSF     WREG,AilDR,A
00063E B48D           00238                 BTFSC   MP8K_AD_LATCH,2
000640 84E8           00239                 BSF     WREG,RudDR,A
                      00240         ; Mark the bits using direct mapped ports
000642 B088           00241                 BTFSC   MP8K_SW2,MP8K_CH5
000644 8EE8           00242                 BSF     WREG,CH5,A
000646 BA88           00243                 BTFSC   MP8K_SW2,MP8K_PRESET
000648 86E8           00244                 BSF     WREG,PRESET,A
                      00245         ; Exit
                      00246                 MP8K_ResetBusy
00064A 988F               M                 BCF     LATG,4
00064C 0012           00247                 RETURN
                      00248 
                      00249 ; This function emulates the reading of portE and returns the data in the WREG
                      00250 ; register.
                      00251 ;
                      00252 ; PortE bits, returned in WREG
                      00253 ;RUNCAL         0
                      00254 ;AUTOT          1
                      00255 ;OPTION         2
                      00256 ;CH8A           3
                      00257 ;CH8C           4
                      00258 ;ALTAFK         5
                      00259 ;SNAPR          6
                      00260 ;SNAPL          7
                      00261 ;
00064E                00262 MP8KreadE
                      00263                 MP8K_SetBusy
00064E 888F               M                 BSF     LATG,4
                      00264         ; Read the switch input port
000650 0E28           00265                 MOVLW   0x28
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000652 EC00 F003      00266                 CALL    MP8KreadPort
                      00267         ; Mark the right bits in the output reg, WREG
000656 6AE8           00268                 CLRF    WREG
000658 BC8D           00269                 BTFSC   MP8K_AD_LATCH,6
00065A 8CE8           00270                 BSF     WREG,SNAPR,A
00065C BE8D           00271                 BTFSC   MP8K_AD_LATCH,7
00065E 8EE8           00272                 BSF     WREG,SNAPL,A
                      00273         ; Mark the bits using direct mapped ports
000660 B682           00274                 BTFSC   MP8K_SW1,MP8K_CH8A
000662 86E8           00275                 BSF     WREG,CH8A,A
000664 B882           00276                 BTFSC   MP8K_SW1,MP8K_CH8C
000666 88E8           00277                 BSF     WREG,CH8C,A
000668 B688           00278                 BTFSC   MP8K_SW2,MP8K_RUNCAL
00066A 80E8           00279                 BSF     WREG,RUNCAL,A
00066C B288           00280                 BTFSC   MP8K_SW2,MP8K_OPT
00066E 84E8           00281                 BSF     WREG,OPTION,A
000670 B488           00282                 BTFSC   MP8K_SW2,MP8K_AAC
000672 8AE8           00283                 BSF     WREG,ALTAFK,A
000674 BE88           00284                 BTFSC   PORTJ,7
000676 82E8           00285                 BSF     WREG,AUTOT,A
                      00286         ; Exit
                      00287                 MP8K_ResetBusy
000678 988F               M                 BCF     LATG,4
00067A 0012           00288                 RETURN
                      00289 
                      00290 ; This function drives the MP8000 buzzer. This is done by using the MicroStar normal buzzer
                      00291 ; output pin and sending it to the proper MP8000 output pin.
00067C                00292 MP8Kbuzzer
                      00293         ; Read the MicroStar buzzer pin and build the MP8000 image
00067C 0E20           00294                 MOVLW   0x20                    ; Port address
00067E 6A84           00295                 CLRF    MP8K_AD
000680 B880           00296                 BTFSC   PORTA,BUZZER
000682 8084           00297                 BSF     MP8K_AD,0
                      00298         ; Send the image to the MP8000 port
                      00299                 MP8K_SetBusy
000684 888F               M                 BSF     LATG,4
000686 EC09 F003      00300                 CALL    MP8KwritePort
                      00301                 MP8K_ResetBusy
00068A 988F               M                 BCF     LATG,4
                      00302         ; Exit
00068C 0012           00303                 RETURN
                      00304                 
                      00305 ; *************** 
                      00306 ; LCD functions
                      00307 ; ***************
                      00308 
                      00309 ; The display used in the MP8000 is a single line model with 16 characters. It is treated as a two line 
                            by
                      00310 ; 8 character display through the programming interface. Line 1 starts at address 0x80 and line 2 starts
                      00311 ; at 0xC0. These display drivers emulate normal single line display with a starting address of 0x80.
                      00312 ; If data is written to the second display line it is treated as the first line of the display.
                      00313 ;
00068E                00314 LCDinit
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 44


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00315         ; Control lines...
00068E 9693           00316                 BCF     DDRB,MP8K_LCD_E,A
000690 9A93           00317                 BCF     DDRB,MP8K_LCD_RS,A
000692 9893           00318                 BCF     DDRB,MP8K_LCD_RW,A      ; Control lines are all outputs
000694 8681           00319                 BSF     MP8K_LCD,MP8K_LCD_E,A
000696 8A81           00320                 BSF     MP8K_LCD,MP8K_LCD_RS,A
000698 8881           00321                 BSF     MP8K_LCD,MP8K_LCD_RW,A
00069A 0E14           00322                 MOVLW   D'20'
00069C ECD6 F001      00323                 CALL    Delay1mS
                      00324         ; Here for the standard HD44780 controller init
0006A0 0E3F           00325                 MOVLW   0x3F
0006A2 EC97 F003      00326                 CALL    LCDsendCMD0
0006A6 0E05           00327                 MOVLW   D'5'
0006A8 ECD6 F001      00328                 CALL    Delay1mS        
0006AC 0E3F           00329                 MOVLW   0x3F
0006AE EC97 F003      00330                 CALL    LCDsendCMD0
0006B2 0E01           00331                 MOVLW   D'1'
0006B4 ECD6 F001      00332                 CALL    Delay1mS        
0006B8 0E3F           00333                 MOVLW   0x3F
0006BA EC97 F003      00334                 CALL    LCDsendCMD0
0006BE 0E01           00335                 MOVLW   D'1'
0006C0 ECD6 F001      00336                 CALL    Delay1mS        
0006C4 0E3F           00337                 MOVLW   0x3F
0006C6 EC94 F003      00338                 CALL    LCDsendCMD
                      00339 
0006CA 0E0C           00340                 MOVLW   0x0C
0006CC EC94 F003      00341                 CALL    LCDsendCMD
0006D0 0E06           00342                 MOVLW   0x06
0006D2 EC94 F003      00343                 CALL    LCDsendCMD
0006D6 0E80           00344                 MOVLW   0x80
0006D8 EC94 F003      00345                 CALL    LCDsendCMD
0006DC 0E01           00346                 MOVLW   0x01
0006DE EC94 F003      00347                 CALL    LCDsendCMD
0006E2                00348 LCDinitDone
                      00349         ; Send the signon message and software version
0006E2 0E03           00350                 MOVLW   HIGH (MES1)
0006E4 6EF7           00351                 MOVWF   TBLPTRH
0006E6 0EC2           00352                 MOVLW   LOW (MES1)
0006E8 6EF6           00353                 MOVWF   TBLPTRL
0006EA EC6A F004      00354                 CALL    LCDsendMess
                      00355                 
0006EE 0E88           00356                 MOVLW   0x88
0006F0 EC94 F003      00357                 CALL    LCDsendCMD
0006F4 0E03           00358                 MOVLW   HIGH (MES2)
0006F6 6EF7           00359                 MOVWF   TBLPTRH
0006F8 0ED4           00360                 MOVLW   LOW (MES2)
0006FA 6EF6           00361                 MOVWF   TBLPTRL
0006FC EC6A F004      00362                 CALL    LCDsendMess
000700 0012           00363                 RETURN
                      00364 
000702                00365 LCDsendData
                      00366                 MP8K_SetBusy
000702 888F               M                 BSF     LATG,4
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 45


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00367         ; Wait for the display to be ready
000704 ECB2 F003      00368                 CALL    LCDwait
                      00369         ; The display data is in the LCDwreg reg
                      00370         ; Write the data to the display
000708 0E38           00371                 MOVLW   0x38                    ; Port address
00070A C141 FF84      00372                 MOVFF   LCDwreg,MP8K_AD
00070E EC09 F003      00373                 CALL    MP8KwritePort
                      00374         ; Toggle the LCD write lines
000712 8A81           00375                 BSF     MP8K_LCD,MP8K_LCD_RS,A
000714 9881           00376                 BCF     MP8K_LCD,MP8K_LCD_RW,A
000716 8681           00377                 BSF     MP8K_LCD,MP8K_LCD_E,A
000718 0000           00378                 NOP
00071A 0000           00379                 NOP
00071C 9681           00380                 BCF     MP8K_LCD,MP8K_LCD_E,A
00071E 8881           00381                 BSF     MP8K_LCD,MP8K_LCD_RW,A
000720 9A81           00382                 BCF     MP8K_LCD,MP8K_LCD_RS,A
000722 0000           00383                 NOP
                      00384                 MP8K_ResetBusy
000724 988F               M                 BCF     LATG,4
000726 0012           00385                 RETURN
                      00386 
000728                00387 LCDsendCMD
                      00388                 MP8K_SetBusy
000728 888F               M                 BSF     LATG,4
                      00389         ; Wait for the display to be ready
00072A ECB2 F003      00390                 CALL    LCDwait
00072E                00391 LCDsendCMD0
                      00392                 MP8K_SetBusy
00072E 888F               M                 BSF     LATG,4
000730 CFE8 F141      00393                 MOVFF   WREG,LCDwreg
                      00394         ; The display data is in the LCDwreg reg
                      00395         ; Write the data to the display
000734 0E38           00396                 MOVLW   0x38                    ; Port address
000736 C141 FF84      00397                 MOVFF   LCDwreg,MP8K_AD
00073A EC09 F003      00398                 CALL    MP8KwritePort
                      00399         ; Toggle the LCD write lines
00073E 9A81           00400                 BCF     MP8K_LCD,MP8K_LCD_RS,A
000740 9881           00401                 BCF     MP8K_LCD,MP8K_LCD_RW,A
000742 8681           00402                 BSF     MP8K_LCD,MP8K_LCD_E,A
000744 0000           00403                 NOP
000746 0000           00404                 NOP
000748 9681           00405                 BCF     MP8K_LCD,MP8K_LCD_E,A
00074A 8881           00406                 BSF     MP8K_LCD,MP8K_LCD_RW,A
                      00407                 MP8K_ResetBusy
00074C 988F               M                 BCF     LATG,4
00074E 0012           00408                 RETURN
                      00409 
                      00410 ; This function reads the LCD busy bit and the address data.
                      00411 ; Data is returned in WREG.
000750                00412 LCDread
000750 8881           00413                 BSF     MP8K_LCD,MP8K_LCD_RW,A
000752 9A81           00414                 BCF     MP8K_LCD,MP8K_LCD_RS,A
000754 8681           00415                 BSF     MP8K_LCD,MP8K_LCD_E,A
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 46


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00416         ; Read the LCD port
000756 CFE8 F141      00417                 MOVFF   WREG,LCDwreg
00075A 0E30           00418                 MOVLW   0x30
00075C EC00 F003      00419                 CALL    MP8KreadPort
000760 9681           00420                 BCF     MP8K_LCD,MP8K_LCD_E,A
000762 0012           00421                 RETURN
                      00422 
                      00423 ; This function reads the busy bit and waits till the display is not busy
000764                00424 LCDwait
                      00425         ; Wait till its not busy
000764 ECB8 F003      00426                 CALL    LCDbusy
000768 B0D8           00427                 BTFSC   ALUSTA,C,A
00076A EFB2 F003      00428                 GOTO    LCDwait
00076E 0012           00429                 Return
                      00430 
                      00431 ; This function reads the busy bit and sets the carry flag if the display
                      00432 ; is busy.
000770                00433 LCDbusy
                      00434         ; Read the busy bit
000770 ECA8 F003      00435                 CALL    LCDread
                      00436         ; Set the carry flag if the display is ready
000774 90D8           00437                 BCF     ALUSTA,C,A
000776 BEE8           00438                 BTFSC   WREG,7,A
000778 80D8           00439                 BSF     ALUSTA,C,A
00077A C141 FFE8      00440                 MOVFF   LCDwreg,WREG
00077E 0012           00441                 RETURN          
                      00442                 
                      00179                 Include <ADC.asm>
                      00001 
                      00002 ; This function reads the PIC type and set the PIC18F8723 flag if the processor is detected
000780                00003 ProcessorType
000780 6AE8           00004                 CLRF    WREG
000782 CFE8 F0F8      00005                 MOVFF   WREG,PIC18F8723         ; Clear the flag
000786 0E3F           00006                 MOVLW   UPPER 3FFFFF            ; Load the dievide ID address
000788 6EF8           00007                 MOVWF   TBLPTRU,A
00078A 0EFF           00008                 MOVLW   HIGH 3FFFFF
00078C 6EF7           00009                 MOVWF   TBLPTRH,A
00078E 0EFF           00010                 MOVLW   LOW 3FFFFF
000790 6EF6           00011                 MOVWF   TBLPTRL,A
                      00012                 ; Read the device type and set the memory flag
000792 0008           00013                 TBLRD*
000794 50F5           00014                 MOVF    TABLAT,W,A
000796 0A4A           00015                 XORLW   4A                      ; If 4A then its an 8723
000798 0EFF           00016                 MOVLW   0FF
00079A B4D8           00017                 BTFSC   ALUSTA,Z
00079C CFE8 F0F8      00018                 MOVFF   WREG,PIC18F8723
0007A0 0012           00019                 RETURN
                      00020 
                      00021 ; This function will read the ADC channel defined in WREG 256 times and
                      00022 ; sum the results in CEXreg.
0007A2                00023 ReadADC256
                      00024         ; First clear CEXreg
0007A2 0100           00025                 MOVLR   HIGH CEXreg
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 47


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0007A4 6A13           00026                 CLRF    CEXreg
0007A6 6A14           00027                 CLRF    CEXreg+1
0007A8 6A15           00028                 CLRF    CEXreg+2
0007AA 6A16           00029                 CLRF    CEXreg+3
                      00030         ; Save Channel to Areg
0007AC 6E0A           00031                 MOVWF   Areg,A
                      00032         ; Setup Breg as a loop counter
0007AE 6A0B           00033                 CLRF    Breg,A
                      00034         ; Read the ADC
0007B0                00035 RD256a
0007B0 500A           00036                 MOVF    Areg,W,A
0007B2 ECE6 F003      00037                 CALL    ADCread
                      00038         ; Sum the result
0007B6 0100           00039                 MOVLR   HIGH CEXreg
0007B8 50C3           00040                 MOVFP   ADRESL,W,A
0007BA 2613           00041                 ADDWF   CEXreg
0007BC 50C4           00042                 MOVFP   ADRESH,W,A
0007BE 2214           00043                 ADDWFC  CEXreg+1
0007C0 B0D8           00044                 BTFSC   ALUSTA,C,A
0007C2 2A15           00045                 INCF    CEXreg+2
                      00046         ; Do the loop counter test
0007C4 2E0B           00047                 DECFSZ  Breg
0007C6 EFD8 F003      00048                 GOTO    RD256a
0007CA 0012           00049                 RETURN
                      00050 ;
                      00051 ; This function reads data from the ADC channel defined in WREG.
                      00052 ; The results are in the ADC registers when this function returns.
                      00053 ; The results are also written to Pos.
                      00054 ; Areg will contain the channel number when this function returns
                      00055 ; as will WREG.
                      00056 ; The function ADClookup is called to translate the ADC channel number 
                      00057 ; into the value that will be used to select the ADC channel and the
                      00058 ; ADC reference. The bit use is defined below:
                      00059 ;       ADClookup Bit definition
                      00060 ;               0       \
                      00061 ;               1        | ADC mux channel
                      00062 ;               2        |
                      00063 ;               3       /
                      00064 ;               4       not used, must be set to 0
                      00065 ;               5       for MicroProStar this is mux select
                      00066 ;               6       - ref 0=gnd, 1=ext, MicroProStar only
                      00067 ;               7       + ref 0=ext, 1=5 volts
                      00068 ;
0007CC                00069 ADCread
0007CC 6E0A           00070                 MOVWF   Areg,A          ; Save channel number
                      00071         ; Setup ADC
0007CE 0EA1           00072                 MOVLW   0A1             ; Right justify and 1MHz conversion clock
0007D0 6EC0           00073                 MOVWF   ADCON2,A
0007D2 0E00           00074                 MOVLW   0               ; Use VDD and VSS as reference
0007D4 6EC1           00075                 MOVWF   ADCON1,A
                      00076         ; Load the ADC channel number and reference data from the ADC table
0007D6 C00A FFE8      00077                 MOVFF   Areg,WREG
0007DA EC39 F001      00078                 CALL    ADClookup
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 48


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00079         ; If MSB is clear then use ext ref      
0007DE AEE8           00080                 BTFSS   WREG,7,A
0007E0 88C1           00081                 BSF     ADCON1,VCFG0,A  ; Use external reference for positive supply
0007E2 9EE8           00082                 BCF     WREG,7,A
                      00083 #ifdef MicroProStar
                      00084         ; Select the ADC MUX
0007E4 BCE8           00085                 BTFSC   WREG,6,A
0007E6 8AC1           00086                 BSF     ADCON1,VCFG1,A  ; Use external reference for negative supply
0007E8 ACE8           00087                 BTFSS   WREG,6,A
0007EA 9AC1           00088                 BCF     ADCON1,VCFG1,A  ; Use ground reference for negative supply
                      00089         ; Select the negative reference
0007EC BAE8           00090                 BTFSC   WREG,5,A
0007EE 8A81           00091                 BSF     MP8K_LCD,MP8K_LCD_RS,A
0007F0 AAE8           00092                 BTFSS   WREG,5,A        
0007F2 9A81           00093                 BCF     MP8K_LCD,MP8K_LCD_RS,A
                      00094         ; Clear upper bits to maintain compatability
0007F4 0B0F           00095                 ANDLW   0x0F
                      00096 #endif
                      00097         ; Select the channel
0007F6 44E8           00098                 RLNCF   WREG,W,A
0007F8 44E8           00099                 RLNCF   WREG,W,A
0007FA 6EC2           00100                 MOVWF   ADCON0,A
                      00101         ; Setup the loop counter
0007FC 0E04           00102                 MOVLW   4
0007FE CFE8 F00C      00103                 MOVFF   WREG,Creg
                      00104                 MOVEC   0,Pos
000802 0100               M                 MOVLR   HIGH (Pos)
000804 0E00               M                 MOVLW   LOW (0)
000806 6F6B               M                 MOVWF   (Pos)
000808 0E00               M                 MOVLW   HIGH (0)
00080A 6F6C               M                 MOVWF   (Pos+1)
                      00105         ; Start the conversion
00080C                00106 ADCread1
00080C 80C2           00107                 BSF     ADCON0,ADON,A
00080E 0000           00108                 NOP                     ; delay to let the Mux settle
000810 0000           00109                 NOP
000812 0000           00110                 NOP
000814 82C2           00111                 BSF     ADCON0,GO,A
                      00112         ; Wait for the ADC to finish
000816                00113 ADCread0
000816 B2C2           00114                 BTFSC   ADCON0,DONE,A
000818 EF0B F004      00115                 GOTO    ADCread0
                      00116         ; Sum results in Pos
00081C 0100           00117                 MOVLR   HIGH Pos
00081E 50C3           00118                 MOVF    ADRESL,W,A
000820 276B           00119                 ADDWF   Pos,F
000822 50C4           00120                 MOVF    ADRESH,W,A
000824 236C           00121                 ADDWFC  Pos+1,F
                      00122         ; Loop till done
000826 0100           00123                 MOVLR   HIGH Creg
000828 060C           00124                 DECF    Creg,F
00082A E1F0           00125                 BNZ     ADCread1
                      00126         ; Here when done, test for 8723
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 49


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00082C C0F8 FFE8      00127                 MOVFF   PIC18F8723,WREG
000830 1EE8           00128                 COMF    WREG
000832 66E8           00129                 TSTFSZ  WREG,A
000834 EF22 F004      00130                 GOTO    ADCread2
                      00131                 ; divide by 4   
000838 90D8           00132                 BCF     ALUSTA,C
00083A 336C           00133                 RRCF    Pos+1
00083C 336B           00134                 RRCF    Pos
00083E 90D8           00135                 BCF     ALUSTA,C
000840 336C           00136                 RRCF    Pos+1
000842 336B           00137                 RRCF    Pos
000844                00138 ADCread2        
                      00139         ; Make the ADC regs match Pos
000844 C06B FFC3      00140                 MOVFF   Pos,ADRESL
000848 C06C FFC4      00141                 MOVFF   Pos+1,ADRESH
                      00142         ; Restore WREG
00084C C00A FFE8      00143                 MOVFF   Areg,WREG
000850 0012           00144                 RETURN
                      00180                 Include <Display.asm>
                      00001 ; This function sends the message pointed to by AXreg to the display.
                      00002 ; The full line is displayed, 12 or 16 characters depending on the 
                      00003 ; display type. The display line must be selected before this call 
                      00004 ; is made.
000852                00005 LCDsendAX
000852 0E80           00006                 MOVLW   LINE1
000854 EC94 F003      00007                 CALL    LCDsendCMD
000858 C00D FFF6      00008                 MOVFF   AXreg,TBLPTRL
00085C C00E FFF7      00009                 MOVFF   AXreg+1,TBLPTRH
000860 6AF8           00010                 CLRF    TBLPTRU,A
000862 EC6A F004      00011                 CALL    LCDsendMess
000866 0012           00012                 RETURN
                      00013 
                      00014 ; This function sends the message pointed to by AXreg line 2 of the display.
                      00015 ; The full line is displayed, 12 or 16 characters depending on the 
                      00016 ; display type.
000868                00017 LCDsendAXLine2
000868 0E88           00018                 MOVLW   LINE2
00086A EC94 F003      00019                 CALL    LCDsendCMD
00086E C00D FFF6      00020                 MOVFF   AXreg,TBLPTRL
000872 C00E FFF7      00021                 MOVFF   AXreg+1,TBLPTRH
000876 6AF8           00022                 CLRF    TBLPTRU,A
000878 EC6A F004      00023                 CALL    LCDsendMess
00087C 0012           00024                 RETURN
                      00025 
                      00026 ; This function sends the message pointed to by DXreg line 2 of the display.
                      00027 ; The full line is displayed, 12 or 16 characters depending on the 
                      00028 ; display type.
00087E                00029 LCDsendDXLine2
00087E 0E88           00030                 MOVLW   LINE2
000880 EC94 F003      00031                 CALL    LCDsendCMD
000884 C0D4 FFF6      00032                 MOVFF   DXreg,TBLPTRL
000888 C0D5 FFF7      00033                 MOVFF   DXreg+1,TBLPTRH
00088C 6AF8           00034                 CLRF    TBLPTRU,A
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 50


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00088E EC6A F004      00035                 CALL    LCDsendMess
000892 0012           00036                 RETURN
                      00037 
                      00038 ifdef   MicroProStar
                      00039 ; This function displays the second line of the LCD display. Both lines
                      00040 ; are saved in the display memory.
000894                00041 LCDshowLine2
000894 0E02           00042                 MOVLW   0x02
000896 EC94 F003      00043                 CALL    LCDsendCMD
00089A 0E18           00044                 MOVLW   0x18
00089C EC94 F003      00045                 CALL    LCDsendCMD
0008A0 0E18           00046                 MOVLW   0x18
0008A2 EC94 F003      00047                 CALL    LCDsendCMD
0008A6 0E18           00048                 MOVLW   0x18
0008A8 EC94 F003      00049                 CALL    LCDsendCMD
0008AC 0E18           00050                 MOVLW   0x18
0008AE EC94 F003      00051                 CALL    LCDsendCMD
0008B2 0E18           00052                 MOVLW   0x18
0008B4 EC94 F003      00053                 CALL    LCDsendCMD
0008B8 0E18           00054                 MOVLW   0x18
0008BA EC94 F003      00055                 CALL    LCDsendCMD
0008BE 0E18           00056                 MOVLW   0x18
0008C0 EC94 F003      00057                 CALL    LCDsendCMD
0008C4 0E18           00058                 MOVLW   0x18
0008C6 EC94 F003      00059                 CALL    LCDsendCMD
0008CA 0012           00060                 RETURN
                      00061                 
                      00062 ; This function resets the display pointer to the first line of the display.
0008CC                00063 LCDshowLine1
0008CC 0E02           00064                 MOVLW   0x02
0008CE EC94 F003      00065                 CALL    LCDsendCMD
0008D2 0012           00066                 RETURN
                      00067 
                      00068 ; This function will send a message to the LCD display. This function sends
                      00069 ; the number of characters defined in WREG.
                      00070 ; The table pointers must point to the message in FLASH when this function
                      00071 ; is called.
                      00072 ; This function uses
                      00073 ;               WREG
                      00074 ;               Areg
                      00075 ;               Table pointers
0008D4                00076 LCDsendMess
0008D4 0E10           00077                 MOVLW   10
0008D6 EF6D F004      00078                 GOTO    LCDsendMessN            
0008DA                00079 LCDsendMessN
0008DA 6E0A           00080                 MOVWF   Areg,A
0008DC                00081 NEXT
0008DC 0009           00082                 TBLRD*+
0008DE CFF5 FFE8      00083                 MOVFF   TABLAT,WREG
0008E2 12E8           00084                 IORWF   WREG
0008E4 B4D8           00085                 BTFSC   ALUSTA,Z
0008E6 0012           00086                 RETURN
0008E8 EC81 F003      00087                 CALL    LCDsendData
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 51


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0008EC ECB2 F003      00088                 CALL    LCDwait
                      00089         ; Now we need to read the display position and adjust
                      00090         ;       if its 0x8 set to 0x40 
                      00091         ;       if its 0x10 set to 0x48 
0008F0 ECA8 F003      00092                 CALL    LCDread
0008F4 0B7F           00093                 ANDLW   0x7F            ; Igore the busy bit
0008F6 CFE8 F141      00094                 MOVFF   WREG,LCDwreg    ; Save it
0008FA 0101           00095                 MOVLB   HIGH LCDwreg
0008FC 0E40           00096                 MOVLW   0x40
0008FE 6141           00097                 CPFSLT  LCDwreg
000900 EF92 F004      00098                 GOTO    NextChar        ; If address is 40 or higher we are done
000904 0E10           00099                 MOVLW   0x10
000906 6341           00100                 CPFSEQ  LCDwreg
000908 EF8B F004      00101                 GOTO    Try8
                      00102                 ; Here if the address is 16 so set to 48
00090C 0EC8           00103                 MOVLW   0xC8
00090E EC94 F003      00104                 CALL    LCDsendCMD
000912 EF92 F004      00105                 GOTO    NextChar                
000916                00106 Try8
000916 0E08           00107                 MOVLW   0x08
000918 6341           00108                 CPFSEQ  LCDwreg
00091A EF92 F004      00109                 GOTO    NextChar        ; if address is less than 8 we are done
                      00110                 ; Here is the address is 8 so set to 40
00091E 0EC0           00111                 MOVLW   0xC0
000920 EC94 F003      00112                 CALL    LCDsendCMD
                      00113         ; Send until end of count
000924                00114 NextChar
000924 4E0A           00115                 DCFSNZ  Areg,F,A
000926 0012           00116                 RETURN
000928 EF6E F004      00117                 GOTO    NEXT
                      00118 else
                      00119 ; This function will send a message to the LCD display. This function sends
                      00120 ; the entire line, 16 characters or 12 characters depending on the display 
                      00121 ; type.
                      00122 ; The table pointers must point to the message in FLASH when this function
                      00123 ; is called.
                      00124 ; This function uses
                      00125 ;               WREG
                      00126 ;               Areg
                      00127 ;               Table pointers
                      00128 LCDsendMess
                      00129 ifdef   ECMA1010display
                      00130                 MOVLW   0C
                      00131 else
                      00132                 MOVLW   10
                      00133 endif
                      00134                 GOTO    LCDsendMessN
                      00135                 
                      00136 ; This function will send a message to the LCD display. This function sends
                      00137 ; the number of characters defined in WREG.
                      00138 ; The table pointers must point to the message in FLASH when this function
                      00139 ; is called.
                      00140 ; This function uses
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 52


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00141 ;               WREG
                      00142 ;               Areg
                      00143 ;               Table pointers
                      00144 LCDsendMessN
                      00145                 MOVWF   Areg,A
                      00146 NEXT
                      00147                 TBLRD*+
                      00148                 MOVFF   TABLAT,WREG
                      00149                 IORWF   WREG
                      00150                 BTFSC   ALUSTA,Z
                      00151                 RETURN
                      00152                 CALL    LCDsendData
                      00153                 DCFSNZ  Areg,F,A
                      00154                 RETURN
                      00155                 GOTO    NEXT
                      00156 endif
                      00157 
                      00158 ; The function displays the value in the WREG on the display in
                      00159 ; binary format (1s and 0s). This value is displayed at the 
                      00160 ; current cursor location.
                      00161 ; Areg and Breg are used by this routine.
00092C                00162 LCDbinary
00092C 6E0A           00163                 MOVWF   Areg
00092E 0E08           00164                 MOVLW   D'8'
000930 6E0B           00165                 MOVWF   Breg
000932                00166 LCDbinary0
000932 0E30           00167                 MOVLW   30
000934 BE0A           00168                 BTFSC   Areg,7
000936 0E31           00169                 MOVLW   31
000938 EC81 F003      00170                 CALL    LCDsendData
00093C 360A           00171                 RLCF    Areg
00093E 2E0B           00172                 DECFSZ  Breg
000940 EF99 F004      00173                 GOTO    LCDbinary0
000944 0012           00174                 RETURN
                      00175 
                      00176 ; The function displays the value in the WREG on the display in
                      00177 ; hex format. This value is displayed at the 
                      00178 ; current cursor location.
                      00179 ; Areg and Breg are used by this routine.
000946                00180 LCDhex
000946 6E0A           00181                 MOVWF   Areg
000948 0E3A           00182                 MOVLW   3A
00094A 6E0B           00183                 MOVWF   Breg
                      00184         ; MS dibble
00094C C00A FFE8      00185                 MOVPF   Areg,WREG
000950 0BF0           00186                 ANDLW   0F0
000952 42E8           00187                 RRNCF   WREG
000954 42E8           00188                 RRNCF   WREG
000956 42E8           00189                 RRNCF   WREG
000958 42E8           00190                 RRNCF   WREG
00095A 0930           00191                 IORLW   030
00095C 640B           00192                 CPFSGT  Breg
00095E 0F07           00193                 ADDLW   7
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 53


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000960 EC81 F003      00194                 CALL    LCDsendData
                      00195         ; LS dibble
000964 C00A FFE8      00196                 MOVPF   Areg,WREG
000968 0B0F           00197                 ANDLW   0F
00096A 0930           00198                 IORLW   030
00096C 640B           00199                 CPFSGT  Breg
00096E 0F07           00200                 ADDLW   7
000970 EC81 F003      00201                 CALL    LCDsendData
000974 C00A FFE8      00202                 MOVPF   Areg,WREG
000978 0012           00203                 RETURN
                      00204 
                      00205 ; This function prints the unsigned integer that is in 
                      00206 ; CEXreg to the LCD at the current position
00097A                00207 LCDint
00097A EC09 F005      00208                 CALL    Int2Str
00097E 5025           00209                 MOVFP   Buffer,WREG
000980 EC81 F003      00210                 CALL    LCDsendData
000984                00211 LCDintA
000984 5026           00212                 MOVFP   Buffer+1,WREG
000986 EC81 F003      00213                 CALL    LCDsendData
00098A                00214 LCDintB
00098A 5027           00215                 MOVFP   Buffer+2,WREG
00098C EC81 F003      00216                 CALL    LCDsendData
000990                00217 LCDintC
000990 5028           00218                 MOVFP   Buffer+3,WREG
000992 EC81 F003      00219                 CALL    LCDsendData
000996                00220 LCDintD
000996 5029           00221                 MOVFP   Buffer+4,WREG
000998 EC81 F003      00222                 CALL    LCDsendData
00099C 0012           00223                 RETURN
00099E                00224 LCDint4
00099E EC09 F005      00225                 CALL    Int2Str
0009A2 EFC2 F004      00226                 GOTO    LCDintA
0009A6                00227 LCDint3
0009A6 EC09 F005      00228                 CALL    Int2Str
0009AA EFC5 F004      00229                 GOTO    LCDintB
0009AE                00230 LCDint2
0009AE EC09 F005      00231                 CALL    Int2Str
0009B2 EFC8 F004      00232                 GOTO    LCDintC
0009B6                00233 LCDint1
0009B6 EC09 F005      00234                 CALL    Int2Str
0009BA EFCB F004      00235                 GOTO    LCDintD
                      00236 
0009BE                00237 LCDintZS
0009BE EC09 F005      00238                 CALL    Int2Str
0009C2 ECF3 F004      00239                 CALL    RemoveLeadingZeros
0009C6 5025           00240                 MOVFP   Buffer,WREG
0009C8 EC81 F003      00241                 CALL    LCDsendData
0009CC 5026           00242                 MOVFP   Buffer+1,WREG
0009CE EC81 F003      00243                 CALL    LCDsendData
0009D2 5027           00244                 MOVFP   Buffer+2,WREG
0009D4 EC81 F003      00245                 CALL    LCDsendData
0009D8 5028           00246                 MOVFP   Buffer+3,WREG
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 54


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0009DA EC81 F003      00247                 CALL    LCDsendData
0009DE 5029           00248                 MOVFP   Buffer+4,WREG
0009E0 EC81 F003      00249                 CALL    LCDsendData
0009E4 0012           00250                 RETURN
                      00251 
                      00252 ; This function removes leading zeros from the ascii string in Buffer.
0009E6                00253 RemoveLeadingZeros
0009E6 0100           00254                 MOVLR   HIGH Buffer
0009E8 0E30           00255                 MOVLW   '0'
0009EA 6225           00256                 CPFSEQ  Buffer
0009EC 0012           00257                 RETURN
0009EE 0E20           00258                 MOVLW   ' '
0009F0 6E25           00259                 MOVWF   Buffer
                      00260 
0009F2 0E30           00261                 MOVLW   '0'
0009F4 6226           00262                 CPFSEQ  Buffer+1
0009F6 0012           00263                 RETURN
0009F8 0E20           00264                 MOVLW   ' '
0009FA 6E26           00265                 MOVWF   Buffer+1
                      00266 
0009FC 0E30           00267                 MOVLW   '0'
0009FE 6227           00268                 CPFSEQ  Buffer+2
000A00 0012           00269                 RETURN
000A02 0E20           00270                 MOVLW   ' '
000A04 6E27           00271                 MOVWF   Buffer+2
                      00272 
000A06 0E30           00273                 MOVLW   '0'
000A08 6228           00274                 CPFSEQ  Buffer+3
000A0A 0012           00275                 RETURN
000A0C 0E20           00276                 MOVLW   ' '
000A0E 6E28           00277                 MOVWF   Buffer+3
000A10 0012           00278                 RETURN
                      00279 
                      00280 ; This function converts an integer into an ascii string.
                      00281 ; CEXreg contains the integer and the 5 byte
                      00282 ; string is placed in buffer
000A12                00283 Int2Str
                      00284         ; 10000 digit
000A12 0100           00285                 MOVLB   HIGH DEXreg
000A14 6A19           00286                 CLRF    DEXreg+2
000A16 6A1A           00287                 CLRF    DEXreg+3
000A18 0E10           00288                 MOVLW   LOW D'10000'
000A1A 6E17           00289                 MOVWF   DEXreg
000A1C 0E27           00290                 MOVLW   HIGH D'10000'
000A1E 6E18           00291                 MOVWF   DEXreg+1
000A20 EC56 F006      00292                 CALL    Divide2416
000A24 0E30           00293                 MOVLW   30
000A26 1013           00294                 IORWF   CEXreg,0
000A28 6E25           00295                 MOVWF   Buffer
                      00296                 MOVE    EEXreg,CEXreg
000A2A C01B F013          M                 MOVFF   EEXreg,CEXreg
000A2E C01C F014          M                 MOVFF   EEXreg+1,CEXreg+1
                      00297                 MOVE    EEXreg+2,CEXreg+2
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 55


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000A32 C01D F015          M                 MOVFF   EEXreg+2,CEXreg+2
000A36 C01E F016          M                 MOVFF   EEXreg+2+1,CEXreg+2+1
                      00298         ; 1000 digit
000A3A 6A19           00299                 CLRF    DEXreg+2
000A3C 6A1A           00300                 CLRF    DEXreg+3
000A3E 0EE8           00301                 MOVLW   LOW D'1000'
000A40 6E17           00302                 MOVWF   DEXreg
000A42 0E03           00303                 MOVLW   HIGH D'1000'
000A44 6E18           00304                 MOVWF   DEXreg+1
000A46 EC56 F006      00305                 CALL    Divide2416
000A4A 0E30           00306                 MOVLW   30
000A4C 1013           00307                 IORWF   CEXreg,0
000A4E 6E26           00308                 MOVWF   Buffer+1
                      00309                 MOVE    EEXreg,CEXreg
000A50 C01B F013          M                 MOVFF   EEXreg,CEXreg
000A54 C01C F014          M                 MOVFF   EEXreg+1,CEXreg+1
                      00310                 MOVE    EEXreg+2,CEXreg+2
000A58 C01D F015          M                 MOVFF   EEXreg+2,CEXreg+2
000A5C C01E F016          M                 MOVFF   EEXreg+2+1,CEXreg+2+1
                      00311         ; 100 digit
000A60 6A19           00312                 CLRF    DEXreg+2
000A62 6A1A           00313                 CLRF    DEXreg+3
000A64 0E64           00314                 MOVLW   LOW D'100'
000A66 6E17           00315                 MOVWF   DEXreg
000A68 0E00           00316                 MOVLW   HIGH D'100'
000A6A 6E18           00317                 MOVWF   DEXreg+1
000A6C EC56 F006      00318                 CALL    Divide2416
000A70 0E30           00319                 MOVLW   30
000A72 1013           00320                 IORWF   CEXreg,0
000A74 6E27           00321                 MOVWF   Buffer+2
                      00322                 MOVE    EEXreg,CEXreg
000A76 C01B F013          M                 MOVFF   EEXreg,CEXreg
000A7A C01C F014          M                 MOVFF   EEXreg+1,CEXreg+1
                      00323                 MOVE    EEXreg+2,CEXreg+2
000A7E C01D F015          M                 MOVFF   EEXreg+2,CEXreg+2
000A82 C01E F016          M                 MOVFF   EEXreg+2+1,CEXreg+2+1
                      00324         ; 10 digit
000A86 6A19           00325                 CLRF    DEXreg+2
000A88 6A1A           00326                 CLRF    DEXreg+3
000A8A 0E0A           00327                 MOVLW   LOW D'10'
000A8C 6E17           00328                 MOVWF   DEXreg
000A8E 0E00           00329                 MOVLW   HIGH D'10'
000A90 6E18           00330                 MOVWF   DEXreg+1
000A92 EC56 F006      00331                 CALL    Divide2416
000A96 0E30           00332                 MOVLW   30
000A98 1013           00333                 IORWF   CEXreg,0
000A9A 6E28           00334                 MOVWF   Buffer+3
                      00335         ; The 1's digit is in the remainder's lsb
000A9C 0E30           00336                 MOVLW   30
000A9E 101B           00337                 IORWF   EEXreg,0
000AA0 6E29           00338                 MOVWF   Buffer+4
000AA2 0012           00339                 RETURN
                      00181                 Include <math.asm>
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 56


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 #define _C              ALUSTA,0
                      00002 #define _DC             ALUSTA,1
                      00003 #define _Z              ALUSTA,2
                      00004 #define _OV             ALUSTA,3
                      00005 
  00000007            00006 MSB             equ     7
  00000000            00007 LSB             equ     0
  00000004            00008 NAN             equ     4       ; bit4 = not-a-number exception flag
                      00009 
                      00010 
                      00011 ;
                      00012 ; Math functions...
                      00013 ;
                      00014 ; This routine does a 16x16 multiply with a 32 bit result.
                      00015 ;  CEXreg = AXreg * BXreg
                      00016 ;
                      00017 ; Numbers are saved in intel order LS first
                      00018 ;
000AA4                00019 Mult1616
                      00020         ; First do the unsigned multiply
000AA4 EC63 F005      00021                 CALL    Mult1616u
                      00022         ; Test sign of BXreg correct if neg
000AA8 AE10           00023                 BTFSS   BXreg+1,7
000AAA EF5B F005      00024                 GOTO    Mult1
000AAE 500D           00025                 MOVFP   AXreg,W
000AB0 5E15           00026                 SUBWF   CEXreg+2
000AB2 500E           00027                 MOVFP   AXreg+1,W
000AB4 5A16           00028                 SUBWFB  CEXreg+3
000AB6                00029 Mult1
                      00030         ; Test sign of AXreg correct if neg
000AB6 AE0E           00031                 BTFSS   AXreg+1,7
000AB8 EF62 F005      00032                 GOTO    Mult2
000ABC 500F           00033                 MOVFP   BXreg,W
000ABE 5E15           00034                 SUBWF   CEXreg+2
000AC0 5010           00035                 MOVFP   BXreg+1,W
000AC2 5A16           00036                 SUBWFB  CEXreg+3
000AC4                00037 Mult2
                      00038         ; Done! 
000AC4 0012           00039                 RETURN
                      00040 ;
                      00041 ; Unsigned 16x16 multiply
                      00042 ;
                      00043 ; This routine does a 16x16 multiply with a 32 bit result.
                      00044 ;  CEXreg = AXreg * BXreg
                      00045 ;
                      00046 ; Numbers are saved in intel order LS first
                      00047 ;
000AC6                00048 Mult1616u
000AC6 0100           00049                 MOVLR   HIGH AXreg
000AC8 6A13           00050                 CLRF    CEXreg
000ACA 6A14           00051                 CLRF    CEXreg+1
000ACC 6A15           00052                 CLRF    CEXreg+2
000ACE 6A16           00053                 CLRF    CEXreg+3
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 57


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00054         ; LSB of BX times LSB of AX
000AD0 500F           00055                 MOVFP   BXreg,W
000AD2 020D           00056                 MULWF   AXreg
000AD4 CFF3 F013      00057                 MOVPF   PRODL,CEXreg
000AD8 CFF4 F014      00058                 MOVPF   PRODH,CEXreg+1
                      00059         ; LSB of BX times MSB of AX
000ADC 500F           00060                 MOVFP   BXreg,W
000ADE 020E           00061                 MULWF   AXreg+1
000AE0 50F3           00062                 MOVFP   PRODL,W
000AE2 2614           00063                 ADDWF   CEXreg+1
000AE4 50F4           00064                 MOVFP   PRODH,W
000AE6 2215           00065                 ADDWFC  CEXreg+2
000AE8 B0D8           00066                 BTFSC   ALUSTA,C,A
000AEA 2A16           00067                 INCF    CEXreg+3
                      00068         ; MSB of BX times LSB of AX
000AEC 5010           00069                 MOVFP   BXreg+1,W
000AEE 020D           00070                 MULWF   AXreg
000AF0 50F3           00071                 MOVFP   PRODL,W
000AF2 2614           00072                 ADDWF   CEXreg+1
000AF4 50F4           00073                 MOVFP   PRODH,W
000AF6 2215           00074                 ADDWFC  CEXreg+2
000AF8 B0D8           00075                 BTFSC   ALUSTA,C,A
000AFA 2A16           00076                 INCF    CEXreg+3
                      00077         ; MSB of BX times MSB of AX
000AFC 5010           00078                 MOVFP   BXreg+1,W
000AFE 020E           00079                 MULWF   AXreg+1
000B00 50F3           00080                 MOVFP   PRODL,W
000B02 2615           00081                 ADDWF   CEXreg+2
000B04 50F4           00082                 MOVFP   PRODH,W
000B06 2216           00083                 ADDWFC  CEXreg+3
                      00084         ; Done! 
000B08 0012           00085                 RETURN
                      00086 
                      00087 ;**********************************************************************************************
                      00088 ;**********************************************************************************************
                      00089 ;
                      00090 ;       16/08 BIT Division Macros
                      00091 ;
                      00092 SDIV1608        macro
                      00093 ;
                      00094 ;       Max Timing:     3+5+14*8+2 = 122 clks
                      00095 ;
                      00096 ;       Min Timing:     3+5+14*8+2 = 122 clks
                      00097 ;
                      00098 ;       PM: 3+5+14*8+2 = 122            DM: 4
                      00099 ;
                      00100                 variable i
                      00101 
                      00102                 MOVFP           DEXreg,WREG
                      00103                 SUBWF           EEXreg, F
                      00104                 RLCF            CEXreg+1, F
                      00105 
                      00106                 RLCF            CEXreg+1,W
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 58


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00107                 RLCF            EEXreg, F
                      00108                 MOVFP           DEXreg,WREG
                      00109                 ADDWF           EEXreg, F
                      00110                 RLCF            CEXreg+1, F
                      00111 
                      00112                 variable i = D'2'
                      00113 
                      00114                 while i < D'8'
                      00115 
                      00116                 RLCF            CEXreg+1,W
                      00117                 RLCF            EEXreg, F
                      00118                 MOVFP           DEXreg,WREG
                      00119 
                      00120                 BTFSC           CEXreg+1,LSB
                      00121                 SUBWF           EEXreg, F
                      00122                 BTFSS           CEXreg+1,LSB
                      00123                 ADDWF           EEXreg, F
                      00124                 RLCF            CEXreg+1, F
                      00125 
                      00126                 variable i=i+1
                      00127 
                      00128                 endw
                      00129 
                      00130                 RLCF            CEXreg,W
                      00131                 RLCF            EEXreg, F
                      00132                 MOVFP           DEXreg,WREG
                      00133 
                      00134                 BTFSC           CEXreg+1,LSB
                      00135                 SUBWF           EEXreg, F
                      00136                 BTFSS           CEXreg+1,LSB
                      00137                 ADDWF           EEXreg, F
                      00138                 RLCF            CEXreg, F
                      00139 
                      00140                 variable i = D'9'
                      00141 
                      00142                 while i < D'16'
                      00143 
                      00144                 RLCF            CEXreg,W
                      00145                 RLCF            EEXreg, F
                      00146                 MOVFP           DEXreg,WREG
                      00147 
                      00148                 BTFSC           CEXreg,LSB
                      00149                 SUBWF           EEXreg, F
                      00150                 BTFSS           CEXreg,LSB
                      00151                 ADDWF           EEXreg, F
                      00152                 RLCF            CEXreg, F
                      00153 
                      00154                 variable i=i+1
                      00155 
                      00156                 endw
                      00157 
                      00158                 BTFSS           CEXreg,LSB
                      00159                 ADDWF           EEXreg, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 59


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00160 
                      00161                 endm
                      00162 
                      00163 ;**********************************************************************************************
                      00164 ;**********************************************************************************************
                      00165 ;
                      00166 ;       16/8 Bit Signed Fixed Point Divide 16/08 -> 16.08
                      00167 ;
                      00168 ;       Input:  16 bit fixed point dividend in CEXreg+1, CEXreg
                      00169 ;               8 bit fixed point divisor in DEXreg
                      00170 ;
                      00171 ;       Use:    CALL    FXD1608S
                      00172 ;
                      00173 ;       Output: 16 bit fixed point quotient in CEXreg+1, CEXreg
                      00174 ;               8 bit fixed point remainder in EEXreg
                      00175 ;
                      00176 ;       Result: AARG, REM  <--  AARG / BARG
                      00177 ;
                      00178 ;       Max Timing:     21+122+5 = 148 clks             A > 0, B > 0
                      00179 ;                       22+122+13 = 157 clks            A > 0, B < 0
                      00180 ;                       24+122+13 = 159 clks            A < 0, B > 0
                      00181 ;                       25+122+5 = 152 clks             A < 0, B < 0
                      00182 ;                       7 clks                          A = 0
                      00183 ;
                      00184 ;       Min Timing:     21+122+5 = 148 clks             A > 0, B > 0
                      00185 ;                       22+122+13 = 157 clks            A > 0, B < 0
                      00186 ;                       24+122+13 = 159 clks            A < 0, B > 0
                      00187 ;                       25+122+5 = 152 clks             A < 0, B < 0
                      00188 ;
                      00189 ;       PM: 25+122+12+30 = 189             DM: 6
                      00190 ;
000B0A                00191 Divide168
000B0A                00192 FXD1608S
000B0A 0100           00193                 MOVLR           HIGH CEXreg
000B0C 6A24           00194                 CLRF            SIGN
000B0E 6A1B           00195                 CLRF            EEXreg                  ; clear partial remainder
000B10 5014           00196                 MOVFP           CEXreg+1,WREG
000B12 1013           00197                 IORWF           CEXreg,W
000B14 B4D8           00198                 BTFSC           _Z
000B16 0C00           00199                 RETLW           0x00
                      00200 
000B18 5014           00201                 MOVFP           CEXreg+1,WREG
000B1A 1817           00202                 XORWF           DEXreg,W
000B1C BEE8           00203                 BTFSC           WREG,MSB
000B1E 1E24           00204                 COMF            SIGN,F
                      00205 
000B20 6BAA           00206                 CLRF            TEMPB3                  ; clear exception flag
000B22 0E00           00207                 MOVLW           0
                      00208 
000B24 AE17           00209                 BTFSS           DEXreg,MSB             ; if MSB set go & negate BARG
000B26 EF97 F005      00210                 GOTO            CA1608S
                      00211 
000B2A 1E17           00212                 COMF            DEXreg, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 60


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000B2C 2A17           00213                 INCF            DEXreg, F
                      00214 
000B2E AE14           00215 CA1608S         BTFSS           CEXreg+1,MSB             ; if MSB set go & negate AARGa
000B30 EF9E F005      00216                 GOTO            C1608SX
                      00217 
000B34 1E13           00218                 COMF            CEXreg, F
000B36 1E14           00219                 COMF            CEXreg+1, F
000B38 2A13           00220                 INCF            CEXreg, F
000B3A 2214           00221                 ADDWFC          CEXreg+1, F
                      00222 
000B3C 5014           00223 C1608SX         MOVFP           CEXreg+1,WREG
000B3E 1017           00224                 IORWF           DEXreg,W
000B40 BEE8           00225                 BTFSC           WREG,MSB
000B42 EF2A F006      00226                 GOTO            C1608SX1
                      00227 
                      00228 C1608S          SDIV1608
                          M ;
                          M ;       Max Timing:     3+5+14*8+2 = 122 clks
                          M ;
                          M ;       Min Timing:     3+5+14*8+2 = 122 clks
                          M ;
                          M ;       PM: 3+5+14*8+2 = 122            DM: 4
                          M ;
  0000                    M                 variable i
                          M 
000B46 5017               M                 MOVFP           DEXreg,WREG
000B48 5E1B               M                 SUBWF           EEXreg, F
000B4A 3614               M                 RLCF            CEXreg+1, F
                          M 
000B4C 3414               M                 RLCF            CEXreg+1,W
000B4E 361B               M                 RLCF            EEXreg, F
000B50 5017               M                 MOVFP           DEXreg,WREG
000B52 261B               M                 ADDWF           EEXreg, F
000B54 3614               M                 RLCF            CEXreg+1, F
                          M 
  0002                    M                 variable i = D'2'
                          M 
                          M                 while i < D'8'
                          M 
000B56 3414               M                 RLCF            CEXreg+1,W
000B58 361B               M                 RLCF            EEXreg, F
000B5A 5017               M                 MOVFP           DEXreg,WREG
                          M 
000B5C B014               M                 BTFSC           CEXreg+1,LSB
000B5E 5E1B               M                 SUBWF           EEXreg, F
000B60 A014               M                 BTFSS           CEXreg+1,LSB
000B62 261B               M                 ADDWF           EEXreg, F
000B64 3614               M                 RLCF            CEXreg+1, F
                          M 
  0003                    M                 variable i=i+1
                          M 
                          M 
000B66 3414               M                 RLCF            CEXreg+1,W
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 61


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000B68 361B               M                 RLCF            EEXreg, F
000B6A 5017               M                 MOVFP           DEXreg,WREG
                          M 
000B6C B014               M                 BTFSC           CEXreg+1,LSB
000B6E 5E1B               M                 SUBWF           EEXreg, F
000B70 A014               M                 BTFSS           CEXreg+1,LSB
000B72 261B               M                 ADDWF           EEXreg, F
000B74 3614               M                 RLCF            CEXreg+1, F
                          M 
  0004                    M                 variable i=i+1
                          M 
                          M 
000B76 3414               M                 RLCF            CEXreg+1,W
000B78 361B               M                 RLCF            EEXreg, F
000B7A 5017               M                 MOVFP           DEXreg,WREG
                          M 
000B7C B014               M                 BTFSC           CEXreg+1,LSB
000B7E 5E1B               M                 SUBWF           EEXreg, F
000B80 A014               M                 BTFSS           CEXreg+1,LSB
000B82 261B               M                 ADDWF           EEXreg, F
000B84 3614               M                 RLCF            CEXreg+1, F
                          M 
  0005                    M                 variable i=i+1
                          M 
                          M 
000B86 3414               M                 RLCF            CEXreg+1,W
000B88 361B               M                 RLCF            EEXreg, F
000B8A 5017               M                 MOVFP           DEXreg,WREG
                          M 
000B8C B014               M                 BTFSC           CEXreg+1,LSB
000B8E 5E1B               M                 SUBWF           EEXreg, F
000B90 A014               M                 BTFSS           CEXreg+1,LSB
000B92 261B               M                 ADDWF           EEXreg, F
000B94 3614               M                 RLCF            CEXreg+1, F
                          M 
  0006                    M                 variable i=i+1
                          M 
                          M 
000B96 3414               M                 RLCF            CEXreg+1,W
000B98 361B               M                 RLCF            EEXreg, F
000B9A 5017               M                 MOVFP           DEXreg,WREG
                          M 
000B9C B014               M                 BTFSC           CEXreg+1,LSB
000B9E 5E1B               M                 SUBWF           EEXreg, F
000BA0 A014               M                 BTFSS           CEXreg+1,LSB
000BA2 261B               M                 ADDWF           EEXreg, F
000BA4 3614               M                 RLCF            CEXreg+1, F
                          M 
  0007                    M                 variable i=i+1
                          M 
                          M 
000BA6 3414               M                 RLCF            CEXreg+1,W
000BA8 361B               M                 RLCF            EEXreg, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 62


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000BAA 5017               M                 MOVFP           DEXreg,WREG
                          M 
000BAC B014               M                 BTFSC           CEXreg+1,LSB
000BAE 5E1B               M                 SUBWF           EEXreg, F
000BB0 A014               M                 BTFSS           CEXreg+1,LSB
000BB2 261B               M                 ADDWF           EEXreg, F
000BB4 3614               M                 RLCF            CEXreg+1, F
                          M 
  0008                    M                 variable i=i+1
                          M 
                          M                 endw
                          M 
000BB6 3413               M                 RLCF            CEXreg,W
000BB8 361B               M                 RLCF            EEXreg, F
000BBA 5017               M                 MOVFP           DEXreg,WREG
                          M 
000BBC B014               M                 BTFSC           CEXreg+1,LSB
000BBE 5E1B               M                 SUBWF           EEXreg, F
000BC0 A014               M                 BTFSS           CEXreg+1,LSB
000BC2 261B               M                 ADDWF           EEXreg, F
000BC4 3613               M                 RLCF            CEXreg, F
                          M 
  0009                    M                 variable i = D'9'
                          M 
                          M                 while i < D'16'
                          M 
000BC6 3413               M                 RLCF            CEXreg,W
000BC8 361B               M                 RLCF            EEXreg, F
000BCA 5017               M                 MOVFP           DEXreg,WREG
                          M 
000BCC B013               M                 BTFSC           CEXreg,LSB
000BCE 5E1B               M                 SUBWF           EEXreg, F
000BD0 A013               M                 BTFSS           CEXreg,LSB
000BD2 261B               M                 ADDWF           EEXreg, F
000BD4 3613               M                 RLCF            CEXreg, F
                          M 
  000A                    M                 variable i=i+1
                          M 
                          M 
000BD6 3413               M                 RLCF            CEXreg,W
000BD8 361B               M                 RLCF            EEXreg, F
000BDA 5017               M                 MOVFP           DEXreg,WREG
                          M 
000BDC B013               M                 BTFSC           CEXreg,LSB
000BDE 5E1B               M                 SUBWF           EEXreg, F
000BE0 A013               M                 BTFSS           CEXreg,LSB
000BE2 261B               M                 ADDWF           EEXreg, F
000BE4 3613               M                 RLCF            CEXreg, F
                          M 
  000B                    M                 variable i=i+1
                          M 
                          M 
000BE6 3413               M                 RLCF            CEXreg,W
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 63


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000BE8 361B               M                 RLCF            EEXreg, F
000BEA 5017               M                 MOVFP           DEXreg,WREG
                          M 
000BEC B013               M                 BTFSC           CEXreg,LSB
000BEE 5E1B               M                 SUBWF           EEXreg, F
000BF0 A013               M                 BTFSS           CEXreg,LSB
000BF2 261B               M                 ADDWF           EEXreg, F
000BF4 3613               M                 RLCF            CEXreg, F
                          M 
  000C                    M                 variable i=i+1
                          M 
                          M 
000BF6 3413               M                 RLCF            CEXreg,W
000BF8 361B               M                 RLCF            EEXreg, F
000BFA 5017               M                 MOVFP           DEXreg,WREG
                          M 
000BFC B013               M                 BTFSC           CEXreg,LSB
000BFE 5E1B               M                 SUBWF           EEXreg, F
000C00 A013               M                 BTFSS           CEXreg,LSB
000C02 261B               M                 ADDWF           EEXreg, F
000C04 3613               M                 RLCF            CEXreg, F
                          M 
  000D                    M                 variable i=i+1
                          M 
                          M 
000C06 3413               M                 RLCF            CEXreg,W
000C08 361B               M                 RLCF            EEXreg, F
000C0A 5017               M                 MOVFP           DEXreg,WREG
                          M 
000C0C B013               M                 BTFSC           CEXreg,LSB
000C0E 5E1B               M                 SUBWF           EEXreg, F
000C10 A013               M                 BTFSS           CEXreg,LSB
000C12 261B               M                 ADDWF           EEXreg, F
000C14 3613               M                 RLCF            CEXreg, F
                          M 
  000E                    M                 variable i=i+1
                          M 
                          M 
000C16 3413               M                 RLCF            CEXreg,W
000C18 361B               M                 RLCF            EEXreg, F
000C1A 5017               M                 MOVFP           DEXreg,WREG
                          M 
000C1C B013               M                 BTFSC           CEXreg,LSB
000C1E 5E1B               M                 SUBWF           EEXreg, F
000C20 A013               M                 BTFSS           CEXreg,LSB
000C22 261B               M                 ADDWF           EEXreg, F
000C24 3613               M                 RLCF            CEXreg, F
                          M 
  000F                    M                 variable i=i+1
                          M 
                          M 
000C26 3413               M                 RLCF            CEXreg,W
000C28 361B               M                 RLCF            EEXreg, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 64


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000C2A 5017               M                 MOVFP           DEXreg,WREG
                          M 
000C2C B013               M                 BTFSC           CEXreg,LSB
000C2E 5E1B               M                 SUBWF           EEXreg, F
000C30 A013               M                 BTFSS           CEXreg,LSB
000C32 261B               M                 ADDWF           EEXreg, F
000C34 3613               M                 RLCF            CEXreg, F
                          M 
  0010                    M                 variable i=i+1
                          M 
                          M                 endw
                          M 
000C36 A013               M                 BTFSS           CEXreg,LSB
000C38 261B               M                 ADDWF           EEXreg, F
                          M 
                      00229 
000C3A B1AA           00230                 BTFSC           TEMPB3,LSB              ; test exception flag
000C3C EF48 F006      00231                 GOTO            C1608SX4
                      00232 
000C40 AE24           00233 C1608SOK        BTFSS           SIGN,MSB                ; negate 
000C42 0C00           00234                 RETLW           0x00
                      00235 
000C44 1E13           00236                 COMF            CEXreg, F
000C46 1E14           00237                 COMF            CEXreg+1, F
000C48 6AE8           00238                 CLRF            WREG
000C4A 2A13           00239                 INCF            CEXreg, F
000C4C 2214           00240                 ADDWFC          CEXreg+1, F
                      00241 
000C4E 1E1B           00242                 COMF            EEXreg, F
000C50 2A1B           00243                 INCF            EEXreg, F
                      00244 
000C52 0C00           00245                 RETLW           0x00
                      00246 
000C54 AE17           00247 C1608SX1        BTFSS           DEXreg,MSB              ; test BARG exception
000C56 EF43 F006      00248                 GOTO            C1608SX3
000C5A BE14           00249                 BTFSC           CEXreg+1,MSB            ; test AARG exception
000C5C EF3F F006      00250                 GOTO            C1608SX2
000C60 CFE8 F0A3      00251                 MOVPF           WREG,Ctemp
000C64 5013           00252                 MOVFP           CEXreg,WREG
000C66 CFE8 F01B      00253                 MOVPF           WREG,EEXreg
000C6A 9E1B           00254                 BCF             EEXreg,MSB
000C6C 3613           00255                 RLCF            CEXreg,F
000C6E 3614           00256                 RLCF            CEXreg+1,F
000C70 5014           00257                 MOVFP           CEXreg+1,WREG
000C72 CFE8 F013      00258                 MOVPF           WREG,CEXreg
000C76 51A3           00259                 MOVFP           Ctemp,WREG
000C78 6A14           00260                 CLRF            CEXreg+1
000C7A EF20 F006      00261                 GOTO            C1608SOK
000C7E 6A13           00262 C1608SX2        CLRF            CEXreg          ; quotient = 1, remainder = 0
000C80 2A13           00263                 INCF            CEXreg,F
000C82 6A14           00264                 CLRF            CEXreg+1
000C84 0C00           00265                 RETLW           0x00
                      00266 
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 65


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000C86 1E14           00267 C1608SX3        COMF            CEXreg+1,F              ; numerator = 0x7FFF + 1
000C88 1E13           00268                 COMF            CEXreg,F
000C8A 2BAA           00269                 INCF            TEMPB3,F
000C8C EFA3 F005      00270                 GOTO            C1608S
                      00271 
000C90 2A1B           00272 C1608SX4        INCF            EEXreg,F                ; increment remainder and test for
000C92 5017           00273                 MOVFP           DEXreg,WREG             ; overflow
000C94 621B           00274                 CPFSEQ          EEXreg
000C96 EF20 F006      00275                 GOTO            C1608SOK
000C9A 6A1B           00276                 CLRF            EEXreg                  ; if remainder overflow, clear
000C9C 0E00           00277                 MOVLW           0
000C9E 2A13           00278                 INCF            CEXreg,F                ; remainder, increment quotient and
000CA0 2214           00279                 ADDWFC          CEXreg+1,F              ; test for overflow exception
000CA2 AE14           00280                 BTFSS           CEXreg+1,MSB
000CA4 EF20 F006      00281                 GOTO            C1608SOK
000CA8 8823           00282                 BSF             FPFLAGS,NAN
000CAA 0CFF           00283                 RETLW           0xFF
                      00284                 
                      00285 
                      00286 
                      00287 INCLUDE         <DIV2416.ASM>
                      00001 
  00000013            00002 AARGB2          EQU             CEXreg
  00000014            00003 AARGB1          EQU             CEXreg+1
  00000015            00004 AARGB0          EQU             CEXreg+2
                      00005 
  00000017            00006 BARGB1          EQU             DEXreg
  00000018            00007 BARGB0          EQU             DEXreg+1
                      00008 
  0000001B            00009 REMB1           EQU             EEXreg
  0000001C            00010 REMB0           EQU             EEXreg+1
                      00011 
                      00012 ;**********************************************************************************************
                      00013 ;
                      00014 ;       24/16 Bit Division Macros
                      00015 ;
                      00016 SDIV2416        macro
                      00017 ;
                      00018 ;       Max Timing:     5+8+22*12+6 = 283 clks
                      00019 ;
                      00020 ;       Min Timing:     5+8+22*11+3 = 258 clks
                      00021 ;
                      00022 ;       PM: 5+8+22*14+6 = 327           DM: 8
                      00023 ;
                      00024                 variable i
                      00025 
                      00026                 MOVFP           BARGB1,WREG
                      00027                 SUBWF           REMB1, F
                      00028                 MOVFP           BARGB0,WREG
                      00029                 SUBWFB          REMB0, F
                      00030                 RLCF            AARGB0, F
                      00031 
                      00032                 RLCF            AARGB0,W
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 66


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00033                 RLCF            REMB1, F
                      00034                 RLCF            REMB0, F
                      00035                 MOVFP           BARGB1,WREG
                      00036                 ADDWF           REMB1, F
                      00037                 MOVFP           BARGB0,WREG
                      00038                 ADDWFC          REMB0, F
                      00039                 RLCF            AARGB0, F
                      00040 
                      00041                 variable i = D'2'
                      00042 
                      00043                 while i < D'8'
                      00044 
                      00045                 RLCF            AARGB0,W
                      00046                 RLCF            REMB1, F
                      00047                 RLCF            REMB0, F
                      00048                 MOVFP           BARGB1,WREG
                      00049                 BTFSS           AARGB0,LSB
                      00050                 GOTO            SADD46#v(i)
                      00051                 SUBWF           REMB1, F
                      00052                 MOVFP           BARGB0,WREG
                      00053                 SUBWFB          REMB0, F
                      00054                 GOTO            SOK46#v(i)
                      00055 
                      00056 SADD46#v(i)     ADDWF           REMB1, F
                      00057                 MOVFP           BARGB0,WREG
                      00058                 ADDWFC          REMB0, F
                      00059 
                      00060 SOK46#v(i)      RLCF            AARGB0, F
                      00061 
                      00062                 variable i=i+1
                      00063 
                      00064                 endw
                      00065 
                      00066                 RLCF            AARGB1,W
                      00067                 RLCF            REMB1, F
                      00068                 RLCF            REMB0, F
                      00069                 MOVFP           BARGB1,WREG
                      00070                 BTFSS           AARGB0,LSB
                      00071                 GOTO            SADD468
                      00072                 SUBWF           REMB1, F
                      00073                 MOVFP           BARGB0,WREG
                      00074                 SUBWFB          REMB0, F
                      00075                 GOTO            SOK468
                      00076 
                      00077 SADD468         ADDWF           REMB1, F
                      00078                 MOVFP           BARGB0,WREG
                      00079                 ADDWFC          REMB0, F
                      00080 
                      00081 SOK468          RLCF            AARGB1, F
                      00082 
                      00083                 variable i = D'9'
                      00084 
                      00085                 while i < D'16'
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 67


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00086 
                      00087                 RLCF            AARGB1,W
                      00088                 RLCF            REMB1, F
                      00089                 RLCF            REMB0, F
                      00090                 MOVFP           BARGB1,WREG
                      00091                 BTFSS           AARGB1,LSB
                      00092                 GOTO            SADD46#v(i)
                      00093                 SUBWF           REMB1, F
                      00094                 MOVFP           BARGB0,WREG
                      00095                 SUBWFB          REMB0, F
                      00096                 GOTO            SOK46#v(i)
                      00097 
                      00098 SADD46#v(i)     ADDWF           REMB1, F
                      00099                 MOVFP           BARGB0,WREG
                      00100                 ADDWFC          REMB0, F
                      00101 
                      00102 SOK46#v(i)      RLCF            AARGB1, F
                      00103 
                      00104                 variable i=i+1
                      00105 
                      00106                 endw
                      00107 
                      00108                 RLCF            AARGB2,W
                      00109                 RLCF            REMB1, F
                      00110                 RLCF            REMB0, F
                      00111                 MOVFP           BARGB1,WREG
                      00112                 BTFSS           AARGB1,LSB
                      00113                 GOTO            SADD4616
                      00114                 SUBWF           REMB1, F
                      00115                 MOVFP           BARGB0,WREG
                      00116                 SUBWFB          REMB0, F
                      00117                 GOTO            SOK4616
                      00118 
                      00119 SADD4616        ADDWF           REMB1, F
                      00120                 MOVFP           BARGB0,WREG
                      00121                 ADDWFC          REMB0, F
                      00122 
                      00123 SOK4616         RLCF            AARGB2, F
                      00124 
                      00125 
                      00126                 variable i = D'17'
                      00127 
                      00128                 while i < D'24'
                      00129 
                      00130                 RLCF            AARGB2,W
                      00131                 RLCF            REMB1, F
                      00132                 RLCF            REMB0, F
                      00133                 MOVFP           BARGB1,WREG
                      00134                 BTFSS           AARGB2,LSB
                      00135                 GOTO            SADD46#v(i)
                      00136                 SUBWF           REMB1, F
                      00137                 MOVFP           BARGB0,WREG
                      00138                 SUBWFB          REMB0, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 68


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00139                 GOTO            SOK46#v(i)
                      00140 
                      00141 SADD46#v(i)     ADDWF           REMB1, F
                      00142                 MOVFP           BARGB0,WREG
                      00143                 ADDWFC          REMB0, F
                      00144 
                      00145 SOK46#v(i)      RLCF            AARGB2, F
                      00146 
                      00147                 variable i=i+1
                      00148 
                      00149                 endw
                      00150 
                      00151                 BTFSC           AARGB2,LSB
                      00152                 GOTO            SOK46
                      00153                 MOVFP           BARGB1,WREG
                      00154                 ADDWF           REMB1, F
                      00155                 MOVFP           BARGB0,WREG
                      00156                 ADDWFC          REMB0, F
                      00157 SOK46
                      00158 
                      00159                 endm
                      00160 
                      00161 
                      00162 ;**********************************************************************************************
                      00163 ;**********************************************************************************************
                      00164 ;
                      00165 ;       24/16 Bit Signed Fixed Point Divide 24/16 -> 24.16
                      00166 ;
                      00167 ;       Input:  24 bit fixed point dividend in AARGB0, AARGB1, AARGB2
                      00168 ;               16 bit fixed point divisor in BARGB0, BARGB1
                      00169 ;
                      00170 ;       Use:    CALL    FXD2416S
                      00171 ;
                      00172 ;       Output: 24 bit fixed point quotient in AARGB0, AARGB1, AARGB2
                      00173 ;               16 bit fixed point remainder in REMB0, REMB1
                      00174 ;
                      00175 ;       Result: AARG, REM  <--  AARG / BARG
                      00176 ;
                      00177 ;       Max Timing:     23+283+5 = 311 clks             A > 0, B > 0
                      00178 ;                       26+283+17 = 326 clks            A > 0, B < 0
                      00179 ;                       28+283+17 = 328 clks            A < 0, B > 0
                      00180 ;                       31+283+5 = 319 clks             A < 0, B < 0
                      00181 ;                       9 clks                          A = 0
                      00182 ;
                      00183 ;       Min Timing:     23+258+5 = 286 clks             A > 0, B > 0
                      00184 ;                       26+258+17 = 301 clks            A > 0, B < 0
                      00185 ;                       28+258+17 = 303 clks            A < 0, B > 0
                      00186 ;                       31+258+5 = 294 clks             A < 0, B < 0
                      00187 ;
                      00188 ;       PM: 30+327+16+41 = 414             DM: 9
                      00189 ;
                      00190 
000CAC                00191 Divide2416
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 69


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000CAC                00192 FXD2416S
000CAC 0100           00193                 MOVLR           HIGH AXreg
000CAE 6A24           00194                 CLRF            SIGN
000CB0 6A1C           00195                 CLRF            REMB0                   ; clear partial remainder
000CB2 6A1B           00196                 CLRF            REMB1
000CB4 5015           00197                 MOVFP           AARGB0,W
000CB6 1014           00198                 IORWF           AARGB1,W
000CB8 1013           00199                 IORWF           AARGB2,W
000CBA B4D8           00200                 BTFSC           _Z
000CBC 0C00           00201                 RETLW           0x00
                      00202 
000CBE 5015           00203                 MOVFP           AARGB0,W
000CC0 1818           00204                 XORWF           BARGB0,W
000CC2 BEE8           00205                 BTFSC           WREG,MSB,A
000CC4 1E24           00206                 COMF            SIGN,F
                      00207 
000CC6 6BAA           00208                 CLRF            TEMPB3                  ; clear exception flag
000CC8 0E00           00209                 MOVLW           0
                      00210 
000CCA AE18           00211                 BTFSS           BARGB0,MSB              ; if MSB set go & negate BARG
000CCC EF6C F006      00212                 GOTO            CA2416S
                      00213 
000CD0 1E17           00214                 COMF            BARGB1, F
000CD2 1E18           00215                 COMF            BARGB0, F
000CD4 2A17           00216                 INCF            BARGB1, F
000CD6 2218           00217                 ADDWFC          BARGB0, F
                      00218 
000CD8 AE15           00219 CA2416S         BTFSS           AARGB0,MSB              ; if MSB set go & negate AARGa
000CDA EF75 F006      00220                 GOTO            C2416SX
                      00221 
000CDE 1E13           00222                 COMF            AARGB2, F
000CE0 1E14           00223                 COMF            AARGB1, F
000CE2 1E15           00224                 COMF            AARGB0, F
000CE4 2A13           00225                 INCF            AARGB2, F
000CE6 2214           00226                 ADDWFC          AARGB1, F
000CE8 2215           00227                 ADDWFC          AARGB0, F
                      00228 
000CEA 5015           00229 C2416SX         MOVFP           AARGB0,W
000CEC 1018           00230                 IORWF           BARGB0,W
000CEE BEE8           00231                 BTFSC           WREG,MSB,A
000CF0 EFFF F007      00232                 GOTO            C2416SX1
                      00233 
                      00234 C2416S          SDIV2416
                          M ;
                          M ;       Max Timing:     5+8+22*12+6 = 283 clks
                          M ;
                          M ;       Min Timing:     5+8+22*11+3 = 258 clks
                          M ;
                          M ;       PM: 5+8+22*14+6 = 327           DM: 8
                          M ;
  0000                    M                 variable i
                          M 
000CF4 5017               M                 MOVFP           BARGB1,WREG
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 70


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000CF6 5E1B               M                 SUBWF           REMB1, F
000CF8 5018               M                 MOVFP           BARGB0,WREG
000CFA 5A1C               M                 SUBWFB          REMB0, F
000CFC 3615               M                 RLCF            AARGB0, F
                          M 
000CFE 3415               M                 RLCF            AARGB0,W
000D00 361B               M                 RLCF            REMB1, F
000D02 361C               M                 RLCF            REMB0, F
000D04 5017               M                 MOVFP           BARGB1,WREG
000D06 261B               M                 ADDWF           REMB1, F
000D08 5018               M                 MOVFP           BARGB0,WREG
000D0A 221C               M                 ADDWFC          REMB0, F
000D0C 3615               M                 RLCF            AARGB0, F
                          M 
  0002                    M                 variable i = D'2'
                          M 
                          M                 while i < D'8'
                          M 
000D0E 3415               M                 RLCF            AARGB0,W
000D10 361B               M                 RLCF            REMB1, F
000D12 361C               M                 RLCF            REMB0, F
000D14 5017               M                 MOVFP           BARGB1,WREG
000D16 A015               M                 BTFSS           AARGB0,LSB
000D18 EF93 F006          M                 GOTO            SADD462
000D1C 5E1B               M                 SUBWF           REMB1, F
000D1E 5018               M                 MOVFP           BARGB0,WREG
000D20 5A1C               M                 SUBWFB          REMB0, F
000D22 EF96 F006          M                 GOTO            SOK462
                          M 
000D26 261B               M SADD462         ADDWF           REMB1, F
000D28 5018               M                 MOVFP           BARGB0,WREG
000D2A 221C               M                 ADDWFC          REMB0, F
                          M 
000D2C 3615               M SOK462          RLCF            AARGB0, F
                          M 
  0003                    M                 variable i=i+1
                          M 
                          M 
000D2E 3415               M                 RLCF            AARGB0,W
000D30 361B               M                 RLCF            REMB1, F
000D32 361C               M                 RLCF            REMB0, F
000D34 5017               M                 MOVFP           BARGB1,WREG
000D36 A015               M                 BTFSS           AARGB0,LSB
000D38 EFA3 F006          M                 GOTO            SADD463
000D3C 5E1B               M                 SUBWF           REMB1, F
000D3E 5018               M                 MOVFP           BARGB0,WREG
000D40 5A1C               M                 SUBWFB          REMB0, F
000D42 EFA6 F006          M                 GOTO            SOK463
                          M 
000D46 261B               M SADD463         ADDWF           REMB1, F
000D48 5018               M                 MOVFP           BARGB0,WREG
000D4A 221C               M                 ADDWFC          REMB0, F
                          M 
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 71


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000D4C 3615               M SOK463          RLCF            AARGB0, F
                          M 
  0004                    M                 variable i=i+1
                          M 
                          M 
000D4E 3415               M                 RLCF            AARGB0,W
000D50 361B               M                 RLCF            REMB1, F
000D52 361C               M                 RLCF            REMB0, F
000D54 5017               M                 MOVFP           BARGB1,WREG
000D56 A015               M                 BTFSS           AARGB0,LSB
000D58 EFB3 F006          M                 GOTO            SADD464
000D5C 5E1B               M                 SUBWF           REMB1, F
000D5E 5018               M                 MOVFP           BARGB0,WREG
000D60 5A1C               M                 SUBWFB          REMB0, F
000D62 EFB6 F006          M                 GOTO            SOK464
                          M 
000D66 261B               M SADD464         ADDWF           REMB1, F
000D68 5018               M                 MOVFP           BARGB0,WREG
000D6A 221C               M                 ADDWFC          REMB0, F
                          M 
000D6C 3615               M SOK464          RLCF            AARGB0, F
                          M 
  0005                    M                 variable i=i+1
                          M 
                          M 
000D6E 3415               M                 RLCF            AARGB0,W
000D70 361B               M                 RLCF            REMB1, F
000D72 361C               M                 RLCF            REMB0, F
000D74 5017               M                 MOVFP           BARGB1,WREG
000D76 A015               M                 BTFSS           AARGB0,LSB
000D78 EFC3 F006          M                 GOTO            SADD465
000D7C 5E1B               M                 SUBWF           REMB1, F
000D7E 5018               M                 MOVFP           BARGB0,WREG
000D80 5A1C               M                 SUBWFB          REMB0, F
000D82 EFC6 F006          M                 GOTO            SOK465
                          M 
000D86 261B               M SADD465         ADDWF           REMB1, F
000D88 5018               M                 MOVFP           BARGB0,WREG
000D8A 221C               M                 ADDWFC          REMB0, F
                          M 
000D8C 3615               M SOK465          RLCF            AARGB0, F
                          M 
  0006                    M                 variable i=i+1
                          M 
                          M 
000D8E 3415               M                 RLCF            AARGB0,W
000D90 361B               M                 RLCF            REMB1, F
000D92 361C               M                 RLCF            REMB0, F
000D94 5017               M                 MOVFP           BARGB1,WREG
000D96 A015               M                 BTFSS           AARGB0,LSB
000D98 EFD3 F006          M                 GOTO            SADD466
000D9C 5E1B               M                 SUBWF           REMB1, F
000D9E 5018               M                 MOVFP           BARGB0,WREG
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 72


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000DA0 5A1C               M                 SUBWFB          REMB0, F
000DA2 EFD6 F006          M                 GOTO            SOK466
                          M 
000DA6 261B               M SADD466         ADDWF           REMB1, F
000DA8 5018               M                 MOVFP           BARGB0,WREG
000DAA 221C               M                 ADDWFC          REMB0, F
                          M 
000DAC 3615               M SOK466          RLCF            AARGB0, F
                          M 
  0007                    M                 variable i=i+1
                          M 
                          M 
000DAE 3415               M                 RLCF            AARGB0,W
000DB0 361B               M                 RLCF            REMB1, F
000DB2 361C               M                 RLCF            REMB0, F
000DB4 5017               M                 MOVFP           BARGB1,WREG
000DB6 A015               M                 BTFSS           AARGB0,LSB
000DB8 EFE3 F006          M                 GOTO            SADD467
000DBC 5E1B               M                 SUBWF           REMB1, F
000DBE 5018               M                 MOVFP           BARGB0,WREG
000DC0 5A1C               M                 SUBWFB          REMB0, F
000DC2 EFE6 F006          M                 GOTO            SOK467
                          M 
000DC6 261B               M SADD467         ADDWF           REMB1, F
000DC8 5018               M                 MOVFP           BARGB0,WREG
000DCA 221C               M                 ADDWFC          REMB0, F
                          M 
000DCC 3615               M SOK467          RLCF            AARGB0, F
                          M 
  0008                    M                 variable i=i+1
                          M 
                          M                 endw
                          M 
000DCE 3414               M                 RLCF            AARGB1,W
000DD0 361B               M                 RLCF            REMB1, F
000DD2 361C               M                 RLCF            REMB0, F
000DD4 5017               M                 MOVFP           BARGB1,WREG
000DD6 A015               M                 BTFSS           AARGB0,LSB
000DD8 EFF3 F006          M                 GOTO            SADD468
000DDC 5E1B               M                 SUBWF           REMB1, F
000DDE 5018               M                 MOVFP           BARGB0,WREG
000DE0 5A1C               M                 SUBWFB          REMB0, F
000DE2 EFF6 F006          M                 GOTO            SOK468
                          M 
000DE6 261B               M SADD468         ADDWF           REMB1, F
000DE8 5018               M                 MOVFP           BARGB0,WREG
000DEA 221C               M                 ADDWFC          REMB0, F
                          M 
000DEC 3614               M SOK468          RLCF            AARGB1, F
                          M 
  0009                    M                 variable i = D'9'
                          M 
                          M                 while i < D'16'
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 73


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M 
000DEE 3414               M                 RLCF            AARGB1,W
000DF0 361B               M                 RLCF            REMB1, F
000DF2 361C               M                 RLCF            REMB0, F
000DF4 5017               M                 MOVFP           BARGB1,WREG
000DF6 A014               M                 BTFSS           AARGB1,LSB
000DF8 EF03 F007          M                 GOTO            SADD469
000DFC 5E1B               M                 SUBWF           REMB1, F
000DFE 5018               M                 MOVFP           BARGB0,WREG
000E00 5A1C               M                 SUBWFB          REMB0, F
000E02 EF06 F007          M                 GOTO            SOK469
                          M 
000E06 261B               M SADD469         ADDWF           REMB1, F
000E08 5018               M                 MOVFP           BARGB0,WREG
000E0A 221C               M                 ADDWFC          REMB0, F
                          M 
000E0C 3614               M SOK469          RLCF            AARGB1, F
                          M 
  000A                    M                 variable i=i+1
                          M 
                          M 
000E0E 3414               M                 RLCF            AARGB1,W
000E10 361B               M                 RLCF            REMB1, F
000E12 361C               M                 RLCF            REMB0, F
000E14 5017               M                 MOVFP           BARGB1,WREG
000E16 A014               M                 BTFSS           AARGB1,LSB
000E18 EF13 F007          M                 GOTO            SADD4610
000E1C 5E1B               M                 SUBWF           REMB1, F
000E1E 5018               M                 MOVFP           BARGB0,WREG
000E20 5A1C               M                 SUBWFB          REMB0, F
000E22 EF16 F007          M                 GOTO            SOK4610
                          M 
000E26 261B               M SADD4610        ADDWF           REMB1, F
000E28 5018               M                 MOVFP           BARGB0,WREG
000E2A 221C               M                 ADDWFC          REMB0, F
                          M 
000E2C 3614               M SOK4610         RLCF            AARGB1, F
                          M 
  000B                    M                 variable i=i+1
                          M 
                          M 
000E2E 3414               M                 RLCF            AARGB1,W
000E30 361B               M                 RLCF            REMB1, F
000E32 361C               M                 RLCF            REMB0, F
000E34 5017               M                 MOVFP           BARGB1,WREG
000E36 A014               M                 BTFSS           AARGB1,LSB
000E38 EF23 F007          M                 GOTO            SADD4611
000E3C 5E1B               M                 SUBWF           REMB1, F
000E3E 5018               M                 MOVFP           BARGB0,WREG
000E40 5A1C               M                 SUBWFB          REMB0, F
000E42 EF26 F007          M                 GOTO            SOK4611
                          M 
000E46 261B               M SADD4611        ADDWF           REMB1, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 74


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000E48 5018               M                 MOVFP           BARGB0,WREG
000E4A 221C               M                 ADDWFC          REMB0, F
                          M 
000E4C 3614               M SOK4611         RLCF            AARGB1, F
                          M 
  000C                    M                 variable i=i+1
                          M 
                          M 
000E4E 3414               M                 RLCF            AARGB1,W
000E50 361B               M                 RLCF            REMB1, F
000E52 361C               M                 RLCF            REMB0, F
000E54 5017               M                 MOVFP           BARGB1,WREG
000E56 A014               M                 BTFSS           AARGB1,LSB
000E58 EF33 F007          M                 GOTO            SADD4612
000E5C 5E1B               M                 SUBWF           REMB1, F
000E5E 5018               M                 MOVFP           BARGB0,WREG
000E60 5A1C               M                 SUBWFB          REMB0, F
000E62 EF36 F007          M                 GOTO            SOK4612
                          M 
000E66 261B               M SADD4612        ADDWF           REMB1, F
000E68 5018               M                 MOVFP           BARGB0,WREG
000E6A 221C               M                 ADDWFC          REMB0, F
                          M 
000E6C 3614               M SOK4612         RLCF            AARGB1, F
                          M 
  000D                    M                 variable i=i+1
                          M 
                          M 
000E6E 3414               M                 RLCF            AARGB1,W
000E70 361B               M                 RLCF            REMB1, F
000E72 361C               M                 RLCF            REMB0, F
000E74 5017               M                 MOVFP           BARGB1,WREG
000E76 A014               M                 BTFSS           AARGB1,LSB
000E78 EF43 F007          M                 GOTO            SADD4613
000E7C 5E1B               M                 SUBWF           REMB1, F
000E7E 5018               M                 MOVFP           BARGB0,WREG
000E80 5A1C               M                 SUBWFB          REMB0, F
000E82 EF46 F007          M                 GOTO            SOK4613
                          M 
000E86 261B               M SADD4613        ADDWF           REMB1, F
000E88 5018               M                 MOVFP           BARGB0,WREG
000E8A 221C               M                 ADDWFC          REMB0, F
                          M 
000E8C 3614               M SOK4613         RLCF            AARGB1, F
                          M 
  000E                    M                 variable i=i+1
                          M 
                          M 
000E8E 3414               M                 RLCF            AARGB1,W
000E90 361B               M                 RLCF            REMB1, F
000E92 361C               M                 RLCF            REMB0, F
000E94 5017               M                 MOVFP           BARGB1,WREG
000E96 A014               M                 BTFSS           AARGB1,LSB
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 75


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000E98 EF53 F007          M                 GOTO            SADD4614
000E9C 5E1B               M                 SUBWF           REMB1, F
000E9E 5018               M                 MOVFP           BARGB0,WREG
000EA0 5A1C               M                 SUBWFB          REMB0, F
000EA2 EF56 F007          M                 GOTO            SOK4614
                          M 
000EA6 261B               M SADD4614        ADDWF           REMB1, F
000EA8 5018               M                 MOVFP           BARGB0,WREG
000EAA 221C               M                 ADDWFC          REMB0, F
                          M 
000EAC 3614               M SOK4614         RLCF            AARGB1, F
                          M 
  000F                    M                 variable i=i+1
                          M 
                          M 
000EAE 3414               M                 RLCF            AARGB1,W
000EB0 361B               M                 RLCF            REMB1, F
000EB2 361C               M                 RLCF            REMB0, F
000EB4 5017               M                 MOVFP           BARGB1,WREG
000EB6 A014               M                 BTFSS           AARGB1,LSB
000EB8 EF63 F007          M                 GOTO            SADD4615
000EBC 5E1B               M                 SUBWF           REMB1, F
000EBE 5018               M                 MOVFP           BARGB0,WREG
000EC0 5A1C               M                 SUBWFB          REMB0, F
000EC2 EF66 F007          M                 GOTO            SOK4615
                          M 
000EC6 261B               M SADD4615        ADDWF           REMB1, F
000EC8 5018               M                 MOVFP           BARGB0,WREG
000ECA 221C               M                 ADDWFC          REMB0, F
                          M 
000ECC 3614               M SOK4615         RLCF            AARGB1, F
                          M 
  0010                    M                 variable i=i+1
                          M 
                          M                 endw
                          M 
000ECE 3413               M                 RLCF            AARGB2,W
000ED0 361B               M                 RLCF            REMB1, F
000ED2 361C               M                 RLCF            REMB0, F
000ED4 5017               M                 MOVFP           BARGB1,WREG
000ED6 A014               M                 BTFSS           AARGB1,LSB
000ED8 EF73 F007          M                 GOTO            SADD4616
000EDC 5E1B               M                 SUBWF           REMB1, F
000EDE 5018               M                 MOVFP           BARGB0,WREG
000EE0 5A1C               M                 SUBWFB          REMB0, F
000EE2 EF76 F007          M                 GOTO            SOK4616
                          M 
000EE6 261B               M SADD4616        ADDWF           REMB1, F
000EE8 5018               M                 MOVFP           BARGB0,WREG
000EEA 221C               M                 ADDWFC          REMB0, F
                          M 
000EEC 3613               M SOK4616         RLCF            AARGB2, F
                          M 
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 76


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M 
  0011                    M                 variable i = D'17'
                          M 
                          M                 while i < D'24'
                          M 
000EEE 3413               M                 RLCF            AARGB2,W
000EF0 361B               M                 RLCF            REMB1, F
000EF2 361C               M                 RLCF            REMB0, F
000EF4 5017               M                 MOVFP           BARGB1,WREG
000EF6 A013               M                 BTFSS           AARGB2,LSB
000EF8 EF83 F007          M                 GOTO            SADD4617
000EFC 5E1B               M                 SUBWF           REMB1, F
000EFE 5018               M                 MOVFP           BARGB0,WREG
000F00 5A1C               M                 SUBWFB          REMB0, F
000F02 EF86 F007          M                 GOTO            SOK4617
                          M 
000F06 261B               M SADD4617        ADDWF           REMB1, F
000F08 5018               M                 MOVFP           BARGB0,WREG
000F0A 221C               M                 ADDWFC          REMB0, F
                          M 
000F0C 3613               M SOK4617         RLCF            AARGB2, F
                          M 
  0012                    M                 variable i=i+1
                          M 
                          M 
000F0E 3413               M                 RLCF            AARGB2,W
000F10 361B               M                 RLCF            REMB1, F
000F12 361C               M                 RLCF            REMB0, F
000F14 5017               M                 MOVFP           BARGB1,WREG
000F16 A013               M                 BTFSS           AARGB2,LSB
000F18 EF93 F007          M                 GOTO            SADD4618
000F1C 5E1B               M                 SUBWF           REMB1, F
000F1E 5018               M                 MOVFP           BARGB0,WREG
000F20 5A1C               M                 SUBWFB          REMB0, F
000F22 EF96 F007          M                 GOTO            SOK4618
                          M 
000F26 261B               M SADD4618        ADDWF           REMB1, F
000F28 5018               M                 MOVFP           BARGB0,WREG
000F2A 221C               M                 ADDWFC          REMB0, F
                          M 
000F2C 3613               M SOK4618         RLCF            AARGB2, F
                          M 
  0013                    M                 variable i=i+1
                          M 
                          M 
000F2E 3413               M                 RLCF            AARGB2,W
000F30 361B               M                 RLCF            REMB1, F
000F32 361C               M                 RLCF            REMB0, F
000F34 5017               M                 MOVFP           BARGB1,WREG
000F36 A013               M                 BTFSS           AARGB2,LSB
000F38 EFA3 F007          M                 GOTO            SADD4619
000F3C 5E1B               M                 SUBWF           REMB1, F
000F3E 5018               M                 MOVFP           BARGB0,WREG
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 77


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000F40 5A1C               M                 SUBWFB          REMB0, F
000F42 EFA6 F007          M                 GOTO            SOK4619
                          M 
000F46 261B               M SADD4619        ADDWF           REMB1, F
000F48 5018               M                 MOVFP           BARGB0,WREG
000F4A 221C               M                 ADDWFC          REMB0, F
                          M 
000F4C 3613               M SOK4619         RLCF            AARGB2, F
                          M 
  0014                    M                 variable i=i+1
                          M 
                          M 
000F4E 3413               M                 RLCF            AARGB2,W
000F50 361B               M                 RLCF            REMB1, F
000F52 361C               M                 RLCF            REMB0, F
000F54 5017               M                 MOVFP           BARGB1,WREG
000F56 A013               M                 BTFSS           AARGB2,LSB
000F58 EFB3 F007          M                 GOTO            SADD4620
000F5C 5E1B               M                 SUBWF           REMB1, F
000F5E 5018               M                 MOVFP           BARGB0,WREG
000F60 5A1C               M                 SUBWFB          REMB0, F
000F62 EFB6 F007          M                 GOTO            SOK4620
                          M 
000F66 261B               M SADD4620        ADDWF           REMB1, F
000F68 5018               M                 MOVFP           BARGB0,WREG
000F6A 221C               M                 ADDWFC          REMB0, F
                          M 
000F6C 3613               M SOK4620         RLCF            AARGB2, F
                          M 
  0015                    M                 variable i=i+1
                          M 
                          M 
000F6E 3413               M                 RLCF            AARGB2,W
000F70 361B               M                 RLCF            REMB1, F
000F72 361C               M                 RLCF            REMB0, F
000F74 5017               M                 MOVFP           BARGB1,WREG
000F76 A013               M                 BTFSS           AARGB2,LSB
000F78 EFC3 F007          M                 GOTO            SADD4621
000F7C 5E1B               M                 SUBWF           REMB1, F
000F7E 5018               M                 MOVFP           BARGB0,WREG
000F80 5A1C               M                 SUBWFB          REMB0, F
000F82 EFC6 F007          M                 GOTO            SOK4621
                          M 
000F86 261B               M SADD4621        ADDWF           REMB1, F
000F88 5018               M                 MOVFP           BARGB0,WREG
000F8A 221C               M                 ADDWFC          REMB0, F
                          M 
000F8C 3613               M SOK4621         RLCF            AARGB2, F
                          M 
  0016                    M                 variable i=i+1
                          M 
                          M 
000F8E 3413               M                 RLCF            AARGB2,W
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 78


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000F90 361B               M                 RLCF            REMB1, F
000F92 361C               M                 RLCF            REMB0, F
000F94 5017               M                 MOVFP           BARGB1,WREG
000F96 A013               M                 BTFSS           AARGB2,LSB
000F98 EFD3 F007          M                 GOTO            SADD4622
000F9C 5E1B               M                 SUBWF           REMB1, F
000F9E 5018               M                 MOVFP           BARGB0,WREG
000FA0 5A1C               M                 SUBWFB          REMB0, F
000FA2 EFD6 F007          M                 GOTO            SOK4622
                          M 
000FA6 261B               M SADD4622        ADDWF           REMB1, F
000FA8 5018               M                 MOVFP           BARGB0,WREG
000FAA 221C               M                 ADDWFC          REMB0, F
                          M 
000FAC 3613               M SOK4622         RLCF            AARGB2, F
                          M 
  0017                    M                 variable i=i+1
                          M 
                          M 
000FAE 3413               M                 RLCF            AARGB2,W
000FB0 361B               M                 RLCF            REMB1, F
000FB2 361C               M                 RLCF            REMB0, F
000FB4 5017               M                 MOVFP           BARGB1,WREG
000FB6 A013               M                 BTFSS           AARGB2,LSB
000FB8 EFE3 F007          M                 GOTO            SADD4623
000FBC 5E1B               M                 SUBWF           REMB1, F
000FBE 5018               M                 MOVFP           BARGB0,WREG
000FC0 5A1C               M                 SUBWFB          REMB0, F
000FC2 EFE6 F007          M                 GOTO            SOK4623
                          M 
000FC6 261B               M SADD4623        ADDWF           REMB1, F
000FC8 5018               M                 MOVFP           BARGB0,WREG
000FCA 221C               M                 ADDWFC          REMB0, F
                          M 
000FCC 3613               M SOK4623         RLCF            AARGB2, F
                          M 
  0018                    M                 variable i=i+1
                          M 
                          M                 endw
                          M 
000FCE B013               M                 BTFSC           AARGB2,LSB
000FD0 EFEE F007          M                 GOTO            SOK46
000FD4 5017               M                 MOVFP           BARGB1,WREG
000FD6 261B               M                 ADDWF           REMB1, F
000FD8 5018               M                 MOVFP           BARGB0,WREG
000FDA 221C               M                 ADDWFC          REMB0, F
000FDC                    M SOK46
                          M 
                      00235 
000FDC B1AA           00236                 BTFSC           TEMPB3,LSB              ; test exception flag
000FDE EF23 F008      00237                 GOTO            C2416SX4
                      00238 
000FE2 AE24           00239 C2416SOK        BTFSS           SIGN,MSB                ; negate
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 79


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000FE4 0C00           00240                 RETLW           0x00
                      00241 
000FE6 1E13           00242                 COMF            AARGB2, F
000FE8 1E14           00243                 COMF            AARGB1, F
000FEA 1E15           00244                 COMF            AARGB0, F
000FEC 0E00           00245                 MOVLW           0
000FEE 2A13           00246                 INCF            AARGB2, F
000FF0 2214           00247                 ADDWFC          AARGB1, F
000FF2 2215           00248                 ADDWFC          AARGB0, F
                      00249 
000FF4 1E1B           00250                 COMF            REMB1, F
000FF6 1E1C           00251                 COMF            REMB0, F
000FF8 2A1B           00252                 INCF            REMB1, F
000FFA 221C           00253                 ADDWFC          REMB0, F
                      00254 
000FFC 0C00           00255                 RETLW           0x00
                      00256 
000FFE AE18           00257 C2416SX1        BTFSS           BARGB0,MSB              ; test BARG exception
001000 EF1D F008      00258                 GOTO            C2416SX3
001004 BE15           00259                 BTFSC           AARGB0,MSB              ; test AARG exception
001006 EF18 F008      00260                 GOTO            C2416SX2
00100A CFE8 F0A3      00261                 MOVPF           WREG,Ctemp
00100E 5014           00262                 MOVFP           AARGB1,W
001010 CFE8 F01C      00263                 MOVPF           WREG,REMB0
001014 5013           00264                 MOVFP           AARGB2,W
001016 CFE8 F01B      00265                 MOVPF           WREG,REMB1
00101A 9E1C           00266                 BCF             REMB0,MSB
00101C 3614           00267                 RLCF            AARGB1,F
00101E 3615           00268                 RLCF            AARGB0,F
001020 5015           00269                 MOVFP           AARGB0,W
001022 CFE8 F013      00270                 MOVPF           WREG,AARGB2
001026 51A3           00271                 MOVFP           Ctemp,W
001028 6A15           00272                 CLRF            AARGB0
00102A 6A14           00273                 CLRF            AARGB1
00102C EFF1 F007      00274                 GOTO            C2416SOK
001030 6A13           00275 C2416SX2        CLRF            AARGB2          ; quotient = 1, remainder = 0
001032 2A13           00276                 INCF            AARGB2,F
001034 6A14           00277                 CLRF            AARGB1
001036 6A15           00278                 CLRF            AARGB0
001038 0C00           00279                 RETLW           0x00
                      00280 
00103A 1E15           00281 C2416SX3        COMF            AARGB0,F                ; numerator = 0x7FFFFF + 1
00103C 1E14           00282                 COMF            AARGB1,F
00103E 1E13           00283                 COMF            AARGB2,F
001040 2BAA           00284                 INCF            TEMPB3,F
001042 EF7A F006      00285                 GOTO            C2416S
                      00286 
001046 2A1B           00287 C2416SX4        INCF            REMB1,F                 ; increment remainder and test for
001048 6AE8           00288                 CLRF            WREG
00104A 221C           00289                 ADDWFC          REMB0,F
00104C 5017           00290                 MOVFP           BARGB1,W                ; overflow
00104E 621B           00291                 CPFSEQ          REMB1
001050 EFF1 F007      00292                 GOTO            C2416SOK
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 80


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001054 5018           00293                 MOVFP           BARGB0,W                ; overflow
001056 621C           00294                 CPFSEQ          REMB0
001058 EFF1 F007      00295                 GOTO            C2416SOK
00105C 6A1C           00296                 CLRF            REMB0                   ; if remainder overflow, clear
00105E 6A1B           00297                 CLRF            REMB1
001060 0E00           00298                 MOVLW           0
001062 2A13           00299                 INCF            AARGB2,F                ; remainder, increment quotient and
001064 2214           00300                 ADDWFC          AARGB1,F                ; test for overflow exception
001066 2215           00301                 ADDWFC          AARGB0,F
001068 AE15           00302                 BTFSS           AARGB0,MSB
00106A EFF1 F007      00303                 GOTO            C2416SOK
00106E 8823           00304                 BSF             FPFLAGS,NAN
001070 0CFF           00305                 RETLW           0xFF
                      00306                 
                      00288 INCLUDE         <DIV3232U.ASM>
                      00001 
  000000AA            00002 TEMP            EQU             TEMPB3
                      00003 
                      00004 NDIV3232        macro
                      00005 
                      00006 ;       Max Timing:     16+31*21+10 = 677 clks
                      00007 ;
                      00008 ;       Min Timing: 16+31*20+3 = 639 clks
                      00009 ;
                      00010 ;       PM: 16+31*29+10 = 925           DM: 13
                      00011 ;
                      00012                 variable i
                      00013 
                      00014                 RLCF            CEXreg+3,W
                      00015                 RLCF            EEXreg, F
                      00016                 RLCF            EEXreg+1, F
                      00017                 RLCF            EEXreg+2, F
                      00018                 RLCF            EEXreg+3, F
                      00019                 MOVFP           DEXreg,WREG
                      00020                 SUBWF           EEXreg, F
                      00021                 MOVFP           DEXreg+1,WREG
                      00022                 SUBWFB          EEXreg+1, F
                      00023                 MOVFP           DEXreg+2,WREG
                      00024                 SUBWFB          EEXreg+2, F
                      00025                 MOVFP           DEXreg+3,WREG
                      00026                 SUBWFB          EEXreg+3, F
                      00027                 CLRF            TEMP
                      00028                 SUBWFB          TEMP, F
                      00029                 RLCF            CEXreg+3, F
                      00030 
                      00031                 variable i = D'1'
                      00032 
                      00033                 while i < D'8'
                      00034 
                      00035                 RLCF            CEXreg+3,W
                      00036                 RLCF            EEXreg, F
                      00037                 RLCF            EEXreg+1, F
                      00038                 RLCF            EEXreg+2, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 81


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00039                 RLCF            EEXreg+3, F
                      00040                 RLCF            TEMP, F
                      00041                 MOVFP           DEXreg,WREG
                      00042                 BTFSS           CEXreg+3,LSB
                      00043                 GOTO            NADD22#v(i)
                      00044                 SUBWF           EEXreg, F
                      00045                 MOVFP           DEXreg+1,WREG
                      00046                 SUBWFB          EEXreg+1, F
                      00047                 MOVFP           DEXreg+2,WREG
                      00048                 SUBWFB          EEXreg+2, F
                      00049                 MOVFP           DEXreg+3,WREG
                      00050                 SUBWFB          EEXreg+3, F
                      00051                 CLRF            WREG
                      00052                 SUBWFB          TEMP, F
                      00053                 GOTO            NOK22#v(i)
                      00054 
                      00055 NADD22#v(i)     ADDWF           EEXreg, F
                      00056                 MOVFP           DEXreg+1,WREG
                      00057                 ADDWFC          EEXreg+1, F
                      00058                 MOVFP           DEXreg+2,WREG
                      00059                 ADDWFC          EEXreg+2, F
                      00060                 MOVFP           DEXreg+3,WREG
                      00061                 ADDWFC          EEXreg+3, F
                      00062                 CLRF            WREG
                      00063                 ADDWFC          TEMP, F
                      00064         
                      00065 NOK22#v(i)      RLCF            CEXreg+3, F
                      00066 
                      00067                 variable i=i+1
                      00068 
                      00069                 endw
                      00070 
                      00071                 RLCF            CEXreg+2,W
                      00072                 RLCF            EEXreg, F
                      00073                 RLCF            EEXreg+1, F
                      00074                 RLCF            EEXreg+2, F
                      00075                 RLCF            EEXreg+3, F
                      00076                 RLCF            TEMP, F
                      00077                 MOVFP           DEXreg,WREG
                      00078                 BTFSS           CEXreg+3,LSB
                      00079                 GOTO            NADD228
                      00080                 SUBWF           EEXreg, F
                      00081                 MOVFP           DEXreg+1,WREG
                      00082                 SUBWFB          EEXreg+1, F
                      00083                 MOVFP           DEXreg+2,WREG
                      00084                 SUBWFB          EEXreg+2, F
                      00085                 MOVFP           DEXreg+3,WREG
                      00086                 SUBWFB          EEXreg+3, F
                      00087                 CLRF            WREG
                      00088                 SUBWFB          TEMP, F
                      00089                 GOTO            NOK228
                      00090 
                      00091 NADD228         ADDWF           EEXreg, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 82


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00092                 MOVFP           DEXreg+1,WREG
                      00093                 ADDWFC          EEXreg+1, F
                      00094                 MOVFP           DEXreg+2,WREG
                      00095                 ADDWFC          EEXreg+2, F
                      00096                 MOVFP           DEXreg+3,WREG
                      00097                 ADDWFC          EEXreg+3, F
                      00098                 CLRF            WREG
                      00099                 ADDWFC          TEMP, F
                      00100         
                      00101 NOK228          RLCF            CEXreg+2, F
                      00102 
                      00103                 variable i = D'9'
                      00104 
                      00105                 while i < D'16'
                      00106 
                      00107                 RLCF            CEXreg+2,W
                      00108                 RLCF            EEXreg, F
                      00109                 RLCF            EEXreg+1, F
                      00110                 RLCF            EEXreg+2, F
                      00111                 RLCF            EEXreg+3, F
                      00112                 RLCF            TEMP, F
                      00113                 MOVFP           DEXreg,WREG
                      00114                 BTFSS           CEXreg+2,LSB
                      00115                 GOTO            NADD22#v(i)
                      00116                 SUBWF           EEXreg, F
                      00117                 MOVFP           DEXreg+1,WREG
                      00118                 SUBWFB          EEXreg+1, F
                      00119                 MOVFP           DEXreg+2,WREG
                      00120                 SUBWFB          EEXreg+2, F
                      00121                 MOVFP           DEXreg+3,WREG
                      00122                 SUBWFB          EEXreg+3, F
                      00123                 CLRF            WREG
                      00124                 SUBWFB          TEMP, F
                      00125                 GOTO            NOK22#v(i)
                      00126 
                      00127 NADD22#v(i)     ADDWF           EEXreg, F
                      00128                 MOVFP           DEXreg+1,WREG
                      00129                 ADDWFC          EEXreg+1, F
                      00130                 MOVFP           DEXreg+2,WREG
                      00131                 ADDWFC          EEXreg+2, F
                      00132                 MOVFP           DEXreg+3,WREG
                      00133                 ADDWFC          EEXreg+3, F
                      00134                 CLRF            WREG
                      00135                 ADDWFC          TEMP, F
                      00136         
                      00137 NOK22#v(i)      RLCF            CEXreg+2, F
                      00138 
                      00139                 variable i=i+1
                      00140 
                      00141                 endw
                      00142 
                      00143                 RLCF            CEXreg+1,W
                      00144                 RLCF            EEXreg, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 83


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00145                 RLCF            EEXreg+1, F
                      00146                 RLCF            EEXreg+2, F
                      00147                 RLCF            EEXreg+3, F
                      00148                 RLCF            TEMP, F
                      00149                 MOVFP           DEXreg,WREG
                      00150                 BTFSS           CEXreg+2,LSB
                      00151                 GOTO            NADD2216
                      00152                 SUBWF           EEXreg, F
                      00153                 MOVFP           DEXreg+1,WREG
                      00154                 SUBWFB          EEXreg+1, F
                      00155                 MOVFP           DEXreg+2,WREG
                      00156                 SUBWFB          EEXreg+2, F
                      00157                 MOVFP           DEXreg+3,WREG
                      00158                 SUBWFB          EEXreg+3, F
                      00159                 CLRF            WREG
                      00160                 SUBWFB          TEMP, F
                      00161                 GOTO            NOK2216
                      00162 
                      00163 NADD2216        ADDWF           EEXreg, F
                      00164                 MOVFP           DEXreg+1,WREG
                      00165                 ADDWFC          EEXreg+1, F
                      00166                 MOVFP           DEXreg+2,WREG
                      00167                 ADDWFC          EEXreg+2, F
                      00168                 MOVFP           DEXreg+3,WREG
                      00169                 ADDWFC          EEXreg+3, F
                      00170                 CLRF            WREG
                      00171                 ADDWFC          TEMP, F
                      00172         
                      00173 NOK2216         RLCF            CEXreg+1, F
                      00174 
                      00175                 variable i = D'17'
                      00176 
                      00177                 while i < D'24'
                      00178 
                      00179                 RLCF            CEXreg+1,W
                      00180                 RLCF            EEXreg, F
                      00181                 RLCF            EEXreg+1, F
                      00182                 RLCF            EEXreg+2, F
                      00183                 RLCF            EEXreg+3, F
                      00184                 RLCF            TEMP, F
                      00185                 MOVFP           DEXreg,WREG
                      00186                 BTFSS           CEXreg+1,LSB
                      00187                 GOTO            NADD22#v(i)
                      00188                 SUBWF           EEXreg, F
                      00189                 MOVFP           DEXreg+1,WREG
                      00190                 SUBWFB          EEXreg+1, F
                      00191                 MOVFP           DEXreg+2,WREG
                      00192                 SUBWFB          EEXreg+2, F
                      00193                 MOVFP           DEXreg+3,WREG
                      00194                 SUBWFB          EEXreg+3, F
                      00195                 CLRF            WREG
                      00196                 SUBWFB          TEMP, F
                      00197                 GOTO            NOK22#v(i)
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 84


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00198 
                      00199 NADD22#v(i)     ADDWF           EEXreg, F
                      00200                 MOVFP           DEXreg+1,WREG
                      00201                 ADDWFC          EEXreg+1, F
                      00202                 MOVFP           DEXreg+2,WREG
                      00203                 ADDWFC          EEXreg+2, F
                      00204                 MOVFP           DEXreg+3,WREG
                      00205                 ADDWFC          EEXreg+3, F
                      00206                 CLRF            WREG
                      00207                 ADDWFC          TEMP, F
                      00208         
                      00209 NOK22#v(i)      RLCF            CEXreg+1, F
                      00210 
                      00211                 variable i=i+1
                      00212 
                      00213                 endw
                      00214 
                      00215                 RLCF            CEXreg,W
                      00216                 RLCF            EEXreg, F
                      00217                 RLCF            EEXreg+1, F
                      00218                 RLCF            EEXreg+2, F
                      00219                 RLCF            EEXreg+3, F
                      00220                 RLCF            TEMP, F
                      00221                 MOVFP           DEXreg,WREG
                      00222                 BTFSS           CEXreg+1,LSB
                      00223                 GOTO            NADD2224
                      00224                 SUBWF           EEXreg, F
                      00225                 MOVFP           DEXreg+1,WREG
                      00226                 SUBWFB          EEXreg+1, F
                      00227                 MOVFP           DEXreg+2,WREG
                      00228                 SUBWFB          EEXreg+2, F
                      00229                 MOVFP           DEXreg+3,WREG
                      00230                 SUBWFB          EEXreg+3, F
                      00231                 CLRF            WREG
                      00232                 SUBWFB          TEMP, F
                      00233                 GOTO            NOK2224
                      00234 
                      00235 NADD2224        ADDWF           EEXreg, F
                      00236                 MOVFP           DEXreg+1,WREG
                      00237                 ADDWFC          EEXreg+1, F
                      00238                 MOVFP           DEXreg+2,WREG
                      00239                 ADDWFC          EEXreg+2, F
                      00240                 MOVFP           DEXreg+3,WREG
                      00241                 ADDWFC          EEXreg+3, F
                      00242                 CLRF            WREG
                      00243                 ADDWFC          TEMP, F
                      00244         
                      00245 NOK2224         RLCF            CEXreg, F
                      00246 
                      00247                 variable i = D'25'
                      00248 
                      00249                 while i < D'32'
                      00250 
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 85


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00251                 RLCF            CEXreg,W
                      00252                 RLCF            EEXreg, F
                      00253                 RLCF            EEXreg+1, F
                      00254                 RLCF            EEXreg+2, F
                      00255                 RLCF            EEXreg+3, F
                      00256                 RLCF            TEMP, F
                      00257                 MOVFP           DEXreg,WREG
                      00258                 BTFSS           CEXreg,LSB
                      00259                 GOTO            NADD22#v(i)
                      00260                 SUBWF           EEXreg, F
                      00261                 MOVFP           DEXreg+1,WREG
                      00262                 SUBWFB          EEXreg+1, F
                      00263                 MOVFP           DEXreg+2,WREG
                      00264                 SUBWFB          EEXreg+2, F
                      00265                 MOVFP           DEXreg+3,WREG
                      00266                 SUBWFB          EEXreg+3, F
                      00267                 CLRF            WREG
                      00268                 SUBWFB          TEMP, F
                      00269                 GOTO            NOK22#v(i)
                      00270 
                      00271 NADD22#v(i)     ADDWF           EEXreg, F
                      00272                 MOVFP           DEXreg+1,WREG
                      00273                 ADDWFC          EEXreg+1, F
                      00274                 MOVFP           DEXreg+2,WREG
                      00275                 ADDWFC          EEXreg+2, F
                      00276                 MOVFP           DEXreg+3,WREG
                      00277                 ADDWFC          EEXreg+3, F
                      00278                 CLRF            WREG
                      00279                 ADDWFC          TEMP, F
                      00280         
                      00281 NOK22#v(i)      RLCF            CEXreg, F
                      00282 
                      00283                 variable i=i+1
                      00284 
                      00285                 endw
                      00286 
                      00287                 BTFSC           CEXreg,LSB
                      00288                 GOTO            NOK22
                      00289                 MOVFP           DEXreg,WREG
                      00290                 ADDWF           EEXreg, F
                      00291                 MOVFP           DEXreg+1,WREG
                      00292                 ADDWFC          EEXreg+1, F
                      00293                 MOVFP           DEXreg+2,WREG
                      00294                 ADDWFC          EEXreg+2, F
                      00295                 MOVFP           DEXreg+3,WREG
                      00296                 ADDWFC          EEXreg+3, F
                      00297 
                      00298 NOK22
                      00299                 endm
                      00300 
                      00301 
                      00302 ;**********************************************************************************************
                      00303 ;**********************************************************************************************
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 86


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00304 ;
                      00305 ;       32/32 Bit Unsigned Fixed Point Divide 32/32 -> 32.32
                      00306 ;
                      00307 ;       Input:  32 bit unsigned fixed point dividend in CEXreg+3, CEXreg+2,CEXreg+1,CEXreg
                      00308 ;               32 bit unsigned fixed point divisor in DEXreg+3, DEXreg+2, DEXreg+1, DEXreg
                      00309 ;
                      00310 ;       Use:    CALL    FXD3232U
                      00311 ;
                      00312 ;       Output: 32 bit unsigned fixed point quotient in CEXreg+3, CEXreg+2,CEXreg+1,CEXreg
                      00313 ;               32 bit unsigned fixed point remainder in EEXreg+3, EEXreg+2, EEXreg+1, EEXreg
                      00314 ;
                      00315 ;       Result: AARG, REM  <--  AARG / BARG
                      00316 ;
                      00317 ;       Max Timing:     4+677+2 = 683 clks
                      00318 ;
                      00319 ;       Min Timing:     4+639+2 = 645 clks
                      00320 ;
                      00321 ;       PM: 4+925+1 = 930               DM: 13
                      00322 ;
001072                00323 Divide3232u
001072                00324 FXD3232U
001072 0100           00325                 MOVLB           HIGH EEXreg
001074 6A1E           00326                 CLRF            EEXreg+3
001076 6A1D           00327                 CLRF            EEXreg+2
001078 6A1C           00328                 CLRF            EEXreg+1
00107A 6A1B           00329                 CLRF            EEXreg
                      00330 
                      00331                 NDIV3232
                          M 
                          M ;       Max Timing:     16+31*21+10 = 677 clks
                          M ;
                          M ;       Min Timing: 16+31*20+3 = 639 clks
                          M ;
                          M ;       PM: 16+31*29+10 = 925           DM: 13
                          M ;
  0000                    M                 variable i
                          M 
00107C 3416               M                 RLCF            CEXreg+3,W
00107E 361B               M                 RLCF            EEXreg, F
001080 361C               M                 RLCF            EEXreg+1, F
001082 361D               M                 RLCF            EEXreg+2, F
001084 361E               M                 RLCF            EEXreg+3, F
001086 5017               M                 MOVFP           DEXreg,WREG
001088 5E1B               M                 SUBWF           EEXreg, F
00108A 5018               M                 MOVFP           DEXreg+1,WREG
00108C 5A1C               M                 SUBWFB          EEXreg+1, F
00108E 5019               M                 MOVFP           DEXreg+2,WREG
001090 5A1D               M                 SUBWFB          EEXreg+2, F
001092 501A               M                 MOVFP           DEXreg+3,WREG
001094 5A1E               M                 SUBWFB          EEXreg+3, F
001096 6BAA               M                 CLRF            TEMP
001098 5BAA               M                 SUBWFB          TEMP, F
00109A 3616               M                 RLCF            CEXreg+3, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 87


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M 
  0001                    M                 variable i = D'1'
                          M 
                          M                 while i < D'8'
                          M 
00109C 3416               M                 RLCF            CEXreg+3,W
00109E 361B               M                 RLCF            EEXreg, F
0010A0 361C               M                 RLCF            EEXreg+1, F
0010A2 361D               M                 RLCF            EEXreg+2, F
0010A4 361E               M                 RLCF            EEXreg+3, F
0010A6 37AA               M                 RLCF            TEMP, F
0010A8 5017               M                 MOVFP           DEXreg,WREG
0010AA A016               M                 BTFSS           CEXreg+3,LSB
0010AC EF63 F008          M                 GOTO            NADD221
0010B0 5E1B               M                 SUBWF           EEXreg, F
0010B2 5018               M                 MOVFP           DEXreg+1,WREG
0010B4 5A1C               M                 SUBWFB          EEXreg+1, F
0010B6 5019               M                 MOVFP           DEXreg+2,WREG
0010B8 5A1D               M                 SUBWFB          EEXreg+2, F
0010BA 501A               M                 MOVFP           DEXreg+3,WREG
0010BC 5A1E               M                 SUBWFB          EEXreg+3, F
0010BE 6AE8               M                 CLRF            WREG
0010C0 5BAA               M                 SUBWFB          TEMP, F
0010C2 EF6C F008          M                 GOTO            NOK221
                          M 
0010C6 261B               M NADD221         ADDWF           EEXreg, F
0010C8 5018               M                 MOVFP           DEXreg+1,WREG
0010CA 221C               M                 ADDWFC          EEXreg+1, F
0010CC 5019               M                 MOVFP           DEXreg+2,WREG
0010CE 221D               M                 ADDWFC          EEXreg+2, F
0010D0 501A               M                 MOVFP           DEXreg+3,WREG
0010D2 221E               M                 ADDWFC          EEXreg+3, F
0010D4 6AE8               M                 CLRF            WREG
0010D6 23AA               M                 ADDWFC          TEMP, F
                          M         
0010D8 3616               M NOK221          RLCF            CEXreg+3, F
                          M 
  0002                    M                 variable i=i+1
                          M 
                          M 
0010DA 3416               M                 RLCF            CEXreg+3,W
0010DC 361B               M                 RLCF            EEXreg, F
0010DE 361C               M                 RLCF            EEXreg+1, F
0010E0 361D               M                 RLCF            EEXreg+2, F
0010E2 361E               M                 RLCF            EEXreg+3, F
0010E4 37AA               M                 RLCF            TEMP, F
0010E6 5017               M                 MOVFP           DEXreg,WREG
0010E8 A016               M                 BTFSS           CEXreg+3,LSB
0010EA EF82 F008          M                 GOTO            NADD222
0010EE 5E1B               M                 SUBWF           EEXreg, F
0010F0 5018               M                 MOVFP           DEXreg+1,WREG
0010F2 5A1C               M                 SUBWFB          EEXreg+1, F
0010F4 5019               M                 MOVFP           DEXreg+2,WREG
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 88


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0010F6 5A1D               M                 SUBWFB          EEXreg+2, F
0010F8 501A               M                 MOVFP           DEXreg+3,WREG
0010FA 5A1E               M                 SUBWFB          EEXreg+3, F
0010FC 6AE8               M                 CLRF            WREG
0010FE 5BAA               M                 SUBWFB          TEMP, F
001100 EF8B F008          M                 GOTO            NOK222
                          M 
001104 261B               M NADD222         ADDWF           EEXreg, F
001106 5018               M                 MOVFP           DEXreg+1,WREG
001108 221C               M                 ADDWFC          EEXreg+1, F
00110A 5019               M                 MOVFP           DEXreg+2,WREG
00110C 221D               M                 ADDWFC          EEXreg+2, F
00110E 501A               M                 MOVFP           DEXreg+3,WREG
001110 221E               M                 ADDWFC          EEXreg+3, F
001112 6AE8               M                 CLRF            WREG
001114 23AA               M                 ADDWFC          TEMP, F
                          M         
001116 3616               M NOK222          RLCF            CEXreg+3, F
                          M 
  0003                    M                 variable i=i+1
                          M 
                          M 
001118 3416               M                 RLCF            CEXreg+3,W
00111A 361B               M                 RLCF            EEXreg, F
00111C 361C               M                 RLCF            EEXreg+1, F
00111E 361D               M                 RLCF            EEXreg+2, F
001120 361E               M                 RLCF            EEXreg+3, F
001122 37AA               M                 RLCF            TEMP, F
001124 5017               M                 MOVFP           DEXreg,WREG
001126 A016               M                 BTFSS           CEXreg+3,LSB
001128 EFA1 F008          M                 GOTO            NADD223
00112C 5E1B               M                 SUBWF           EEXreg, F
00112E 5018               M                 MOVFP           DEXreg+1,WREG
001130 5A1C               M                 SUBWFB          EEXreg+1, F
001132 5019               M                 MOVFP           DEXreg+2,WREG
001134 5A1D               M                 SUBWFB          EEXreg+2, F
001136 501A               M                 MOVFP           DEXreg+3,WREG
001138 5A1E               M                 SUBWFB          EEXreg+3, F
00113A 6AE8               M                 CLRF            WREG
00113C 5BAA               M                 SUBWFB          TEMP, F
00113E EFAA F008          M                 GOTO            NOK223
                          M 
001142 261B               M NADD223         ADDWF           EEXreg, F
001144 5018               M                 MOVFP           DEXreg+1,WREG
001146 221C               M                 ADDWFC          EEXreg+1, F
001148 5019               M                 MOVFP           DEXreg+2,WREG
00114A 221D               M                 ADDWFC          EEXreg+2, F
00114C 501A               M                 MOVFP           DEXreg+3,WREG
00114E 221E               M                 ADDWFC          EEXreg+3, F
001150 6AE8               M                 CLRF            WREG
001152 23AA               M                 ADDWFC          TEMP, F
                          M         
001154 3616               M NOK223          RLCF            CEXreg+3, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 89


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M 
  0004                    M                 variable i=i+1
                          M 
                          M 
001156 3416               M                 RLCF            CEXreg+3,W
001158 361B               M                 RLCF            EEXreg, F
00115A 361C               M                 RLCF            EEXreg+1, F
00115C 361D               M                 RLCF            EEXreg+2, F
00115E 361E               M                 RLCF            EEXreg+3, F
001160 37AA               M                 RLCF            TEMP, F
001162 5017               M                 MOVFP           DEXreg,WREG
001164 A016               M                 BTFSS           CEXreg+3,LSB
001166 EFC0 F008          M                 GOTO            NADD224
00116A 5E1B               M                 SUBWF           EEXreg, F
00116C 5018               M                 MOVFP           DEXreg+1,WREG
00116E 5A1C               M                 SUBWFB          EEXreg+1, F
001170 5019               M                 MOVFP           DEXreg+2,WREG
001172 5A1D               M                 SUBWFB          EEXreg+2, F
001174 501A               M                 MOVFP           DEXreg+3,WREG
001176 5A1E               M                 SUBWFB          EEXreg+3, F
001178 6AE8               M                 CLRF            WREG
00117A 5BAA               M                 SUBWFB          TEMP, F
00117C EFC9 F008          M                 GOTO            NOK224
                          M 
001180 261B               M NADD224         ADDWF           EEXreg, F
001182 5018               M                 MOVFP           DEXreg+1,WREG
001184 221C               M                 ADDWFC          EEXreg+1, F
001186 5019               M                 MOVFP           DEXreg+2,WREG
001188 221D               M                 ADDWFC          EEXreg+2, F
00118A 501A               M                 MOVFP           DEXreg+3,WREG
00118C 221E               M                 ADDWFC          EEXreg+3, F
00118E 6AE8               M                 CLRF            WREG
001190 23AA               M                 ADDWFC          TEMP, F
                          M         
001192 3616               M NOK224          RLCF            CEXreg+3, F
                          M 
  0005                    M                 variable i=i+1
                          M 
                          M 
001194 3416               M                 RLCF            CEXreg+3,W
001196 361B               M                 RLCF            EEXreg, F
001198 361C               M                 RLCF            EEXreg+1, F
00119A 361D               M                 RLCF            EEXreg+2, F
00119C 361E               M                 RLCF            EEXreg+3, F
00119E 37AA               M                 RLCF            TEMP, F
0011A0 5017               M                 MOVFP           DEXreg,WREG
0011A2 A016               M                 BTFSS           CEXreg+3,LSB
0011A4 EFDF F008          M                 GOTO            NADD225
0011A8 5E1B               M                 SUBWF           EEXreg, F
0011AA 5018               M                 MOVFP           DEXreg+1,WREG
0011AC 5A1C               M                 SUBWFB          EEXreg+1, F
0011AE 5019               M                 MOVFP           DEXreg+2,WREG
0011B0 5A1D               M                 SUBWFB          EEXreg+2, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 90


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0011B2 501A               M                 MOVFP           DEXreg+3,WREG
0011B4 5A1E               M                 SUBWFB          EEXreg+3, F
0011B6 6AE8               M                 CLRF            WREG
0011B8 5BAA               M                 SUBWFB          TEMP, F
0011BA EFE8 F008          M                 GOTO            NOK225
                          M 
0011BE 261B               M NADD225         ADDWF           EEXreg, F
0011C0 5018               M                 MOVFP           DEXreg+1,WREG
0011C2 221C               M                 ADDWFC          EEXreg+1, F
0011C4 5019               M                 MOVFP           DEXreg+2,WREG
0011C6 221D               M                 ADDWFC          EEXreg+2, F
0011C8 501A               M                 MOVFP           DEXreg+3,WREG
0011CA 221E               M                 ADDWFC          EEXreg+3, F
0011CC 6AE8               M                 CLRF            WREG
0011CE 23AA               M                 ADDWFC          TEMP, F
                          M         
0011D0 3616               M NOK225          RLCF            CEXreg+3, F
                          M 
  0006                    M                 variable i=i+1
                          M 
                          M 
0011D2 3416               M                 RLCF            CEXreg+3,W
0011D4 361B               M                 RLCF            EEXreg, F
0011D6 361C               M                 RLCF            EEXreg+1, F
0011D8 361D               M                 RLCF            EEXreg+2, F
0011DA 361E               M                 RLCF            EEXreg+3, F
0011DC 37AA               M                 RLCF            TEMP, F
0011DE 5017               M                 MOVFP           DEXreg,WREG
0011E0 A016               M                 BTFSS           CEXreg+3,LSB
0011E2 EFFE F008          M                 GOTO            NADD226
0011E6 5E1B               M                 SUBWF           EEXreg, F
0011E8 5018               M                 MOVFP           DEXreg+1,WREG
0011EA 5A1C               M                 SUBWFB          EEXreg+1, F
0011EC 5019               M                 MOVFP           DEXreg+2,WREG
0011EE 5A1D               M                 SUBWFB          EEXreg+2, F
0011F0 501A               M                 MOVFP           DEXreg+3,WREG
0011F2 5A1E               M                 SUBWFB          EEXreg+3, F
0011F4 6AE8               M                 CLRF            WREG
0011F6 5BAA               M                 SUBWFB          TEMP, F
0011F8 EF07 F009          M                 GOTO            NOK226
                          M 
0011FC 261B               M NADD226         ADDWF           EEXreg, F
0011FE 5018               M                 MOVFP           DEXreg+1,WREG
001200 221C               M                 ADDWFC          EEXreg+1, F
001202 5019               M                 MOVFP           DEXreg+2,WREG
001204 221D               M                 ADDWFC          EEXreg+2, F
001206 501A               M                 MOVFP           DEXreg+3,WREG
001208 221E               M                 ADDWFC          EEXreg+3, F
00120A 6AE8               M                 CLRF            WREG
00120C 23AA               M                 ADDWFC          TEMP, F
                          M         
00120E 3616               M NOK226          RLCF            CEXreg+3, F
                          M 
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 91


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0007                    M                 variable i=i+1
                          M 
                          M 
001210 3416               M                 RLCF            CEXreg+3,W
001212 361B               M                 RLCF            EEXreg, F
001214 361C               M                 RLCF            EEXreg+1, F
001216 361D               M                 RLCF            EEXreg+2, F
001218 361E               M                 RLCF            EEXreg+3, F
00121A 37AA               M                 RLCF            TEMP, F
00121C 5017               M                 MOVFP           DEXreg,WREG
00121E A016               M                 BTFSS           CEXreg+3,LSB
001220 EF1D F009          M                 GOTO            NADD227
001224 5E1B               M                 SUBWF           EEXreg, F
001226 5018               M                 MOVFP           DEXreg+1,WREG
001228 5A1C               M                 SUBWFB          EEXreg+1, F
00122A 5019               M                 MOVFP           DEXreg+2,WREG
00122C 5A1D               M                 SUBWFB          EEXreg+2, F
00122E 501A               M                 MOVFP           DEXreg+3,WREG
001230 5A1E               M                 SUBWFB          EEXreg+3, F
001232 6AE8               M                 CLRF            WREG
001234 5BAA               M                 SUBWFB          TEMP, F
001236 EF26 F009          M                 GOTO            NOK227
                          M 
00123A 261B               M NADD227         ADDWF           EEXreg, F
00123C 5018               M                 MOVFP           DEXreg+1,WREG
00123E 221C               M                 ADDWFC          EEXreg+1, F
001240 5019               M                 MOVFP           DEXreg+2,WREG
001242 221D               M                 ADDWFC          EEXreg+2, F
001244 501A               M                 MOVFP           DEXreg+3,WREG
001246 221E               M                 ADDWFC          EEXreg+3, F
001248 6AE8               M                 CLRF            WREG
00124A 23AA               M                 ADDWFC          TEMP, F
                          M         
00124C 3616               M NOK227          RLCF            CEXreg+3, F
                          M 
  0008                    M                 variable i=i+1
                          M 
                          M                 endw
                          M 
00124E 3415               M                 RLCF            CEXreg+2,W
001250 361B               M                 RLCF            EEXreg, F
001252 361C               M                 RLCF            EEXreg+1, F
001254 361D               M                 RLCF            EEXreg+2, F
001256 361E               M                 RLCF            EEXreg+3, F
001258 37AA               M                 RLCF            TEMP, F
00125A 5017               M                 MOVFP           DEXreg,WREG
00125C A016               M                 BTFSS           CEXreg+3,LSB
00125E EF3C F009          M                 GOTO            NADD228
001262 5E1B               M                 SUBWF           EEXreg, F
001264 5018               M                 MOVFP           DEXreg+1,WREG
001266 5A1C               M                 SUBWFB          EEXreg+1, F
001268 5019               M                 MOVFP           DEXreg+2,WREG
00126A 5A1D               M                 SUBWFB          EEXreg+2, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 92


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00126C 501A               M                 MOVFP           DEXreg+3,WREG
00126E 5A1E               M                 SUBWFB          EEXreg+3, F
001270 6AE8               M                 CLRF            WREG
001272 5BAA               M                 SUBWFB          TEMP, F
001274 EF45 F009          M                 GOTO            NOK228
                          M 
001278 261B               M NADD228         ADDWF           EEXreg, F
00127A 5018               M                 MOVFP           DEXreg+1,WREG
00127C 221C               M                 ADDWFC          EEXreg+1, F
00127E 5019               M                 MOVFP           DEXreg+2,WREG
001280 221D               M                 ADDWFC          EEXreg+2, F
001282 501A               M                 MOVFP           DEXreg+3,WREG
001284 221E               M                 ADDWFC          EEXreg+3, F
001286 6AE8               M                 CLRF            WREG
001288 23AA               M                 ADDWFC          TEMP, F
                          M         
00128A 3615               M NOK228          RLCF            CEXreg+2, F
                          M 
  0009                    M                 variable i = D'9'
                          M 
                          M                 while i < D'16'
                          M 
00128C 3415               M                 RLCF            CEXreg+2,W
00128E 361B               M                 RLCF            EEXreg, F
001290 361C               M                 RLCF            EEXreg+1, F
001292 361D               M                 RLCF            EEXreg+2, F
001294 361E               M                 RLCF            EEXreg+3, F
001296 37AA               M                 RLCF            TEMP, F
001298 5017               M                 MOVFP           DEXreg,WREG
00129A A015               M                 BTFSS           CEXreg+2,LSB
00129C EF5B F009          M                 GOTO            NADD229
0012A0 5E1B               M                 SUBWF           EEXreg, F
0012A2 5018               M                 MOVFP           DEXreg+1,WREG
0012A4 5A1C               M                 SUBWFB          EEXreg+1, F
0012A6 5019               M                 MOVFP           DEXreg+2,WREG
0012A8 5A1D               M                 SUBWFB          EEXreg+2, F
0012AA 501A               M                 MOVFP           DEXreg+3,WREG
0012AC 5A1E               M                 SUBWFB          EEXreg+3, F
0012AE 6AE8               M                 CLRF            WREG
0012B0 5BAA               M                 SUBWFB          TEMP, F
0012B2 EF64 F009          M                 GOTO            NOK229
                          M 
0012B6 261B               M NADD229         ADDWF           EEXreg, F
0012B8 5018               M                 MOVFP           DEXreg+1,WREG
0012BA 221C               M                 ADDWFC          EEXreg+1, F
0012BC 5019               M                 MOVFP           DEXreg+2,WREG
0012BE 221D               M                 ADDWFC          EEXreg+2, F
0012C0 501A               M                 MOVFP           DEXreg+3,WREG
0012C2 221E               M                 ADDWFC          EEXreg+3, F
0012C4 6AE8               M                 CLRF            WREG
0012C6 23AA               M                 ADDWFC          TEMP, F
                          M         
0012C8 3615               M NOK229          RLCF            CEXreg+2, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 93


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M 
  000A                    M                 variable i=i+1
                          M 
                          M 
0012CA 3415               M                 RLCF            CEXreg+2,W
0012CC 361B               M                 RLCF            EEXreg, F
0012CE 361C               M                 RLCF            EEXreg+1, F
0012D0 361D               M                 RLCF            EEXreg+2, F
0012D2 361E               M                 RLCF            EEXreg+3, F
0012D4 37AA               M                 RLCF            TEMP, F
0012D6 5017               M                 MOVFP           DEXreg,WREG
0012D8 A015               M                 BTFSS           CEXreg+2,LSB
0012DA EF7A F009          M                 GOTO            NADD2210
0012DE 5E1B               M                 SUBWF           EEXreg, F
0012E0 5018               M                 MOVFP           DEXreg+1,WREG
0012E2 5A1C               M                 SUBWFB          EEXreg+1, F
0012E4 5019               M                 MOVFP           DEXreg+2,WREG
0012E6 5A1D               M                 SUBWFB          EEXreg+2, F
0012E8 501A               M                 MOVFP           DEXreg+3,WREG
0012EA 5A1E               M                 SUBWFB          EEXreg+3, F
0012EC 6AE8               M                 CLRF            WREG
0012EE 5BAA               M                 SUBWFB          TEMP, F
0012F0 EF83 F009          M                 GOTO            NOK2210
                          M 
0012F4 261B               M NADD2210        ADDWF           EEXreg, F
0012F6 5018               M                 MOVFP           DEXreg+1,WREG
0012F8 221C               M                 ADDWFC          EEXreg+1, F
0012FA 5019               M                 MOVFP           DEXreg+2,WREG
0012FC 221D               M                 ADDWFC          EEXreg+2, F
0012FE 501A               M                 MOVFP           DEXreg+3,WREG
001300 221E               M                 ADDWFC          EEXreg+3, F
001302 6AE8               M                 CLRF            WREG
001304 23AA               M                 ADDWFC          TEMP, F
                          M         
001306 3615               M NOK2210         RLCF            CEXreg+2, F
                          M 
  000B                    M                 variable i=i+1
                          M 
                          M 
001308 3415               M                 RLCF            CEXreg+2,W
00130A 361B               M                 RLCF            EEXreg, F
00130C 361C               M                 RLCF            EEXreg+1, F
00130E 361D               M                 RLCF            EEXreg+2, F
001310 361E               M                 RLCF            EEXreg+3, F
001312 37AA               M                 RLCF            TEMP, F
001314 5017               M                 MOVFP           DEXreg,WREG
001316 A015               M                 BTFSS           CEXreg+2,LSB
001318 EF99 F009          M                 GOTO            NADD2211
00131C 5E1B               M                 SUBWF           EEXreg, F
00131E 5018               M                 MOVFP           DEXreg+1,WREG
001320 5A1C               M                 SUBWFB          EEXreg+1, F
001322 5019               M                 MOVFP           DEXreg+2,WREG
001324 5A1D               M                 SUBWFB          EEXreg+2, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 94


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001326 501A               M                 MOVFP           DEXreg+3,WREG
001328 5A1E               M                 SUBWFB          EEXreg+3, F
00132A 6AE8               M                 CLRF            WREG
00132C 5BAA               M                 SUBWFB          TEMP, F
00132E EFA2 F009          M                 GOTO            NOK2211
                          M 
001332 261B               M NADD2211        ADDWF           EEXreg, F
001334 5018               M                 MOVFP           DEXreg+1,WREG
001336 221C               M                 ADDWFC          EEXreg+1, F
001338 5019               M                 MOVFP           DEXreg+2,WREG
00133A 221D               M                 ADDWFC          EEXreg+2, F
00133C 501A               M                 MOVFP           DEXreg+3,WREG
00133E 221E               M                 ADDWFC          EEXreg+3, F
001340 6AE8               M                 CLRF            WREG
001342 23AA               M                 ADDWFC          TEMP, F
                          M         
001344 3615               M NOK2211         RLCF            CEXreg+2, F
                          M 
  000C                    M                 variable i=i+1
                          M 
                          M 
001346 3415               M                 RLCF            CEXreg+2,W
001348 361B               M                 RLCF            EEXreg, F
00134A 361C               M                 RLCF            EEXreg+1, F
00134C 361D               M                 RLCF            EEXreg+2, F
00134E 361E               M                 RLCF            EEXreg+3, F
001350 37AA               M                 RLCF            TEMP, F
001352 5017               M                 MOVFP           DEXreg,WREG
001354 A015               M                 BTFSS           CEXreg+2,LSB
001356 EFB8 F009          M                 GOTO            NADD2212
00135A 5E1B               M                 SUBWF           EEXreg, F
00135C 5018               M                 MOVFP           DEXreg+1,WREG
00135E 5A1C               M                 SUBWFB          EEXreg+1, F
001360 5019               M                 MOVFP           DEXreg+2,WREG
001362 5A1D               M                 SUBWFB          EEXreg+2, F
001364 501A               M                 MOVFP           DEXreg+3,WREG
001366 5A1E               M                 SUBWFB          EEXreg+3, F
001368 6AE8               M                 CLRF            WREG
00136A 5BAA               M                 SUBWFB          TEMP, F
00136C EFC1 F009          M                 GOTO            NOK2212
                          M 
001370 261B               M NADD2212        ADDWF           EEXreg, F
001372 5018               M                 MOVFP           DEXreg+1,WREG
001374 221C               M                 ADDWFC          EEXreg+1, F
001376 5019               M                 MOVFP           DEXreg+2,WREG
001378 221D               M                 ADDWFC          EEXreg+2, F
00137A 501A               M                 MOVFP           DEXreg+3,WREG
00137C 221E               M                 ADDWFC          EEXreg+3, F
00137E 6AE8               M                 CLRF            WREG
001380 23AA               M                 ADDWFC          TEMP, F
                          M         
001382 3615               M NOK2212         RLCF            CEXreg+2, F
                          M 
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 95


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  000D                    M                 variable i=i+1
                          M 
                          M 
001384 3415               M                 RLCF            CEXreg+2,W
001386 361B               M                 RLCF            EEXreg, F
001388 361C               M                 RLCF            EEXreg+1, F
00138A 361D               M                 RLCF            EEXreg+2, F
00138C 361E               M                 RLCF            EEXreg+3, F
00138E 37AA               M                 RLCF            TEMP, F
001390 5017               M                 MOVFP           DEXreg,WREG
001392 A015               M                 BTFSS           CEXreg+2,LSB
001394 EFD7 F009          M                 GOTO            NADD2213
001398 5E1B               M                 SUBWF           EEXreg, F
00139A 5018               M                 MOVFP           DEXreg+1,WREG
00139C 5A1C               M                 SUBWFB          EEXreg+1, F
00139E 5019               M                 MOVFP           DEXreg+2,WREG
0013A0 5A1D               M                 SUBWFB          EEXreg+2, F
0013A2 501A               M                 MOVFP           DEXreg+3,WREG
0013A4 5A1E               M                 SUBWFB          EEXreg+3, F
0013A6 6AE8               M                 CLRF            WREG
0013A8 5BAA               M                 SUBWFB          TEMP, F
0013AA EFE0 F009          M                 GOTO            NOK2213
                          M 
0013AE 261B               M NADD2213        ADDWF           EEXreg, F
0013B0 5018               M                 MOVFP           DEXreg+1,WREG
0013B2 221C               M                 ADDWFC          EEXreg+1, F
0013B4 5019               M                 MOVFP           DEXreg+2,WREG
0013B6 221D               M                 ADDWFC          EEXreg+2, F
0013B8 501A               M                 MOVFP           DEXreg+3,WREG
0013BA 221E               M                 ADDWFC          EEXreg+3, F
0013BC 6AE8               M                 CLRF            WREG
0013BE 23AA               M                 ADDWFC          TEMP, F
                          M         
0013C0 3615               M NOK2213         RLCF            CEXreg+2, F
                          M 
  000E                    M                 variable i=i+1
                          M 
                          M 
0013C2 3415               M                 RLCF            CEXreg+2,W
0013C4 361B               M                 RLCF            EEXreg, F
0013C6 361C               M                 RLCF            EEXreg+1, F
0013C8 361D               M                 RLCF            EEXreg+2, F
0013CA 361E               M                 RLCF            EEXreg+3, F
0013CC 37AA               M                 RLCF            TEMP, F
0013CE 5017               M                 MOVFP           DEXreg,WREG
0013D0 A015               M                 BTFSS           CEXreg+2,LSB
0013D2 EFF6 F009          M                 GOTO            NADD2214
0013D6 5E1B               M                 SUBWF           EEXreg, F
0013D8 5018               M                 MOVFP           DEXreg+1,WREG
0013DA 5A1C               M                 SUBWFB          EEXreg+1, F
0013DC 5019               M                 MOVFP           DEXreg+2,WREG
0013DE 5A1D               M                 SUBWFB          EEXreg+2, F
0013E0 501A               M                 MOVFP           DEXreg+3,WREG
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 96


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0013E2 5A1E               M                 SUBWFB          EEXreg+3, F
0013E4 6AE8               M                 CLRF            WREG
0013E6 5BAA               M                 SUBWFB          TEMP, F
0013E8 EFFF F009          M                 GOTO            NOK2214
                          M 
0013EC 261B               M NADD2214        ADDWF           EEXreg, F
0013EE 5018               M                 MOVFP           DEXreg+1,WREG
0013F0 221C               M                 ADDWFC          EEXreg+1, F
0013F2 5019               M                 MOVFP           DEXreg+2,WREG
0013F4 221D               M                 ADDWFC          EEXreg+2, F
0013F6 501A               M                 MOVFP           DEXreg+3,WREG
0013F8 221E               M                 ADDWFC          EEXreg+3, F
0013FA 6AE8               M                 CLRF            WREG
0013FC 23AA               M                 ADDWFC          TEMP, F
                          M         
0013FE 3615               M NOK2214         RLCF            CEXreg+2, F
                          M 
  000F                    M                 variable i=i+1
                          M 
                          M 
001400 3415               M                 RLCF            CEXreg+2,W
001402 361B               M                 RLCF            EEXreg, F
001404 361C               M                 RLCF            EEXreg+1, F
001406 361D               M                 RLCF            EEXreg+2, F
001408 361E               M                 RLCF            EEXreg+3, F
00140A 37AA               M                 RLCF            TEMP, F
00140C 5017               M                 MOVFP           DEXreg,WREG
00140E A015               M                 BTFSS           CEXreg+2,LSB
001410 EF15 F00A          M                 GOTO            NADD2215
001414 5E1B               M                 SUBWF           EEXreg, F
001416 5018               M                 MOVFP           DEXreg+1,WREG
001418 5A1C               M                 SUBWFB          EEXreg+1, F
00141A 5019               M                 MOVFP           DEXreg+2,WREG
00141C 5A1D               M                 SUBWFB          EEXreg+2, F
00141E 501A               M                 MOVFP           DEXreg+3,WREG
001420 5A1E               M                 SUBWFB          EEXreg+3, F
001422 6AE8               M                 CLRF            WREG
001424 5BAA               M                 SUBWFB          TEMP, F
001426 EF1E F00A          M                 GOTO            NOK2215
                          M 
00142A 261B               M NADD2215        ADDWF           EEXreg, F
00142C 5018               M                 MOVFP           DEXreg+1,WREG
00142E 221C               M                 ADDWFC          EEXreg+1, F
001430 5019               M                 MOVFP           DEXreg+2,WREG
001432 221D               M                 ADDWFC          EEXreg+2, F
001434 501A               M                 MOVFP           DEXreg+3,WREG
001436 221E               M                 ADDWFC          EEXreg+3, F
001438 6AE8               M                 CLRF            WREG
00143A 23AA               M                 ADDWFC          TEMP, F
                          M         
00143C 3615               M NOK2215         RLCF            CEXreg+2, F
                          M 
  0010                    M                 variable i=i+1
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 97


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M 
                          M                 endw
                          M 
00143E 3414               M                 RLCF            CEXreg+1,W
001440 361B               M                 RLCF            EEXreg, F
001442 361C               M                 RLCF            EEXreg+1, F
001444 361D               M                 RLCF            EEXreg+2, F
001446 361E               M                 RLCF            EEXreg+3, F
001448 37AA               M                 RLCF            TEMP, F
00144A 5017               M                 MOVFP           DEXreg,WREG
00144C A015               M                 BTFSS           CEXreg+2,LSB
00144E EF34 F00A          M                 GOTO            NADD2216
001452 5E1B               M                 SUBWF           EEXreg, F
001454 5018               M                 MOVFP           DEXreg+1,WREG
001456 5A1C               M                 SUBWFB          EEXreg+1, F
001458 5019               M                 MOVFP           DEXreg+2,WREG
00145A 5A1D               M                 SUBWFB          EEXreg+2, F
00145C 501A               M                 MOVFP           DEXreg+3,WREG
00145E 5A1E               M                 SUBWFB          EEXreg+3, F
001460 6AE8               M                 CLRF            WREG
001462 5BAA               M                 SUBWFB          TEMP, F
001464 EF3D F00A          M                 GOTO            NOK2216
                          M 
001468 261B               M NADD2216        ADDWF           EEXreg, F
00146A 5018               M                 MOVFP           DEXreg+1,WREG
00146C 221C               M                 ADDWFC          EEXreg+1, F
00146E 5019               M                 MOVFP           DEXreg+2,WREG
001470 221D               M                 ADDWFC          EEXreg+2, F
001472 501A               M                 MOVFP           DEXreg+3,WREG
001474 221E               M                 ADDWFC          EEXreg+3, F
001476 6AE8               M                 CLRF            WREG
001478 23AA               M                 ADDWFC          TEMP, F
                          M         
00147A 3614               M NOK2216         RLCF            CEXreg+1, F
                          M 
  0011                    M                 variable i = D'17'
                          M 
                          M                 while i < D'24'
                          M 
00147C 3414               M                 RLCF            CEXreg+1,W
00147E 361B               M                 RLCF            EEXreg, F
001480 361C               M                 RLCF            EEXreg+1, F
001482 361D               M                 RLCF            EEXreg+2, F
001484 361E               M                 RLCF            EEXreg+3, F
001486 37AA               M                 RLCF            TEMP, F
001488 5017               M                 MOVFP           DEXreg,WREG
00148A A014               M                 BTFSS           CEXreg+1,LSB
00148C EF53 F00A          M                 GOTO            NADD2217
001490 5E1B               M                 SUBWF           EEXreg, F
001492 5018               M                 MOVFP           DEXreg+1,WREG
001494 5A1C               M                 SUBWFB          EEXreg+1, F
001496 5019               M                 MOVFP           DEXreg+2,WREG
001498 5A1D               M                 SUBWFB          EEXreg+2, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 98


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00149A 501A               M                 MOVFP           DEXreg+3,WREG
00149C 5A1E               M                 SUBWFB          EEXreg+3, F
00149E 6AE8               M                 CLRF            WREG
0014A0 5BAA               M                 SUBWFB          TEMP, F
0014A2 EF5C F00A          M                 GOTO            NOK2217
                          M 
0014A6 261B               M NADD2217        ADDWF           EEXreg, F
0014A8 5018               M                 MOVFP           DEXreg+1,WREG
0014AA 221C               M                 ADDWFC          EEXreg+1, F
0014AC 5019               M                 MOVFP           DEXreg+2,WREG
0014AE 221D               M                 ADDWFC          EEXreg+2, F
0014B0 501A               M                 MOVFP           DEXreg+3,WREG
0014B2 221E               M                 ADDWFC          EEXreg+3, F
0014B4 6AE8               M                 CLRF            WREG
0014B6 23AA               M                 ADDWFC          TEMP, F
                          M         
0014B8 3614               M NOK2217         RLCF            CEXreg+1, F
                          M 
  0012                    M                 variable i=i+1
                          M 
                          M 
0014BA 3414               M                 RLCF            CEXreg+1,W
0014BC 361B               M                 RLCF            EEXreg, F
0014BE 361C               M                 RLCF            EEXreg+1, F
0014C0 361D               M                 RLCF            EEXreg+2, F
0014C2 361E               M                 RLCF            EEXreg+3, F
0014C4 37AA               M                 RLCF            TEMP, F
0014C6 5017               M                 MOVFP           DEXreg,WREG
0014C8 A014               M                 BTFSS           CEXreg+1,LSB
0014CA EF72 F00A          M                 GOTO            NADD2218
0014CE 5E1B               M                 SUBWF           EEXreg, F
0014D0 5018               M                 MOVFP           DEXreg+1,WREG
0014D2 5A1C               M                 SUBWFB          EEXreg+1, F
0014D4 5019               M                 MOVFP           DEXreg+2,WREG
0014D6 5A1D               M                 SUBWFB          EEXreg+2, F
0014D8 501A               M                 MOVFP           DEXreg+3,WREG
0014DA 5A1E               M                 SUBWFB          EEXreg+3, F
0014DC 6AE8               M                 CLRF            WREG
0014DE 5BAA               M                 SUBWFB          TEMP, F
0014E0 EF7B F00A          M                 GOTO            NOK2218
                          M 
0014E4 261B               M NADD2218        ADDWF           EEXreg, F
0014E6 5018               M                 MOVFP           DEXreg+1,WREG
0014E8 221C               M                 ADDWFC          EEXreg+1, F
0014EA 5019               M                 MOVFP           DEXreg+2,WREG
0014EC 221D               M                 ADDWFC          EEXreg+2, F
0014EE 501A               M                 MOVFP           DEXreg+3,WREG
0014F0 221E               M                 ADDWFC          EEXreg+3, F
0014F2 6AE8               M                 CLRF            WREG
0014F4 23AA               M                 ADDWFC          TEMP, F
                          M         
0014F6 3614               M NOK2218         RLCF            CEXreg+1, F
                          M 
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 99


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0013                    M                 variable i=i+1
                          M 
                          M 
0014F8 3414               M                 RLCF            CEXreg+1,W
0014FA 361B               M                 RLCF            EEXreg, F
0014FC 361C               M                 RLCF            EEXreg+1, F
0014FE 361D               M                 RLCF            EEXreg+2, F
001500 361E               M                 RLCF            EEXreg+3, F
001502 37AA               M                 RLCF            TEMP, F
001504 5017               M                 MOVFP           DEXreg,WREG
001506 A014               M                 BTFSS           CEXreg+1,LSB
001508 EF91 F00A          M                 GOTO            NADD2219
00150C 5E1B               M                 SUBWF           EEXreg, F
00150E 5018               M                 MOVFP           DEXreg+1,WREG
001510 5A1C               M                 SUBWFB          EEXreg+1, F
001512 5019               M                 MOVFP           DEXreg+2,WREG
001514 5A1D               M                 SUBWFB          EEXreg+2, F
001516 501A               M                 MOVFP           DEXreg+3,WREG
001518 5A1E               M                 SUBWFB          EEXreg+3, F
00151A 6AE8               M                 CLRF            WREG
00151C 5BAA               M                 SUBWFB          TEMP, F
00151E EF9A F00A          M                 GOTO            NOK2219
                          M 
001522 261B               M NADD2219        ADDWF           EEXreg, F
001524 5018               M                 MOVFP           DEXreg+1,WREG
001526 221C               M                 ADDWFC          EEXreg+1, F
001528 5019               M                 MOVFP           DEXreg+2,WREG
00152A 221D               M                 ADDWFC          EEXreg+2, F
00152C 501A               M                 MOVFP           DEXreg+3,WREG
00152E 221E               M                 ADDWFC          EEXreg+3, F
001530 6AE8               M                 CLRF            WREG
001532 23AA               M                 ADDWFC          TEMP, F
                          M         
001534 3614               M NOK2219         RLCF            CEXreg+1, F
                          M 
  0014                    M                 variable i=i+1
                          M 
                          M 
001536 3414               M                 RLCF            CEXreg+1,W
001538 361B               M                 RLCF            EEXreg, F
00153A 361C               M                 RLCF            EEXreg+1, F
00153C 361D               M                 RLCF            EEXreg+2, F
00153E 361E               M                 RLCF            EEXreg+3, F
001540 37AA               M                 RLCF            TEMP, F
001542 5017               M                 MOVFP           DEXreg,WREG
001544 A014               M                 BTFSS           CEXreg+1,LSB
001546 EFB0 F00A          M                 GOTO            NADD2220
00154A 5E1B               M                 SUBWF           EEXreg, F
00154C 5018               M                 MOVFP           DEXreg+1,WREG
00154E 5A1C               M                 SUBWFB          EEXreg+1, F
001550 5019               M                 MOVFP           DEXreg+2,WREG
001552 5A1D               M                 SUBWFB          EEXreg+2, F
001554 501A               M                 MOVFP           DEXreg+3,WREG
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 100


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001556 5A1E               M                 SUBWFB          EEXreg+3, F
001558 6AE8               M                 CLRF            WREG
00155A 5BAA               M                 SUBWFB          TEMP, F
00155C EFB9 F00A          M                 GOTO            NOK2220
                          M 
001560 261B               M NADD2220        ADDWF           EEXreg, F
001562 5018               M                 MOVFP           DEXreg+1,WREG
001564 221C               M                 ADDWFC          EEXreg+1, F
001566 5019               M                 MOVFP           DEXreg+2,WREG
001568 221D               M                 ADDWFC          EEXreg+2, F
00156A 501A               M                 MOVFP           DEXreg+3,WREG
00156C 221E               M                 ADDWFC          EEXreg+3, F
00156E 6AE8               M                 CLRF            WREG
001570 23AA               M                 ADDWFC          TEMP, F
                          M         
001572 3614               M NOK2220         RLCF            CEXreg+1, F
                          M 
  0015                    M                 variable i=i+1
                          M 
                          M 
001574 3414               M                 RLCF            CEXreg+1,W
001576 361B               M                 RLCF            EEXreg, F
001578 361C               M                 RLCF            EEXreg+1, F
00157A 361D               M                 RLCF            EEXreg+2, F
00157C 361E               M                 RLCF            EEXreg+3, F
00157E 37AA               M                 RLCF            TEMP, F
001580 5017               M                 MOVFP           DEXreg,WREG
001582 A014               M                 BTFSS           CEXreg+1,LSB
001584 EFCF F00A          M                 GOTO            NADD2221
001588 5E1B               M                 SUBWF           EEXreg, F
00158A 5018               M                 MOVFP           DEXreg+1,WREG
00158C 5A1C               M                 SUBWFB          EEXreg+1, F
00158E 5019               M                 MOVFP           DEXreg+2,WREG
001590 5A1D               M                 SUBWFB          EEXreg+2, F
001592 501A               M                 MOVFP           DEXreg+3,WREG
001594 5A1E               M                 SUBWFB          EEXreg+3, F
001596 6AE8               M                 CLRF            WREG
001598 5BAA               M                 SUBWFB          TEMP, F
00159A EFD8 F00A          M                 GOTO            NOK2221
                          M 
00159E 261B               M NADD2221        ADDWF           EEXreg, F
0015A0 5018               M                 MOVFP           DEXreg+1,WREG
0015A2 221C               M                 ADDWFC          EEXreg+1, F
0015A4 5019               M                 MOVFP           DEXreg+2,WREG
0015A6 221D               M                 ADDWFC          EEXreg+2, F
0015A8 501A               M                 MOVFP           DEXreg+3,WREG
0015AA 221E               M                 ADDWFC          EEXreg+3, F
0015AC 6AE8               M                 CLRF            WREG
0015AE 23AA               M                 ADDWFC          TEMP, F
                          M         
0015B0 3614               M NOK2221         RLCF            CEXreg+1, F
                          M 
  0016                    M                 variable i=i+1
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 101


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M 
                          M 
0015B2 3414               M                 RLCF            CEXreg+1,W
0015B4 361B               M                 RLCF            EEXreg, F
0015B6 361C               M                 RLCF            EEXreg+1, F
0015B8 361D               M                 RLCF            EEXreg+2, F
0015BA 361E               M                 RLCF            EEXreg+3, F
0015BC 37AA               M                 RLCF            TEMP, F
0015BE 5017               M                 MOVFP           DEXreg,WREG
0015C0 A014               M                 BTFSS           CEXreg+1,LSB
0015C2 EFEE F00A          M                 GOTO            NADD2222
0015C6 5E1B               M                 SUBWF           EEXreg, F
0015C8 5018               M                 MOVFP           DEXreg+1,WREG
0015CA 5A1C               M                 SUBWFB          EEXreg+1, F
0015CC 5019               M                 MOVFP           DEXreg+2,WREG
0015CE 5A1D               M                 SUBWFB          EEXreg+2, F
0015D0 501A               M                 MOVFP           DEXreg+3,WREG
0015D2 5A1E               M                 SUBWFB          EEXreg+3, F
0015D4 6AE8               M                 CLRF            WREG
0015D6 5BAA               M                 SUBWFB          TEMP, F
0015D8 EFF7 F00A          M                 GOTO            NOK2222
                          M 
0015DC 261B               M NADD2222        ADDWF           EEXreg, F
0015DE 5018               M                 MOVFP           DEXreg+1,WREG
0015E0 221C               M                 ADDWFC          EEXreg+1, F
0015E2 5019               M                 MOVFP           DEXreg+2,WREG
0015E4 221D               M                 ADDWFC          EEXreg+2, F
0015E6 501A               M                 MOVFP           DEXreg+3,WREG
0015E8 221E               M                 ADDWFC          EEXreg+3, F
0015EA 6AE8               M                 CLRF            WREG
0015EC 23AA               M                 ADDWFC          TEMP, F
                          M         
0015EE 3614               M NOK2222         RLCF            CEXreg+1, F
                          M 
  0017                    M                 variable i=i+1
                          M 
                          M 
0015F0 3414               M                 RLCF            CEXreg+1,W
0015F2 361B               M                 RLCF            EEXreg, F
0015F4 361C               M                 RLCF            EEXreg+1, F
0015F6 361D               M                 RLCF            EEXreg+2, F
0015F8 361E               M                 RLCF            EEXreg+3, F
0015FA 37AA               M                 RLCF            TEMP, F
0015FC 5017               M                 MOVFP           DEXreg,WREG
0015FE A014               M                 BTFSS           CEXreg+1,LSB
001600 EF0D F00B          M                 GOTO            NADD2223
001604 5E1B               M                 SUBWF           EEXreg, F
001606 5018               M                 MOVFP           DEXreg+1,WREG
001608 5A1C               M                 SUBWFB          EEXreg+1, F
00160A 5019               M                 MOVFP           DEXreg+2,WREG
00160C 5A1D               M                 SUBWFB          EEXreg+2, F
00160E 501A               M                 MOVFP           DEXreg+3,WREG
001610 5A1E               M                 SUBWFB          EEXreg+3, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 102


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001612 6AE8               M                 CLRF            WREG
001614 5BAA               M                 SUBWFB          TEMP, F
001616 EF16 F00B          M                 GOTO            NOK2223
                          M 
00161A 261B               M NADD2223        ADDWF           EEXreg, F
00161C 5018               M                 MOVFP           DEXreg+1,WREG
00161E 221C               M                 ADDWFC          EEXreg+1, F
001620 5019               M                 MOVFP           DEXreg+2,WREG
001622 221D               M                 ADDWFC          EEXreg+2, F
001624 501A               M                 MOVFP           DEXreg+3,WREG
001626 221E               M                 ADDWFC          EEXreg+3, F
001628 6AE8               M                 CLRF            WREG
00162A 23AA               M                 ADDWFC          TEMP, F
                          M         
00162C 3614               M NOK2223         RLCF            CEXreg+1, F
                          M 
  0018                    M                 variable i=i+1
                          M 
                          M                 endw
                          M 
00162E 3413               M                 RLCF            CEXreg,W
001630 361B               M                 RLCF            EEXreg, F
001632 361C               M                 RLCF            EEXreg+1, F
001634 361D               M                 RLCF            EEXreg+2, F
001636 361E               M                 RLCF            EEXreg+3, F
001638 37AA               M                 RLCF            TEMP, F
00163A 5017               M                 MOVFP           DEXreg,WREG
00163C A014               M                 BTFSS           CEXreg+1,LSB
00163E EF2C F00B          M                 GOTO            NADD2224
001642 5E1B               M                 SUBWF           EEXreg, F
001644 5018               M                 MOVFP           DEXreg+1,WREG
001646 5A1C               M                 SUBWFB          EEXreg+1, F
001648 5019               M                 MOVFP           DEXreg+2,WREG
00164A 5A1D               M                 SUBWFB          EEXreg+2, F
00164C 501A               M                 MOVFP           DEXreg+3,WREG
00164E 5A1E               M                 SUBWFB          EEXreg+3, F
001650 6AE8               M                 CLRF            WREG
001652 5BAA               M                 SUBWFB          TEMP, F
001654 EF35 F00B          M                 GOTO            NOK2224
                          M 
001658 261B               M NADD2224        ADDWF           EEXreg, F
00165A 5018               M                 MOVFP           DEXreg+1,WREG
00165C 221C               M                 ADDWFC          EEXreg+1, F
00165E 5019               M                 MOVFP           DEXreg+2,WREG
001660 221D               M                 ADDWFC          EEXreg+2, F
001662 501A               M                 MOVFP           DEXreg+3,WREG
001664 221E               M                 ADDWFC          EEXreg+3, F
001666 6AE8               M                 CLRF            WREG
001668 23AA               M                 ADDWFC          TEMP, F
                          M         
00166A 3613               M NOK2224         RLCF            CEXreg, F
                          M 
  0019                    M                 variable i = D'25'
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 103


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M 
                          M                 while i < D'32'
                          M 
00166C 3413               M                 RLCF            CEXreg,W
00166E 361B               M                 RLCF            EEXreg, F
001670 361C               M                 RLCF            EEXreg+1, F
001672 361D               M                 RLCF            EEXreg+2, F
001674 361E               M                 RLCF            EEXreg+3, F
001676 37AA               M                 RLCF            TEMP, F
001678 5017               M                 MOVFP           DEXreg,WREG
00167A A013               M                 BTFSS           CEXreg,LSB
00167C EF4B F00B          M                 GOTO            NADD2225
001680 5E1B               M                 SUBWF           EEXreg, F
001682 5018               M                 MOVFP           DEXreg+1,WREG
001684 5A1C               M                 SUBWFB          EEXreg+1, F
001686 5019               M                 MOVFP           DEXreg+2,WREG
001688 5A1D               M                 SUBWFB          EEXreg+2, F
00168A 501A               M                 MOVFP           DEXreg+3,WREG
00168C 5A1E               M                 SUBWFB          EEXreg+3, F
00168E 6AE8               M                 CLRF            WREG
001690 5BAA               M                 SUBWFB          TEMP, F
001692 EF54 F00B          M                 GOTO            NOK2225
                          M 
001696 261B               M NADD2225        ADDWF           EEXreg, F
001698 5018               M                 MOVFP           DEXreg+1,WREG
00169A 221C               M                 ADDWFC          EEXreg+1, F
00169C 5019               M                 MOVFP           DEXreg+2,WREG
00169E 221D               M                 ADDWFC          EEXreg+2, F
0016A0 501A               M                 MOVFP           DEXreg+3,WREG
0016A2 221E               M                 ADDWFC          EEXreg+3, F
0016A4 6AE8               M                 CLRF            WREG
0016A6 23AA               M                 ADDWFC          TEMP, F
                          M         
0016A8 3613               M NOK2225         RLCF            CEXreg, F
                          M 
  001A                    M                 variable i=i+1
                          M 
                          M 
0016AA 3413               M                 RLCF            CEXreg,W
0016AC 361B               M                 RLCF            EEXreg, F
0016AE 361C               M                 RLCF            EEXreg+1, F
0016B0 361D               M                 RLCF            EEXreg+2, F
0016B2 361E               M                 RLCF            EEXreg+3, F
0016B4 37AA               M                 RLCF            TEMP, F
0016B6 5017               M                 MOVFP           DEXreg,WREG
0016B8 A013               M                 BTFSS           CEXreg,LSB
0016BA EF6A F00B          M                 GOTO            NADD2226
0016BE 5E1B               M                 SUBWF           EEXreg, F
0016C0 5018               M                 MOVFP           DEXreg+1,WREG
0016C2 5A1C               M                 SUBWFB          EEXreg+1, F
0016C4 5019               M                 MOVFP           DEXreg+2,WREG
0016C6 5A1D               M                 SUBWFB          EEXreg+2, F
0016C8 501A               M                 MOVFP           DEXreg+3,WREG
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 104


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0016CA 5A1E               M                 SUBWFB          EEXreg+3, F
0016CC 6AE8               M                 CLRF            WREG
0016CE 5BAA               M                 SUBWFB          TEMP, F
0016D0 EF73 F00B          M                 GOTO            NOK2226
                          M 
0016D4 261B               M NADD2226        ADDWF           EEXreg, F
0016D6 5018               M                 MOVFP           DEXreg+1,WREG
0016D8 221C               M                 ADDWFC          EEXreg+1, F
0016DA 5019               M                 MOVFP           DEXreg+2,WREG
0016DC 221D               M                 ADDWFC          EEXreg+2, F
0016DE 501A               M                 MOVFP           DEXreg+3,WREG
0016E0 221E               M                 ADDWFC          EEXreg+3, F
0016E2 6AE8               M                 CLRF            WREG
0016E4 23AA               M                 ADDWFC          TEMP, F
                          M         
0016E6 3613               M NOK2226         RLCF            CEXreg, F
                          M 
  001B                    M                 variable i=i+1
                          M 
                          M 
0016E8 3413               M                 RLCF            CEXreg,W
0016EA 361B               M                 RLCF            EEXreg, F
0016EC 361C               M                 RLCF            EEXreg+1, F
0016EE 361D               M                 RLCF            EEXreg+2, F
0016F0 361E               M                 RLCF            EEXreg+3, F
0016F2 37AA               M                 RLCF            TEMP, F
0016F4 5017               M                 MOVFP           DEXreg,WREG
0016F6 A013               M                 BTFSS           CEXreg,LSB
0016F8 EF89 F00B          M                 GOTO            NADD2227
0016FC 5E1B               M                 SUBWF           EEXreg, F
0016FE 5018               M                 MOVFP           DEXreg+1,WREG
001700 5A1C               M                 SUBWFB          EEXreg+1, F
001702 5019               M                 MOVFP           DEXreg+2,WREG
001704 5A1D               M                 SUBWFB          EEXreg+2, F
001706 501A               M                 MOVFP           DEXreg+3,WREG
001708 5A1E               M                 SUBWFB          EEXreg+3, F
00170A 6AE8               M                 CLRF            WREG
00170C 5BAA               M                 SUBWFB          TEMP, F
00170E EF92 F00B          M                 GOTO            NOK2227
                          M 
001712 261B               M NADD2227        ADDWF           EEXreg, F
001714 5018               M                 MOVFP           DEXreg+1,WREG
001716 221C               M                 ADDWFC          EEXreg+1, F
001718 5019               M                 MOVFP           DEXreg+2,WREG
00171A 221D               M                 ADDWFC          EEXreg+2, F
00171C 501A               M                 MOVFP           DEXreg+3,WREG
00171E 221E               M                 ADDWFC          EEXreg+3, F
001720 6AE8               M                 CLRF            WREG
001722 23AA               M                 ADDWFC          TEMP, F
                          M         
001724 3613               M NOK2227         RLCF            CEXreg, F
                          M 
  001C                    M                 variable i=i+1
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 105


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M 
                          M 
001726 3413               M                 RLCF            CEXreg,W
001728 361B               M                 RLCF            EEXreg, F
00172A 361C               M                 RLCF            EEXreg+1, F
00172C 361D               M                 RLCF            EEXreg+2, F
00172E 361E               M                 RLCF            EEXreg+3, F
001730 37AA               M                 RLCF            TEMP, F
001732 5017               M                 MOVFP           DEXreg,WREG
001734 A013               M                 BTFSS           CEXreg,LSB
001736 EFA8 F00B          M                 GOTO            NADD2228
00173A 5E1B               M                 SUBWF           EEXreg, F
00173C 5018               M                 MOVFP           DEXreg+1,WREG
00173E 5A1C               M                 SUBWFB          EEXreg+1, F
001740 5019               M                 MOVFP           DEXreg+2,WREG
001742 5A1D               M                 SUBWFB          EEXreg+2, F
001744 501A               M                 MOVFP           DEXreg+3,WREG
001746 5A1E               M                 SUBWFB          EEXreg+3, F
001748 6AE8               M                 CLRF            WREG
00174A 5BAA               M                 SUBWFB          TEMP, F
00174C EFB1 F00B          M                 GOTO            NOK2228
                          M 
001750 261B               M NADD2228        ADDWF           EEXreg, F
001752 5018               M                 MOVFP           DEXreg+1,WREG
001754 221C               M                 ADDWFC          EEXreg+1, F
001756 5019               M                 MOVFP           DEXreg+2,WREG
001758 221D               M                 ADDWFC          EEXreg+2, F
00175A 501A               M                 MOVFP           DEXreg+3,WREG
00175C 221E               M                 ADDWFC          EEXreg+3, F
00175E 6AE8               M                 CLRF            WREG
001760 23AA               M                 ADDWFC          TEMP, F
                          M         
001762 3613               M NOK2228         RLCF            CEXreg, F
                          M 
  001D                    M                 variable i=i+1
                          M 
                          M 
001764 3413               M                 RLCF            CEXreg,W
001766 361B               M                 RLCF            EEXreg, F
001768 361C               M                 RLCF            EEXreg+1, F
00176A 361D               M                 RLCF            EEXreg+2, F
00176C 361E               M                 RLCF            EEXreg+3, F
00176E 37AA               M                 RLCF            TEMP, F
001770 5017               M                 MOVFP           DEXreg,WREG
001772 A013               M                 BTFSS           CEXreg,LSB
001774 EFC7 F00B          M                 GOTO            NADD2229
001778 5E1B               M                 SUBWF           EEXreg, F
00177A 5018               M                 MOVFP           DEXreg+1,WREG
00177C 5A1C               M                 SUBWFB          EEXreg+1, F
00177E 5019               M                 MOVFP           DEXreg+2,WREG
001780 5A1D               M                 SUBWFB          EEXreg+2, F
001782 501A               M                 MOVFP           DEXreg+3,WREG
001784 5A1E               M                 SUBWFB          EEXreg+3, F
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 106


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001786 6AE8               M                 CLRF            WREG
001788 5BAA               M                 SUBWFB          TEMP, F
00178A EFD0 F00B          M                 GOTO            NOK2229
                          M 
00178E 261B               M NADD2229        ADDWF           EEXreg, F
001790 5018               M                 MOVFP           DEXreg+1,WREG
001792 221C               M                 ADDWFC          EEXreg+1, F
001794 5019               M                 MOVFP           DEXreg+2,WREG
001796 221D               M                 ADDWFC          EEXreg+2, F
001798 501A               M                 MOVFP           DEXreg+3,WREG
00179A 221E               M                 ADDWFC          EEXreg+3, F
00179C 6AE8               M                 CLRF            WREG
00179E 23AA               M                 ADDWFC          TEMP, F
                          M         
0017A0 3613               M NOK2229         RLCF            CEXreg, F
                          M 
  001E                    M                 variable i=i+1
                          M 
                          M 
0017A2 3413               M                 RLCF            CEXreg,W
0017A4 361B               M                 RLCF            EEXreg, F
0017A6 361C               M                 RLCF            EEXreg+1, F
0017A8 361D               M                 RLCF            EEXreg+2, F
0017AA 361E               M                 RLCF            EEXreg+3, F
0017AC 37AA               M                 RLCF            TEMP, F
0017AE 5017               M                 MOVFP           DEXreg,WREG
0017B0 A013               M                 BTFSS           CEXreg,LSB
0017B2 EFE6 F00B          M                 GOTO            NADD2230
0017B6 5E1B               M                 SUBWF           EEXreg, F
0017B8 5018               M                 MOVFP           DEXreg+1,WREG
0017BA 5A1C               M                 SUBWFB          EEXreg+1, F
0017BC 5019               M                 MOVFP           DEXreg+2,WREG
0017BE 5A1D               M                 SUBWFB          EEXreg+2, F
0017C0 501A               M                 MOVFP           DEXreg+3,WREG
0017C2 5A1E               M                 SUBWFB          EEXreg+3, F
0017C4 6AE8               M                 CLRF            WREG
0017C6 5BAA               M                 SUBWFB          TEMP, F
0017C8 EFEF F00B          M                 GOTO            NOK2230
                          M 
0017CC 261B               M NADD2230        ADDWF           EEXreg, F
0017CE 5018               M                 MOVFP           DEXreg+1,WREG
0017D0 221C               M                 ADDWFC          EEXreg+1, F
0017D2 5019               M                 MOVFP           DEXreg+2,WREG
0017D4 221D               M                 ADDWFC          EEXreg+2, F
0017D6 501A               M                 MOVFP           DEXreg+3,WREG
0017D8 221E               M                 ADDWFC          EEXreg+3, F
0017DA 6AE8               M                 CLRF            WREG
0017DC 23AA               M                 ADDWFC          TEMP, F
                          M         
0017DE 3613               M NOK2230         RLCF            CEXreg, F
                          M 
  001F                    M                 variable i=i+1
                          M 
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 107


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                          M 
0017E0 3413               M                 RLCF            CEXreg,W
0017E2 361B               M                 RLCF            EEXreg, F
0017E4 361C               M                 RLCF            EEXreg+1, F
0017E6 361D               M                 RLCF            EEXreg+2, F
0017E8 361E               M                 RLCF            EEXreg+3, F
0017EA 37AA               M                 RLCF            TEMP, F
0017EC 5017               M                 MOVFP           DEXreg,WREG
0017EE A013               M                 BTFSS           CEXreg,LSB
0017F0 EF05 F00C          M                 GOTO            NADD2231
0017F4 5E1B               M                 SUBWF           EEXreg, F
0017F6 5018               M                 MOVFP           DEXreg+1,WREG
0017F8 5A1C               M                 SUBWFB          EEXreg+1, F
0017FA 5019               M                 MOVFP           DEXreg+2,WREG
0017FC 5A1D               M                 SUBWFB          EEXreg+2, F
0017FE 501A               M                 MOVFP           DEXreg+3,WREG
001800 5A1E               M                 SUBWFB          EEXreg+3, F
001802 6AE8               M                 CLRF            WREG
001804 5BAA               M                 SUBWFB          TEMP, F
001806 EF0E F00C          M                 GOTO            NOK2231
                          M 
00180A 261B               M NADD2231        ADDWF           EEXreg, F
00180C 5018               M                 MOVFP           DEXreg+1,WREG
00180E 221C               M                 ADDWFC          EEXreg+1, F
001810 5019               M                 MOVFP           DEXreg+2,WREG
001812 221D               M                 ADDWFC          EEXreg+2, F
001814 501A               M                 MOVFP           DEXreg+3,WREG
001816 221E               M                 ADDWFC          EEXreg+3, F
001818 6AE8               M                 CLRF            WREG
00181A 23AA               M                 ADDWFC          TEMP, F
                          M         
00181C 3613               M NOK2231         RLCF            CEXreg, F
                          M 
  0020                    M                 variable i=i+1
                          M 
                          M                 endw
                          M 
00181E B013               M                 BTFSC           CEXreg,LSB
001820 EF1A F00C          M                 GOTO            NOK22
001824 5017               M                 MOVFP           DEXreg,WREG
001826 261B               M                 ADDWF           EEXreg, F
001828 5018               M                 MOVFP           DEXreg+1,WREG
00182A 221C               M                 ADDWFC          EEXreg+1, F
00182C 5019               M                 MOVFP           DEXreg+2,WREG
00182E 221D               M                 ADDWFC          EEXreg+2, F
001830 501A               M                 MOVFP           DEXreg+3,WREG
001832 221E               M                 ADDWFC          EEXreg+3, F
                          M 
001834                    M NOK22
                      00332 
001834 0C00           00333                 RETLW           0x00
                      00182                 
                      00183                 END
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 108


SYMBOL TABLE
  LABEL                             VALUE 

A                                 00000000
A16                               00000000
A17                               00000001
A18                               00000002
A19                               00000003
AARGB0                            00000015
AARGB1                            00000014
AARGB2                            00000013
AAT                               00000319
AB                                00000313
ABDEN                             00000000
ABDOVF                            00000007
ACCESS                            00000000
ACFTPOS                           00000045
ACK                               0000000C
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ACQT0                             00000003
ACQT1                             00000004
ACQT2                             00000005
ACT                               00000217
AD0                               00000000
AD1                               00000001
AD10                              00000002
AD11                              00000003
AD12                              00000004
AD13                              00000005
AD14                              00000006
AD15                              00000007
AD2                               00000002
AD3                               00000003
AD4                               00000004
AD5                               00000005
AD6                               00000006
AD7                               00000007
AD8                               00000000
AD9                               00000001
ADCON0                            00000FC2
ADCON1                            00000FC1
ADCON2                            00000FC0
ADCS0                             00000000
ADCS1                             00000001
ADCS2                             00000002
ADCaddTbl                         000002BB
ADCail                            00000004
ADCailTrim                        00000008
ADCch6                            00000000
ADCch7                            00000001
ADCele                            00000005
ADCeleTrim                        00000009
ADCgnd                            00000002
ADClookup                         00000272
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 109


SYMBOL TABLE
  LABEL                             VALUE 

ADCread                           000007CC
ADCread0                          00000816
ADCread1                          0000080C
ADCread2                          00000844
ADCrec                            0000000D
ADCref                            00000003
ADCrud                            00000006
ADCrudTrim                        0000000A
ADCtest                           0000000C
ADCthr                            00000007
ADCthrTrim                        0000000B
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADIP                              00000006
ADON                              00000000
ADRES                             00000FC3
ADRESH                            00000FC4
ADRESL                            00000FC3
AEXHI                             0000031A
AEXLOW                            0000031B
AHG                               00000215
ALE                               00000000
ALG                               00000219
ALR                               00000317
ALTAFK                            00000005
ALUSTA                            STATUS
AM1H                              00000311
AM2H                              00000315
AN0                               00000000
AN1                               00000001
AN10                              00000005
AN11                              00000006
AN12                              00000004
AN13                              00000005
AN14                              00000006
AN15                              00000007
AN2                               00000002
AN3                               00000003
AN4                               00000005
AN5                               00000000
AN6                               00000001
AN7                               00000002
AN8                               00000003
AN9                               00000004
APT                               00000318
ATP                               000003C9
ATRM                              000000DE
ATRST                             000000E1
ATmode                            000002B6
ATpos                             00000134
AUTOT                             00000001
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 110


SYMBOL TABLE
  LABEL                             VALUE 

AUXMODE                           000002BA
AUXOUT                            00000000
AUXSTATE                          000000EB
AXreg                             0000000D
AXregS                            0000012C
Adapter                           00000502
AilCenter                         000000CB
AilDR                             00000000
AilRudNeg                         00000411
AilRudPos                         00000410
AilTrimCh                         000002B2
Aircraft                          00000200
AltAircraft                       000003CE
Apos                              00000075
AposM                             00000093
Areg                              0000000A
Atable1                           000003DA
Atable2                           000003E5
Atemp                             0000001F
Atrim                             00000085
AtrimCT                           0000022D
AtrimHG                           0000022B
AtrimLast                         0000014B
AutoTrimOStime                    00000028
AutoTrimStep                      0000029E
AutoTrimTime                      0000029F
BA0                               00000004
BANKED                            00000001
BARGB0                            00000018
BARGB1                            00000017
BAUDCON                           00000F7E
BAUDCON1                          00000F7E
BAUDCON2                          00000F7C
BCL1IE                            00000003
BCL1IF                            00000003
BCL1IP                            00000003
BCL2IE                            00000006
BCL2IF                            00000006
BCL2IP                            00000006
BCLIE                             00000003
BCLIF                             00000003
BCLIP                             00000003
BF                                00000000
BGST                              00000005
BNK1                              00000100
BNK2                              00000200
BNK3                              00000300
BNK4                              00000400
BOR                               00000000
BRG16                             00000003
BRGH                              00000002
BSR                               00000FE0
BTflag                            000002B8
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 111


SYMBOL TABLE
  LABEL                             VALUE 

BUZZER                            00000004
BXreg                             0000000F
BXregS                            0000012E
BYTEPOS                           00000045
Backup                            00000600
BattAlarm                         000002B9
BatteryTimer                      00000500
BeepCtr                           0000005E
BeepCyl                           0000005F
BeepTicks                         0000005D
BladeDet                          000000C9
BladeTime                         000000C7
Breg                              0000000B
Btemp                             00000020
Buffer                            00000025
BuzPol                            000002D2
C                                 00000000
C1608S                            00000B46
C1608SOK                          00000C40
C1608SX                           00000B3C
C1608SX1                          00000C54
C1608SX2                          00000C7E
C1608SX3                          00000C86
C1608SX4                          00000C90
C1INV                             00000004
C1OUT_CMCON                       00000006
C1OUT_PORTF                       00000002
C2416S                            00000CF4
C2416SOK                          00000FE2
C2416SX                           00000CEA
C2416SX1                          00000FFE
C2416SX2                          00001030
C2416SX3                          0000103A
C2416SX4                          00001046
C2INV                             00000005
C2OUT_CMCON                       00000007
C2OUT_PORTF                       00000001
CA1608S                           00000B2E
CA2416S                           00000CD8
CALLF                             
CALLFF                            
CALLFL                            
CALLFW                            
CCP1                              00000002
CCP1CON                           00000FBD
CCP1IE                            00000002
CCP1IF                            00000002
CCP1IP                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 112


SYMBOL TABLE
  LABEL                             VALUE 

CCP1Y                             00000004
CCP2CON                           00000FBA
CCP2IE                            00000000
CCP2IF                            00000000
CCP2IP                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCP2_PORTB                        00000003
CCP2_PORTC                        00000001
CCP2_PORTE                        00000007
CCP3                              00000000
CCP3CON                           00000FB7
CCP3IE                            00000000
CCP3IF                            00000000
CCP3IP                            00000000
CCP3M0                            00000000
CCP3M1                            00000001
CCP3M2                            00000002
CCP3M3                            00000003
CCP3X                             00000005
CCP3Y                             00000004
CCP4                              00000003
CCP4CON                           00000F73
CCP4IE                            00000001
CCP4IF                            00000001
CCP4IP                            00000001
CCP4M0                            00000000
CCP4M1                            00000001
CCP4M2                            00000002
CCP4M3                            00000003
CCP5                              00000004
CCP5CON                           00000F70
CCP5IE                            00000002
CCP5IF                            00000002
CCP5IP                            00000002
CCP5M0                            00000000
CCP5M1                            00000001
CCP5M2                            00000002
CCP5M3                            00000003
CCPMmode                          0000041D
CCPR1                             00000FBE
CCPR1H                            00000FBF
CCPR1L                            00000FBE
CCPR2                             00000FBB
CCPR2H                            00000FBC
CCPR2L                            00000FBB
CCPR3                             00000FB8
CCPR3H                            00000FB9
CCPR3L                            00000FB8
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 113


SYMBOL TABLE
  LABEL                             VALUE 

CCPR4                             00000F74
CCPR4H                            00000F75
CCPR4L                            00000F74
CCPR5                             00000F71
CCPR5H                            00000F72
CCPR5L                            00000F71
CE                                00000005
CENTER                            000000D8
CEXreg                            00000013
CFGMEM1                           00000000
CFGMEM2                           00000002
CFGS                              00000006
CH5                               00000007
CH50MHZPOS                        00000004
CH50POS                           00000046
CH53POS                           00000040
CH5BH                             0000033C
CH5MH                             0000033A
CH5pos                            0000007D
CH5posActual                      0000008F
CH5posM                           0000009B
CH5stepSize                       00000419
CH67CenterBeepFlag                000002D8
CH6BH                             00000340
CH6CT                             0000023D
CH6HG                             0000023B
CH6Last                           00000153
CH6MH                             0000033E
CH6pos                            0000007F
CH6posM                           0000009D
CH72MHZPOS                        00000004
CH72POS                           00000045
CH7BH                             00000344
CH7CT                             00000241
CH7HG                             0000023F
CH7Last                           00000155
CH7MH                             00000342
CH7pos                            00000081
CH7posM                           0000009F
CH8A                              00000003
CH8C                              00000004
CH8_A                             00000346
CH8_B                             00000348
CH8_C                             0000034A
CH8pos                            00000083
CH8posActual                      00000091
CH8posM                           000000A1
CH8stepSize                       0000041B
CHS0                              00000002
CHS1                              00000003
CHS2                              00000004
CHS3                              00000005
CHtimes                           0000003A
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 114


SYMBOL TABLE
  LABEL                             VALUE 

CIS                               00000003
CK                                00000006
CK1                               00000006
CK2                               00000001
CKE                               00000006
CKP                               00000004
CLK                               00000005
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             00000FB4
CMIE                              00000006
CMIF                              00000006
CMIP                              00000006
CNTmode                           000003BD
CREN                              00000004
CROWENA                           000003C6
CS                                00000002
CSRC                              00000007
CURSOROFF                         0000000C
CURSORON                          0000000E
CVMPOS                            00000043
CVR0                              00000000
CVR1                              00000001
CVR2                              00000002
CVR3                              00000003
CVRCON                            00000FB5
CVREF                             00000005
CVREN                             00000007
CVROE                             00000006
CVRR                              00000005
CVRSS                             00000004
CXreg                             00000011
CXregS                            00000130
CalMenu                           00000120
CalMenu1                          00000122
CalMenu2                          00000124
CalOption                         0000011E
CalServoUpdate                    000000F6
CalTable                          000000D6
ChannelOrder                      00000400
CheckSum                          0000006A
Cmd                               00000037
Cmode                             00000056
Cnt                               000000BD
Creg                              0000000C
Ct                                0000006F
Ctemp                             000000A3
CycleCounts                       00000038
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
DC1B0                             00000004
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 115


SYMBOL TABLE
  LABEL                             VALUE 

DC1B1                             00000005
DC2B0                             00000004
DC2B1                             00000005
DC3B0                             00000004
DC3B1                             00000005
DC4B0                             00000004
DC4B1                             00000005
DC5B0                             00000004
DC5B1                             00000005
DCCP4X                            00000005
DCCP4Y                            00000004
DCCP5X                            00000005
DCCP5Y                            00000004
DDRA                              TRISA
DDRB                              TRISB
DDRC                              TRISC
DDRD                              TRISD
DDRE                              TRISE
DDRF                              00000F97
DDRG                              00000F98
DDRH                              00000F99
DDRJ                              00000F9A
DEXreg                            00000017
DIFFA                             0000039C
DONE                              00000001
DPflag                            000000EE
DRP                               000000DC
DT1                               00000007
DT2                               00000002
DTail                             00000580
DTailA                            0000041E
DTdataAil                         00000142
DTdataEle                         00000144
DTdataRud                         00000146
DTdataTht                         00000148
DTdisplay                         0000014A
DTele                             00000582
DTeleA                            00000420
DTrimAdjustDelay                  000002D9
DTrud                             00000584
DTrudA                            00000422
DTtht                             00000586
DTthtA                            00000424
DUALA                             0000039A
DWNMins                           000003BF
DWNSecs                           000003BE
DXreg                             000000D4
DXregS                            00000132
D_A                               00000005
Debug                             00000443
DefaultAircraft                   000000AB
Delay1mS                          000003AC
Delay1mS0                         000003AE
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 116


SYMBOL TABLE
  LABEL                             VALUE 

Delay2uS                          000003A2
Divide168                         00000B0A
Divide2416                        00000CAC
Divide3232u                       00001072
Dmins                             0000005B
Dog162                            00000503
DriveCh                           000000BE
Dsecs                             0000005A
DsecsLatch                        0000005C
Dst                               000000B9
Dtemp                             000000A4
DualE                             00000417
DualLine                          
EAT                               00000324
EB                                0000031E
EBDIS                             00000007
ECCP1                             00000002
ECCP1AS                           00000FB6
ECCP1AS0                          00000004
ECCP1AS1                          00000005
ECCP1AS2                          00000006
ECCP1ASE                          00000007
ECCP1CON                          00000FBD
ECCP1DEL                          00000F79
ECCP2AS                           00000F68
ECCP2AS0                          00000004
ECCP2AS1                          00000005
ECCP2AS2                          00000006
ECCP2ASE                          00000007
ECCP2CON                          00000FBA
ECCP2DEL                          00000F67
ECCP2_PORTB                       00000003
ECCP2_PORTC                       00000001
ECCP2_PORTE                       00000007
ECCP3                             00000000
ECCP3AS                           00000F6A
ECCP3AS0                          00000004
ECCP3AS1                          00000005
ECCP3AS2                          00000006
ECCP3ASE                          00000007
ECCP3CON                          00000FB7
ECCP3DEL                          00000F69
ECCPAS0                           00000004
ECCPAS1                           00000005
ECCPAS2                           00000006
ECCPASE                           00000007
ECT                               0000021D
EEADR                             00000FA9
EEADRH                            00000FAA
EECON1                            00000FA6
EECON2                            00000FA7
EEDATA                            00000FA8
EEIE                              00000004
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 117


SYMBOL TABLE
  LABEL                             VALUE 

EEIF                              00000004
EEIP                              00000004
EEPGD                             00000007
EEXHI                             00000325
EEXLOW                            00000326
EEXreg                            0000001B
EHG                               0000021B
ELEVON                            00000399
ELG                               0000021F
ELR                               00000322
EM1H                              0000031C
EM2H                              00000320
EPT                               00000323
ETP                               000003CA
ETpos                             00000136
EXIT                              000000D3
EXPOHI                            000000DF
EXPOLOW                           000000E0
EleCenter                         000000CD
EleDR                             00000001
EleTrimCh                         000002B3
EnaSecSprom                       000000CF
Epos                              00000077
EposM                             00000095
Etemp                             000000A5
Etrim                             00000087
EtrimCT                           00000231
EtrimHG                           0000022F
EtrimLast                         0000014D
FAST                              00000001
FCF                               0000010B
FCN                               0000010E
FERR                              00000002
FLT0                              00000000
FLTS                              00000002
FMSflag                           000000EF
FMSflagU1                         000000F0
FPFLAGS                           00000023
FPgain                            0000039D
FPgainN                           0000039B
FREE                              00000004
FSR0                              00000000
FSR0H                             00000FEA
FSR0L                             00000FE9
FSR1                              00000001
FSR1H                             00000FE2
FSR1Hsave                         00000022
FSR1L                             00000FE1
FSR1Lsave                         00000021
FSR2                              00000002
FSR2H                             00000FDA
FSR2L                             00000FD9
FXD1608S                          00000B0A
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 118


SYMBOL TABLE
  LABEL                             VALUE 

FXD2416S                          00000CAC
FXD3232U                          00001072
Fband                             000002D1
FixedFirst                        000003A4
FrameDefect                       000002D5
Freg                              00000106
Freg50                            00000204
Freg53                            0000020A
Freg72                            00000210
Ftemp                             000000A6
FutabaStudent                     000000F5
GCEN                              00000007
GIE                               00000007
GIEH                              00000007
GIEL                              00000006
GO                                00000001
GOTOF                             
GO_DONE                           00000001
Gh                                0000006D
Gl                                00000071
GyroTune                          000000FB
HICUR                             00000010
HIGHISRS                          0000021C
HLVDCON                           00000FD2
HLVDEN                            00000004
HLVDIE                            00000002
HLVDIF                            00000002
HLVDIN                            00000005
HLVDIP                            00000002
HLVDL0                            00000000
HLVDL1                            00000001
HLVDL2                            00000002
HLVDL3                            00000003
HPitch                            0000042C
HPrev                             00000429
HSen                              0000042A
HTht                              0000042B
Henable                           00000426
Hst1Pitch                         00000436
Hst1Sen                           00000434
Hst1Tht                           00000435
Hst2Pitch                         0000043C
Hst2Sen                           0000043A
Hst2Tht                           0000043B
HthtPitch                         00000432
HthtSen                           00000431
I2C_DAT                           00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
IDLEN                             00000007
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 119


SYMBOL TABLE
  LABEL                             VALUE 

IDLEUP                            000003A0
IDLEUPpA                          000003A1
IDLEUPpB                          000003A2
INDF0                             00000FEF
INDF1                             00000FE7
INDF2                             00000FDF
INT0                              00000000
INT0E                             00000004
INT0F                             00000001
INT0IE                            00000004
INT0IF                            00000001
INT1                              00000001
INT1E                             00000003
INT1F                             00000000
INT1IE                            00000003
INT1IF                            00000000
INT1IP                            00000006
INT1P                             00000006
INT2                              00000002
INT2E                             00000004
INT2F                             00000001
INT2IE                            00000004
INT2IF                            00000001
INT2IP                            00000007
INT2P                             00000007
INT3                              00000003
INT3E                             00000005
INT3F                             00000002
INT3IE                            00000005
INT3IF                            00000002
INT3IP                            00000001
INT3P                             00000001
INTCON                            00000FF2
INTCON2                           00000FF1
INTCON3                           00000FF0
INTEDG0                           00000006
INTEDG1                           00000005
INTEDG2                           00000004
INTEDG3                           00000003
INTPOS                            00000043
INTSRC                            00000007
IOFS                              00000002
IPEN                              00000007
IPR1                              00000F9F
IPR2                              00000FA2
IPR3                              00000FA5
IRCF0                             00000004
IRCF1                             00000005
IRCF2                             00000006
IRVST                             00000005
ISRtemp                           0000002F
IVRST                             00000005
IdleUpNorm                        0000042E
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 120


SYMBOL TABLE
  LABEL                             VALUE 

IdleUpST1                         00000438
IdleUpST2                         0000043E
IncTime                           000000F7
Int2Str                           00000A12
KBI0                              00000004
KBI1                              00000005
KBI2                              00000006
KBI3                              00000007
LATA                              00000F89
LATA0                             00000000
LATA1                             00000001
LATA2                             00000002
LATA3                             00000003
LATA4                             00000004
LATA5                             00000005
LATA6                             00000006
LATA7                             00000007
LATB                              00000F8A
LATB0                             00000000
LATB1                             00000001
LATB2                             00000002
LATB3                             00000003
LATB4                             00000004
LATB5                             00000005
LATB6                             00000006
LATB7                             00000007
LATC                              00000F8B
LATC0                             00000000
LATC1                             00000001
LATC2                             00000002
LATC3                             00000003
LATC4                             00000004
LATC5                             00000005
LATC6                             00000006
LATC7                             00000007
LATD                              00000F8C
LATD0                             00000000
LATD1                             00000001
LATD2                             00000002
LATD3                             00000003
LATD4                             00000004
LATD5                             00000005
LATD6                             00000006
LATD7                             00000007
LATE                              00000F8D
LATE0                             00000000
LATE1                             00000001
LATE2                             00000002
LATE3                             00000003
LATE4                             00000004
LATE5                             00000005
LATE6                             00000006
LATE7                             00000007
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 121


SYMBOL TABLE
  LABEL                             VALUE 

LATF                              00000F8E
LATF0                             00000000
LATF1                             00000001
LATF2                             00000002
LATF3                             00000003
LATF4                             00000004
LATF5                             00000005
LATF6                             00000006
LATF7                             00000007
LATG                              00000F8F
LATG0                             00000000
LATG1                             00000001
LATG2                             00000002
LATG3                             00000003
LATG4                             00000004
LATG5                             00000005
LATH                              00000F90
LATH0                             00000000
LATH1                             00000001
LATH2                             00000002
LATH3                             00000003
LATH4                             00000004
LATH5                             00000005
LATH6                             00000006
LATH7                             00000007
LATJ                              00000F91
LATJ0                             00000000
LATJ1                             00000001
LATJ2                             00000002
LATJ3                             00000003
LATJ4                             00000004
LATJ5                             00000005
LATJ6                             00000006
LATJ7                             00000007
LB                                00000006
LCDCTRL                           00000F81
LCDCTRLDIR                        00000F93
LCDDATA                           00000F88
LCDDATADIR                        00000F9A
LCDRIGHT                          00000040
LCDbinary                         0000092C
LCDbinary0                        00000932
LCDbusy                           00000770
LCDhex                            00000946
LCDinit                           0000068E
LCDinitDone                       000006E2
LCDint                            0000097A
LCDint1                           000009B6
LCDint2                           000009AE
LCDint3                           000009A6
LCDint4                           0000099E
LCDintA                           00000984
LCDintB                           0000098A
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 122


SYMBOL TABLE
  LABEL                             VALUE 

LCDintC                           00000990
LCDintD                           00000996
LCDintZS                          000009BE
LCDread                           00000750
LCDsendAX                         00000852
LCDsendAXLine2                    00000868
LCDsendCMD                        00000728
LCDsendCMD0                       0000072E
LCDsendDXLine2                    0000087E
LCDsendData                       00000702
LCDsendMess                       000008D4
LCDsendMessN                      000008DA
LCDshowLine1                      000008CC
LCDshowLine2                      00000894
LCDwait                           00000764
LCDwreg                           00000141
LED1                              00000003
LED2                              00000002
LINE1                             00000080
LINE2                             00000088
LINE3                             00000088
LOOP                              0000034E
LOWISRS                           00000242
LSB                               00000000
LTUP                              000000DA
LVDCON                            00000FD2
LVDEN                             00000004
LVDIE                             00000002
LVDIF                             00000002
LVDIN                             00000005
LVDIP                             00000002
LVDL0                             00000000
LVDL1                             00000001
LVDL2                             00000002
LVDL3                             00000003
LVV0                              00000000
LVV1                              00000001
LVV2                              00000002
LVV3                              00000003
LValarm                           00000111
M1Adl                             00000360
M1Afrom                           0000035C
M1Ato                             0000035D
M1Aur                             0000035F
M1Azp                             0000035E
M1Bdl                             00000365
M1Bfrom                           00000361
M1Bto                             00000362
M1Bur                             00000364
M1Bzp                             00000363
M1Cdl                             0000036A
M1Cfrom                           00000366
M1Cto                             00000367
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 123


SYMBOL TABLE
  LABEL                             VALUE 

M1Cur                             00000369
M1Czp                             00000368
M1Ddl                             0000036F
M1Dfrom                           0000036B
M1Dto                             0000036C
M1Dur                             0000036E
M1Dzp                             0000036D
M2Adl                             00000374
M2Afrom                           00000370
M2Ato                             00000371
M2Aur                             00000373
M2Azp                             00000372
M2Bdl                             00000379
M2Bfrom                           00000375
M2Bto                             00000376
M2Bur                             00000378
M2Bzp                             00000377
M2Cdl                             0000037E
M2Cfrom                           0000037A
M2Cto                             0000037B
M2Cur                             0000037D
M2Czp                             0000037C
M2Ddl                             00000383
M2Dfrom                           0000037F
M2Dto                             00000380
M2Dur                             00000382
M2Dzp                             00000381
M3Adl                             00000388
M3Afrom                           00000384
M3Ato                             00000385
M3Aur                             00000387
M3Azp                             00000386
M3Bdl                             0000038D
M3Bfrom                           00000389
M3Bto                             0000038A
M3Bur                             0000038C
M3Bzp                             0000038B
M3Cdl                             00000392
M3Cfrom                           0000038E
M3Cto                             0000038F
M3Cur                             00000391
M3Czp                             00000390
M3Ddl                             00000397
M3Dfrom                           00000393
M3Dto                             00000394
M3Dur                             00000396
M3Dzp                             00000395
MApos                             000000B1
MCLR                              00000005
MEMCON                            00000F9C
MES1                              000003C2
MES2                              000003D4
MES3                              000003E6
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 124


SYMBOL TABLE
  LABEL                             VALUE 

MEpos                             000000B3
MIX1                              00000004
MIX2                              00000005
MIX3                              00000006
MOD                               00000007
MOVE                              
MOVE16                            
MOVE24                            
MOVEB                             
MOVEBI                            
MOVEC                             
MOVEC24                           
MOVEIB                            
MOVEIW                            
MOVEWI                            
MOVFP                             MOVF
MOVLR                             MOVLB
MOVPF                             MOVFF
MP8K_AAC                          00000002
MP8K_AD                           00000F84
MP8K_AD_LATCH                     00000F8D
MP8K_AS                           00000001
MP8K_CH5                          00000000
MP8K_CH8A                         00000003
MP8K_CH8C                         00000004
MP8K_E                            00000000
MP8K_HA                           00000F83
MP8K_IsBusy                       
MP8K_LCD                          00000F81
MP8K_LCD_E                        00000003
MP8K_LCD_RS                       00000005
MP8K_LCD_RW                       00000004
MP8K_OPT                          00000001
MP8K_PRESET                       00000005
MP8K_RUNCAL                       00000003
MP8K_RW                           00000002
MP8K_ResetBusy                    
MP8K_SW1                          00000F82
MP8K_SW2                          00000F88
MP8K_SetBusy                      
MP8Kbuzzer                        0000067C
MP8Kinit                          000005BA
MP8KreadD                         00000620
MP8KreadE                         0000064E
MP8KreadPort                      00000600
MP8KwritePort                     00000612
MRpos                             000000B5
MSB                               00000007
MTpos                             000000B7
Master                            000002A1
MasterMode                        000002B7
MasterPos                         000000AF
MasterState                       000000AE
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 125


SYMBOL TABLE
  LABEL                             VALUE 

MaxByte                           000000C1
MaxChannels                       000002A2
MaxTime                           000000C1
MaxValue                          000000C1
MessBank                          00000066
MessCHK                           00000069
MessLen                           00000068
MessLoc                           00000067
MessStart                         00000064
MessState                         00000063
MessType                          00000065
Mfrom                             000000E2
MicroProStar                      
MinByte                           000000BF
MinTime                           000000BF
MinValue                          000000BF
Mins                              00000059
Mng                               000000E6
Mni                               000000E8
Mode                              00000036
ModelChannel                      000003AD
MonChan                           0000015E
MonFlag                           0000015D
Mpg                               000000E5
Mpi                               000000E7
Mreplace                          000000E9
Mtbl                              000000EA
Mto                               000000E3
Mult1                             00000AB6
Mult1616                          00000AA4
Mult1616u                         00000AC6
Mult2                             00000AC4
Mzp                               000000E4
N                                 00000004
NADD221                           000010C6
NADD2210                          000012F4
NADD2211                          00001332
NADD2212                          00001370
NADD2213                          000013AE
NADD2214                          000013EC
NADD2215                          0000142A
NADD2216                          00001468
NADD2217                          000014A6
NADD2218                          000014E4
NADD2219                          00001522
NADD222                           00001104
NADD2220                          00001560
NADD2221                          0000159E
NADD2222                          000015DC
NADD2223                          0000161A
NADD2224                          00001658
NADD2225                          00001696
NADD2226                          000016D4
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 126


SYMBOL TABLE
  LABEL                             VALUE 

NADD2227                          00001712
NADD2228                          00001750
NADD2229                          0000178E
NADD223                           00001142
NADD2230                          000017CC
NADD2231                          0000180A
NADD224                           00001180
NADD225                           000011BE
NADD226                           000011FC
NADD227                           0000123A
NADD228                           00001278
NADD229                           000012B6
NAK                               0000000D
NAN                               00000004
NDIV3232                          
NEXT                              000008DC
NOK22                             00001834
NOK221                            000010D8
NOK2210                           00001306
NOK2211                           00001344
NOK2212                           00001382
NOK2213                           000013C0
NOK2214                           000013FE
NOK2215                           0000143C
NOK2216                           0000147A
NOK2217                           000014B8
NOK2218                           000014F6
NOK2219                           00001534
NOK222                            00001116
NOK2220                           00001572
NOK2221                           000015B0
NOK2222                           000015EE
NOK2223                           0000162C
NOK2224                           0000166A
NOK2225                           000016A8
NOK2226                           000016E6
NOK2227                           00001724
NOK2228                           00001762
NOK2229                           000017A0
NOK223                            00001154
NOK2230                           000017DE
NOK2231                           0000181C
NOK224                            00001192
NOK225                            000011D0
NOK226                            0000120E
NOK227                            0000124C
NOK228                            0000128A
NOK229                            000012C8
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BOR                           00000000
NOT_CE                            00000005
NOT_CS                            00000002
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 127


SYMBOL TABLE
  LABEL                             VALUE 

NOT_DONE                          00000001
NOT_LB                            00000006
NOT_MCLR                          00000005
NOT_OE                            00000001
NOT_PD                            00000002
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_RD                            00000000
NOT_RI                            00000004
NOT_SS1                           00000007
NOT_SS2                           00000007
NOT_T1SYNC                        00000002
NOT_T3SYNC                        00000002
NOT_TO                            00000003
NOT_TX8                           00000006
NOT_UB                            00000007
NOT_W                             00000002
NOT_WR                            00000001
NOT_WRH                           00000003
NOT_WRITE                         00000002
NOT_WRL                           00000002
NPOS                              00000047
NUMFREQ                           00000110
Name                              00000300
NextChar                          00000924
NextTime                          00000050
Npos                              00000073
Nreg                              00000100
NumAircraft                       00000060
NumAlt                            00000006
NumBlades                         000003A5
NumChan                           0000004F
OBF                               00000006
OE                                00000001
OERR                              00000001
OFFSET                            00000200
ONTIMEPOS                         00000043
OPTION                            00000002
OSCCON                            00000FD3
OSCFIE                            00000007
OSCFIF                            00000007
OSCFIP                            00000007
OSCTUNE                           00000F9B
OSTS                              00000003
OV                                00000003
OVERRUN                           000000C3
P                                 00000004
P1A                               00000002
P1B_PORTE                         00000006
P1B_PORTH                         00000007
P1C_PORTE                         00000005
P1C_PORTH                         00000006
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 128


SYMBOL TABLE
  LABEL                             VALUE 

P1D                               00000004
P1DC0                             00000000
P1DC1                             00000001
P1DC2                             00000002
P1DC3                             00000003
P1DC4                             00000004
P1DC5                             00000005
P1DC6                             00000006
P1M0                              00000006
P1M1                              00000007
P1RSEN                            00000007
P2A_PORTB                         00000003
P2A_PORTC                         00000001
P2A_PORTE                         00000007
P2B                               00000002
P2C                               00000001
P2D                               00000000
P2DC0                             00000000
P2DC1                             00000001
P2DC2                             00000002
P2DC3                             00000003
P2DC4                             00000004
P2DC5                             00000005
P2DC6                             00000006
P2M0                              00000006
P2M1                              00000007
P2RSEN                            00000007
P3A                               00000000
P3B_PORTE                         00000004
P3B_PORTH                         00000005
P3C_PORTE                         00000003
P3C_PORTH                         00000004
P3D                               00000003
P3DC0                             00000000
P3DC1                             00000001
P3DC2                             00000002
P3DC3                             00000003
P3DC4                             00000004
P3DC5                             00000005
P3DC6                             00000006
P3M0                              00000006
P3M1                              00000007
P3RSEN                            00000007
PC                                00000FF9
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000FF9
PCLATH                            00000FFA
PCLATU                            00000FFB
PD                                00000002
PDC0                              00000000
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 129


SYMBOL TABLE
  LABEL                             VALUE 

PDC1                              00000001
PDC2                              00000002
PDC3                              00000003
PDC4                              00000004
PDC5                              00000005
PDC6                              00000006
PDF                               00000109
PEIE                              00000006
PEN                               00000002
PERCENTPOS                        00000043
PIC18F8723                        000000F8
PIE1                              00000F9D
PIE2                              00000FA0
PIE3                              00000FA3
PIR1                              00000F9E
PIR2                              00000FA1
PIR3                              00000FA4
PLLCS                             00000003
PLLEN                             00000006
PLLRST                            00000006
PLLinitWORD                       000002AB
PLUSW0                            00000FEB
PLUSW1                            00000FE3
PLUSW2                            00000FDB
PMUL                              0000010F
POPREGS                           
POPREGSLOW                        
POR                               00000001
PORTA                             00000F80
PORTB                             00000F81
PORTC                             00000F82
PORTD                             00000F83
PORTDimage                        00000030
PORTDlast                         00000031
PORTDlatch                        00000032
PORTDlatchLow                     000000F9
PORTE                             00000F84
PORTEimage                        00000033
PORTElast                         00000034
PORTElatch                        00000035
PORTElatchLow                     000000FA
PORTF                             00000F85
PORTG                             00000F86
PORTH                             00000F87
PORTJ                             00000F88
POSTDEC0                          00000FED
POSTDEC1                          00000FE5
POSTDEC2                          00000FDD
POSTINC0                          00000FEE
POSTINC1                          00000FE6
POSTINC2                          00000FDE
PR2                               00000FCB
PR4                               00000F77
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 130


SYMBOL TABLE
  LABEL                             VALUE 

PREINC0                           00000FEC
PREINC1                           00000FE4
PREINC2                           00000FDC
PRESET                            00000003
PROD                              00000FF3
PRODH                             00000FF4
PRODL                             00000FF3
PRSEN                             00000007
PSA                               00000003
PSP0                              00000000
PSP1                              00000001
PSP2                              00000002
PSP3                              00000003
PSP4                              00000004
PSP5                              00000005
PSP6                              00000006
PSP7                              00000007
PSPCON                            00000FB0
PSPIE                             00000007
PSPIF                             00000007
PSPIP                             00000007
PSPMODE                           00000004
PSS1AC0                           00000002
PSS1AC1                           00000003
PSS1BD0                           00000000
PSS1BD1                           00000001
PSS2AC0                           00000002
PSS2AC1                           00000003
PSS2BD0                           00000000
PSS2BD1                           00000001
PSS3AC0                           00000002
PSS3AC1                           00000003
PSS3BD0                           00000000
PSS3BD1                           00000001
PSSAC0                            00000002
PSSAC1                            00000003
PSSBD0                            00000000
PSSBD1                            00000001
PUSHREGS                          
PUSHREGSLOW                       
Pos                               0000006B
PostCall                          000000F1
PostCallLevel1                    00000126
PostCallLevel2                    00000128
PostCallLevel3                    0000012A
PreCall                           000000F3
Pressed                           
PrintMess                         
PrintMessN                        
ProcessorType                     00000780
Pstate                            0000004E
Psum                              00000052
R                                 00000002
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 131


SYMBOL TABLE
  LABEL                             VALUE 

RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RA6                               00000006
RA7                               00000007
RAT                               0000032F
RB                                00000329
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RBIP                              00000000
RBPU                              00000007
RC0                               00000000
RC1                               00000001
RC1IE                             00000005
RC1IF                             00000005
RC1IP                             00000005
RC2                               00000002
RC2IE                             00000005
RC2IF                             00000005
RC2IP                             00000005
RC3                               00000003
RC4                               00000004
RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIDL                             00000006
RCIE                              00000005
RCIF                              00000005
RCIP                              00000005
RCMT                              00000006
RCON                              00000FD0
RCREG                             00000FAE
RCREG1                            00000FAE
RCREG2                            00000F6E
RCSTA                             00000FAB
RCSTA1                            00000FAB
RCSTA2                            00000F6B
RCT                               00000223
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 132


SYMBOL TABLE
  LABEL                             VALUE 

RD                                00000000
RD0                               00000000
RD1                               00000001
RD16                              00000007
RD2                               00000002
RD256a                            000007B0
RD3                               00000003
RD4                               00000004
RD5                               00000005
RD6                               00000006
RD7                               00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
RE3                               00000003
RE4                               00000004
RE5                               00000005
RE6                               00000006
RE7                               00000007
READ_WRITE                        00000002
RECCOMM                           00000002
RECMESS                           00000001
RECVPOS                           00000043
REMB0                             0000001C
REMB1                             0000001B
REXHI                             00000330
REXLOW                            00000331
RF0                               00000000
RF1                               00000001
RF2                               00000002
RF3                               00000003
RF4                               00000004
RF5                               00000005
RF6                               00000006
RF7                               00000007
RG0                               00000000
RG1                               00000001
RG2                               00000002
RG3                               00000003
RG4                               00000004
RG5                               00000005
RH0                               00000000
RH1                               00000001
RH2                               00000002
RH3                               00000003
RH4                               00000004
RH5                               00000005
RH6                               00000006
RH7                               00000007
RHG                               00000221
RI                                00000004
RJ0                               00000000
RJ1                               00000001
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 133


SYMBOL TABLE
  LABEL                             VALUE 

RJ2                               00000002
RJ3                               00000003
RJ4                               00000004
RJ5                               00000005
RJ6                               00000006
RJ7                               00000007
RLG                               00000225
RLR                               0000032D
RM1H                              00000327
RM2H                              0000032B
RPT                               0000032E
RSEN                              00000001
RTDWN                             000000D6
RTP                               000003CB
RTpos                             00000138
RUNCAL                            00000000
RX                                00000007
RX1                               00000007
RX2                               00000002
RX9                               00000006
RX9D                              00000000
R_W                               00000002
ReadADC256                        000007A2
RecVADC                           0000015B
Release                           
RemoveLeadingZeros                000009E6
Reserved                          00000310
RetractsWarning                   000003A6
Rpos                              00000079
RposM                             00000097
Rreg                              00000103
Rreg50                            00000201
Rreg53                            00000207
Rreg72                            0000020D
Rtrim                             00000089
RtrimCT                           00000235
RtrimHG                           00000233
RtrimLast                         0000014F
RudAilNeg                         00000413
RudAilPos                         00000412
RudDR                             00000002
RudEleNeg                         00000415
RudElePos                         00000414
RudTrimCh                         000002B4
S                                 00000003
SADD4610                          00000E26
SADD4611                          00000E46
SADD4612                          00000E66
SADD4613                          00000E86
SADD4614                          00000EA6
SADD4615                          00000EC6
SADD4616                          00000EE6
SADD4617                          00000F06
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 134


SYMBOL TABLE
  LABEL                             VALUE 

SADD4618                          00000F26
SADD4619                          00000F46
SADD462                           00000D26
SADD4620                          00000F66
SADD4621                          00000F86
SADD4622                          00000FA6
SADD4623                          00000FC6
SADD463                           00000D46
SADD464                           00000D66
SADD465                           00000D86
SADD466                           00000DA6
SADD467                           00000DC6
SADD468                           00000DE6
SADD469                           00000E06
SBOREN                            00000006
SCK                               00000003
SCK1                              00000003
SCK2                              00000006
SCKP                              00000004
SCL                               00000003
SCL1                              00000003
SCL2                              00000006
SCS0                              00000000
SCS1                              00000001
SDA                               00000004
SDA1                              00000004
SDA2                              00000005
SDI                               00000004
SDI1                              00000004
SDI2                              00000005
SDIV1608                          
SDIV2416                          
SDIbit                            00000004
SDO                               00000005
SDO1                              00000005
SDO2                              00000004
SDObit                            00000007
SELCHPOS                          00000044
SEN                               00000000
SENDB                             00000003
SENDMESS                          00000002
SHIFT                             000003CD
SIGN                              00000024
SL_A                              00000354
SL_E                              00000356
SL_R                              00000358
SL_T                              0000035A
SMP                               00000007
SNAPL                             00000007
SNAPR                             00000006
SOK46                             00000FDC
SOK4610                           00000E2C
SOK4611                           00000E4C
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 135


SYMBOL TABLE
  LABEL                             VALUE 

SOK4612                           00000E6C
SOK4613                           00000E8C
SOK4614                           00000EAC
SOK4615                           00000ECC
SOK4616                           00000EEC
SOK4617                           00000F0C
SOK4618                           00000F2C
SOK4619                           00000F4C
SOK462                            00000D2C
SOK4620                           00000F6C
SOK4621                           00000F8C
SOK4622                           00000FAC
SOK4623                           00000FCC
SOK463                            00000D4C
SOK464                            00000D6C
SOK465                            00000D8C
SOK466                            00000DAC
SOK467                            00000DCC
SOK468                            00000DEC
SOK469                            00000E0C
SP0                               00000000
SP1                               00000001
SP2                               00000002
SP3                               00000003
SP4                               00000004
SPBRG                             00000FAF
SPBRG1                            00000FAF
SPBRG2                            00000F6F
SPBRGH                            00000F7F
SPBRGH1                           00000F7F
SPBRGH2                           00000F7D
SPEN                              00000007
SPROMAircraft                     000000AC
SREN                              00000005
SR_A                              0000034C
SR_E                              0000034E
SR_R                              00000350
SR_T                              00000352
SS1                               00000007
SS2                               00000007
SSP1ADD                           00000FC8
SSP1BUF                           00000FC9
SSP1CON1                          00000FC6
SSP1CON2                          00000FC5
SSP1IE                            00000003
SSP1IF                            00000003
SSP1IP                            00000003
SSP1STAT                          00000FC7
SSP2ADD                           00000F65
SSP2BUF                           00000F66
SSP2CON1                          00000F63
SSP2CON2                          00000F62
SSP2IE                            00000007
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 136


SYMBOL TABLE
  LABEL                             VALUE 

SSP2IF                            00000007
SSP2IP                            00000007
SSP2STAT                          00000F64
SSPADD                            00000FC8
SSPBUF                            00000FC9
SSPCON1                           00000FC6
SSPCON2                           00000FC5
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPIP                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000FC7
STATUS                            00000FD8
STKFUL                            00000007
STKOVF                            00000007
STKPTR                            00000FFC
STKPTR0                           00000000
STKPTR1                           00000001
STKPTR2                           00000002
STKPTR3                           00000003
STKPTR4                           00000004
STKUNF                            00000006
STRIM                             000000E2
SWAILDR                           000003AE
SWATRIM                           000003B6
SWCH5                             000003B5
SWCH8A                            000003B7
SWCH8B                            000003B8
SWCH8C                            000003B9
SWCROW                            000003C5
SWDTE                             00000000
SWDTEN                            00000000
SWELEDR                           000003AF
SWID                              000000C5
SWIDLEUP1                         000003C3
SWIDLEUP2                         000003C4
SWIDLEUPN                         0000042D
SWIDLEUPST1                       00000437
SWIDLEUPST2                       0000043D
SWMIX1                            000003B2
SWMIX2                            000003B3
SWMIX3                            000003B4
SWPRESET                          000003B1
SWRUDDR                           000003B0
SWSNAPL                           000003BC
SWSNAPR                           000003BB
SWSTUNT1                          00000433
SWSTUNT2                          00000439
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 137


SYMBOL TABLE
  LABEL                             VALUE 

SWTHOLD                           0000042F
SWselect                          000000D6
SYNC                              00000004
SaveFSR1H                         0000013F
SaveFSR1L                         0000013E
Secs                              00000058
SelFreq                           000002A5
SelSprom                          000000EC
SerialSend                        000002D6
ServoMax                          000002B0
ServoMin                          000002AE
ServoREV                          000000E2
Signature                         000002A7
SingleLine                        
Src                               000000BB
Start                             000002DE
State                             
StickThres                        00000190
Student                           000002A0
SubTrim                           00000408
SymSet                            000000C4
Sync                              00000054
SyncWidth                         000002A3
T08BIT                            00000006
T0CKI                             00000004
T0CON                             00000FD5
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0IP                              00000002
T0PS0                             00000000
T0PS1                             00000001
T0PS2                             00000002
T0PS3                             00000003
T0SE                              00000004
T13CKI                            00000000
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000FCD
T1INSYNC                          00000002
T1OSCEN                           00000003
T1OSI                             00000001
T1OSO                             00000000
T1RUN                             00000006
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000FCA
T2OUTPS0                          00000003
T2OUTPS1                          00000004
T2OUTPS2                          00000005
T2OUTPS3                          00000006
T3CCP1                            00000003
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 138


SYMBOL TABLE
  LABEL                             VALUE 

T3CCP2                            00000006
T3CKPS0                           00000004
T3CKPS1                           00000005
T3CON                             00000FB1
T3INSYNC                          00000002
T3SYNC                            00000002
T4CKPS0                           00000000
T4CKPS1                           00000001
T4CON                             00000F76
T4OUTPS0                          00000003
T4OUTPS1                          00000004
T4OUTPS2                          00000005
T4OUTPS3                          00000006
TABLAT                            00000FF5
TACHENA                           00000001
TACHIN                            00000001
TACHRPMPOS                        00000043
TAltA1                            0000013C
TAltA2                            0000013D
TBH                               00000334
TBLPTR                            00000FF6
TBLPTRH                           00000FF7
TBLPTRL                           00000FF6
TBLPTRU                           00000FF8
TCT                               00000229
TEMP                              000000AA
TEMPB3                            000000AA
TEMP_ALUSTA                       00000001
TEMP_ALUSTA_L                     00000006
TEMP_BSR                          00000002
TEMP_BSR_L                        00000007
TEMP_PRODH                        00000004
TEMP_PRODH_L                      00000009
TEMP_PRODL                        00000003
TEMP_PRODL_L                      00000008
TEMP_WREG                         00000000
TEMP_WREG_L                       00000005
TESTCHPOS                         00000006
TESTVALPOS                        00000044
TEnaSW                            000003C0
THG                               00000227
THOLDp                            00000430
TMH                               00000332
TMODE                             00000337
TMR0H                             00000FD7
TMR0IE                            00000005
TMR0IF                            00000002
TMR0IP                            00000002
TMR0L                             00000FD6
TMR0ON                            00000007
TMR1CS                            00000001
TMR1H                             00000FCF
TMR1IE                            00000000
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 139


SYMBOL TABLE
  LABEL                             VALUE 

TMR1IF                            00000000
TMR1IP                            00000000
TMR1L                             00000FCE
TMR1ON                            00000000
TMR2                              00000FCC
TMR2IE                            00000001
TMR2IF                            00000001
TMR2IP                            00000001
TMR2ON                            00000002
TMR3CS                            00000001
TMR3H                             00000FB3
TMR3IE                            00000001
TMR3IF                            00000001
TMR3IP                            00000001
TMR3L                             00000FB2
TMR3ON                            00000000
TMR4                              00000F78
TMR4IE                            00000003
TMR4IF                            00000003
TMR4IP                            00000003
TMR4ON                            00000002
TMR4intNum                        000000FF
TO                                00000003
TOS                               00000FFD
TOSH                              00000FFE
TOSL                              00000FFD
TOSU                              00000FFF
TPT                               00000336
TRIMP                             000000DD
TRISA                             00000F92
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISA6                            00000006
TRISA7                            00000007
TRISB                             00000F93
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000F94
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 140


SYMBOL TABLE
  LABEL                             VALUE 

TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRISD                             00000F95
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
TRISD6                            00000006
TRISD7                            00000007
TRISE                             00000F96
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRISE3                            00000003
TRISE4                            00000004
TRISE5                            00000005
TRISE6                            00000006
TRISE7                            00000007
TRISF                             00000F97
TRISF0                            00000000
TRISF1                            00000001
TRISF2                            00000002
TRISF3                            00000003
TRISF4                            00000004
TRISF5                            00000005
TRISF6                            00000006
TRISF7                            00000007
TRISG                             00000F98
TRISG0                            00000000
TRISG1                            00000001
TRISG2                            00000002
TRISG3                            00000003
TRISG4                            00000004
TRISH                             00000F99
TRISH0                            00000000
TRISH1                            00000001
TRISH2                            00000002
TRISH3                            00000003
TRISH4                            00000004
TRISH5                            00000005
TRISH6                            00000006
TRISH7                            00000007
TRISJ                             00000F9A
TRISJ0                            00000000
TRISJ1                            00000001
TRISJ2                            00000002
TRISJ3                            00000003
TRISJ4                            00000004
TRISJ5                            00000005
TRISJ6                            00000006
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 141


SYMBOL TABLE
  LABEL                             VALUE 

TRISJ7                            00000007
TRMT                              00000001
TTBH                              0000011A
TTMH                              0000011C
TTP                               000003CC
TTflag                            000000D2
TTpos                             0000013A
TUN0                              00000000
TUN1                              00000001
TUN2                              00000002
TUN3                              00000003
TUN4                              00000004
TX                                00000006
TX1                               00000006
TX1IE                             00000004
TX1IF                             00000004
TX1IP                             00000004
TX2                               00000001
TX2IE                             00000004
TX2IF                             00000004
TX2IP                             00000004
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXIP                              00000004
TXREG                             00000FAD
TXREG1                            00000FAD
TXREG2                            00000F6D
TXSTA                             00000FAC
TXSTA1                            00000FAC
TXSTA2                            00000F6C
Table1                            00000246
Table2                            00000251
Table3                            0000025C
Table4                            00000267
Table5                            00000272
Table6                            0000027D
Table7                            00000288
Table8                            00000293
TempBlock                         00000112
TestIO                            000003F8
TestIO1                           000004D2
TestIO2                           00000510
TestIOa                           0000044A
TholdState                        000000FE
ThtEle                            00000416
ThtTCenterBeepFlag                000002D7
ThtTrimCh                         000002B5
Tick                              00000057
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 142


SYMBOL TABLE
  LABEL                             VALUE 

TicksPer                          000002D4
TimeOut                           00000060
TimeOut1                          00000061
TimeOut2                          00000062
TimeOut3                          000000A7
TimeOut4                          000000A8
TimeOut5                          000000A9
Timer4ISR                         0000058C
Timer4exit                        000005B6
Timer4next                        000005A8
TimerCount                        000000ED
Tnorm                             00000427
Tpos                              0000007B
TposActual                        000000FC
TposM                             00000099
Tpreset                           00000338
TrimBeepSignChange                00000157
TrimCenterBeepFlag                000002D3
TrimZeroAil                       000003A7
TrimZeroEle                       000003A9
TrimZeroRud                       000003AB
Try8                              00000916
TstepSize                         0000043F
Tthres                            000003C1
TtransistionT                     00000441
Ttrim                             0000008B
TtrimCT                           00000239
TtrimHG                           00000237
TtrimLast                         00000151
UA                                00000001
UB                                00000007
Umins                             000000D1
Units                             00000140
Usecs                             000000D0
VCFG0                             00000004
VCFG1                             00000005
VDIRMAG                           00000007
VREFM                             00000002
VREFP                             00000003
VRmonG                            000002A9
VTAIL                             00000398
Vbat                              0000008D
Version                           00000158
VmonG                             00000213
VoltageLimit                      00002260
W                                 00000000
WAIT0                             00000004
WAIT1                             00000005
WCOL                              00000007
WDTCON                            00000FD1
WM0                               00000000
WM1                               00000001
WR                                00000001
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 143


SYMBOL TABLE
  LABEL                             VALUE 

WREG                              00000FE8
WREN                              00000002
WRERR                             00000003
WRH                               00000003
WRL                               00000002
WUE                               00000001
YESNO                             000000E1
YNPOS                             00000044
YPOS                              00000040
Z                                 00000002
_ADDRBW_ADDR12BIT_3L              000000DF
_ADDRBW_ADDR16BIT_3L              000000EF
_ADDRBW_ADDR20BIT_3L              000000FF
_ADDRBW_ADDR8BIT_3L               000000CF
_BBSIZ_BB2K_4L                    000000CF
_BBSIZ_BB4K_4L                    000000DF
_BBSIZ_BB8K_4L                    000000FF
_BOREN_NOSLP_2L                   000000FD
_BOREN_OFF_2L                     000000F9
_BOREN_ON_2L                      000000FB
_BOREN_SBORDIS_2L                 000000FF
_BORV_0_2L                        000000E7
_BORV_1_2L                        000000EF
_BORV_2_2L                        000000F7
_BORV_3_2L                        000000FF
_C                                ALUSTA,0
_CCP2MX_PORTBE_3H                 000000FE
_CCP2MX_PORTC_3H                  000000FF
_CONFIG1H                         00300001
_CONFIG2H                         00300003
_CONFIG2L                         00300002
_CONFIG3H                         00300005
_CONFIG3L                         00300004
_CONFIG4L                         00300006
_CONFIG5H                         00300009
_CONFIG5L                         00300008
_CONFIG6H                         0030000B
_CONFIG6L                         0030000A
_CONFIG7H                         0030000D
_CONFIG7L                         0030000C
_CP0_OFF_5L                       000000FF
_CP0_ON_5L                        000000FE
_CP1_OFF_5L                       000000FF
_CP1_ON_5L                        000000FD
_CP2_OFF_5L                       000000FF
_CP2_ON_5L                        000000FB
_CP3_OFF_5L                       000000FF
_CP3_ON_5L                        000000F7
_CP4_OFF_5L                       000000FF
_CP4_ON_5L                        000000EF
_CP5_OFF_5L                       000000FF
_CP5_ON_5L                        000000DF
_CP6_OFF_5L                       000000FF
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 144


SYMBOL TABLE
  LABEL                             VALUE 

_CP6_ON_5L                        000000BF
_CP7_OFF_5L                       000000FF
_CP7_ON_5L                        0000007F
_CPB_OFF_5H                       000000FF
_CPB_ON_5H                        000000BF
_CPD_OFF_5H                       000000FF
_CPD_ON_5H                        0000007F
_DATABW_DATA16BIT_3L              000000FF
_DATABW_DATA8BIT_3L               000000BF
_DC                               ALUSTA,1
_DEBUG_OFF_4L                     000000FF
_DEBUG_ON_4L                      0000007F
_DEVID1                           003FFFFE
_DEVID2                           003FFFFF
_EBTR0_OFF_7L                     000000FF
_EBTR0_ON_7L                      000000FE
_EBTR1_OFF_7L                     000000FF
_EBTR1_ON_7L                      000000FD
_EBTR2_OFF_7L                     000000FF
_EBTR2_ON_7L                      000000FB
_EBTR3_OFF_7L                     000000FF
_EBTR3_ON_7L                      000000F7
_EBTR4_OFF_7L                     000000FF
_EBTR4_ON_7L                      000000EF
_EBTR5_OFF_7L                     000000FF
_EBTR5_ON_7L                      000000DF
_EBTR6_OFF_7L                     000000FF
_EBTR6_ON_7L                      000000BF
_EBTR7_OFF_7L                     000000FF
_EBTR7_ON_7L                      0000007F
_EBTRB_OFF_7H                     000000FF
_EBTRB_ON_7H                      000000BF
_ECCPMX_PORTE_3H                  000000FF
_ECCPMX_PORTH_3H                  000000FD
_FCMEN_OFF_1H                     000000BF
_FCMEN_ON_1H                      000000FF
_IDLOC0                           00200000
_IDLOC1                           00200001
_IDLOC2                           00200002
_IDLOC3                           00200003
_IDLOC4                           00200004
_IDLOC5                           00200005
_IDLOC6                           00200006
_IDLOC7                           00200007
_IESO_OFF_1H                      0000007F
_IESO_ON_1H                       000000FF
_LPT1OSC_OFF_3H                   000000FB
_LPT1OSC_ON_3H                    000000FF
_LVP_OFF_4L                       000000FB
_LVP_ON_4L                        000000FF
_MCLRE_OFF_3H                     0000007F
_MCLRE_ON_3H                      000000FF
_MODE_EM_3L                       000000FC
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 145


SYMBOL TABLE
  LABEL                             VALUE 

_MODE_MC_3L                       000000FF
_MODE_MPB_3L                      000000FD
_MODE_MP_3L                       000000FE
_OSC_ECIO6_1H                     000000F5
_OSC_EC_1H                        000000F4
_OSC_HSPLL_1H                     000000F6
_OSC_HS_1H                        000000F2
_OSC_INTIO67_1H                   000000F8
_OSC_INTIO7_1H                    000000F9
_OSC_LP_1H                        000000F0
_OSC_RCIO6_1H                     000000F7
_OSC_RC_1H                        000000F3
_OSC_XT_1H                        000000F1
_OV                               ALUSTA,3
_PWRT_OFF_2L                      000000FF
_PWRT_ON_2L                       000000FE
_STVREN_OFF_4L                    000000FE
_STVREN_ON_4L                     000000FF
_WAIT_OFF_3L                      000000FF
_WAIT_ON_3L                       0000007F
_WDTPS_1024_2H                    000000F5
_WDTPS_128_2H                     000000EF
_WDTPS_16384_2H                   000000FD
_WDTPS_16_2H                      000000E9
_WDTPS_1_2H                       000000E1
_WDTPS_2048_2H                    000000F7
_WDTPS_256_2H                     000000F1
_WDTPS_2_2H                       000000E3
_WDTPS_32768_2H                   000000FF
_WDTPS_32_2H                      000000EB
_WDTPS_4096_2H                    000000F9
_WDTPS_4_2H                       000000E5
_WDTPS_512_2H                     000000F3
_WDTPS_64_2H                      000000ED
_WDTPS_8192_2H                    000000FB
_WDTPS_8_2H                       000000E7
_WDT_OFF_2H                       000000FE
_WDT_ON_2H                        000000FF
_WRT0_OFF_6L                      000000FF
_WRT0_ON_6L                       000000FE
_WRT1_OFF_6L                      000000FF
_WRT1_ON_6L                       000000FD
_WRT2_OFF_6L                      000000FF
_WRT2_ON_6L                       000000FB
_WRT3_OFF_6L                      000000FF
_WRT3_ON_6L                       000000F7
_WRT4_OFF_6L                      000000FF
_WRT4_ON_6L                       000000EF
_WRT5_OFF_6L                      000000FF
_WRT5_ON_6L                       000000DF
_WRT6_OFF_6L                      000000FF
_WRT6_ON_6L                       000000BF
_WRT7_OFF_6L                      000000FF
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 146


SYMBOL TABLE
  LABEL                             VALUE 

_WRT7_ON_6L                       0000007F
_WRTB_OFF_6H                      000000FF
_WRTB_ON_6H                       000000BF
_WRTC_OFF_6H                      000000FF
_WRTC_ON_6H                       000000DF
_WRTD_OFF_6H                      000000FF
_WRTD_ON_6H                       0000007F
_XINST_OFF_4L                     000000BF
_XINST_ON_4L                      000000FF
_Z                                ALUSTA,2
__18F8722                         00000001
chAIL                             0000003E
chCH5                             00000044
chCH6                             00000046
chCH7                             00000048
chCH8                             0000004A
chELE                             0000003C
chRUD                             00000040
chTHT                             00000042
i                                 00000020
mainStartup                       0000039E
modeCAL                           00000002
modeRUN                           00000001
uSPOS                             00000041


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0200 : XXXX----XXXX---- --------XXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0480 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
04C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0500 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0540 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0580 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
05C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0600 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0640 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 147


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


0680 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
06C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0700 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0740 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0780 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
07C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0800 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0840 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0880 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
08C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0900 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0940 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0980 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
09C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0A80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0AC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0B80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0BC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0C00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0C40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0C80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0CC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0D00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0D40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0D80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0DC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0E00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0E40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0E80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0EC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0F00 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0F40 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0F80 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0FC0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1000 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
10C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
11C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
MPASM  5.03                  MICROPROSTAR.ASM   1-29-2010  21:08:12         PAGE 148


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


1200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
12C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
13C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1480 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
14C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1500 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1540 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1580 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
15C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1600 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1640 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1680 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
16C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1700 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1740 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1780 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
17C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
1800 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXX----------

All other memory blocks unused.

Program Memory Bytes Used:  5670
Program Memory Bytes Free: 2091482


Errors   :     0
Warnings :     0 reported,   346 suppressed
Messages :     0 reported,     1 suppressed

